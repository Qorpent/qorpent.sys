#!/bin/sh
trg=./src/js/leaflet-amd.js
echo "define([],function(){" > $trg
echo "if ( typeof window === 'undefined' ) return null;" >> $trg
cat ./src/js/tmp-import/leaflet-src.js >> $trg
echo "" >> $trg
echo "return L;" >> $trg
echo "});" >> $trg

trg=./src/js/leaflet-awesome-amd.js
echo "define(['leaflet-amd'],function(){" > $trg
echo "if ( typeof window === 'undefined' ) return null;" >> $trg
cat ./src/js/tmp-import/leaflet.awesome-markers.js >> $trg
echo "" >> $trg
echo "return L;" >> $trg
echo "});" >> $trg

trg=./src/js/leaflet-draw-amd.js
echo "define(['leaflet-amd'],function(){" > $trg
echo "if ( typeof window === 'undefined' ) return null;" >> $trg
cat ./src/js/tmp-import/leaflet.draw-src.js >> $trg
echo "" >> $trg
echo "return L;" >> $trg
echo "});" >> $trg

trg=./src/js/leaflet-markercluster-amd.js
echo "define(['leaflet-amd'],function(){" > $trg
echo "if ( typeof window === 'undefined' ) return null;" >> $trg
cat ./src/js/tmp-import/leaflet.markercluster-src.js >> $trg
echo "" >> $trg
echo "return L;" >> $trg
echo "});" >> $trg