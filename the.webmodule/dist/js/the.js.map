{"version":3,"file":"the.js","sources":["the-root.js","the-object.js","the-interpolation.js","the-jsonify.js","the-http.js","the-expression.js","the-collections-core.js","the-collections-layered.js","the-collections-linked.js","the-collections-history.js","the-collections-linq.js","the-action.js","the-angular.js","the-angular-unsafe.js","autocomplete-html.js","the-angular-autocomplete.js","the-angular-controlgroup.js","the-angular-viewcontext.js","the-angular-onenter.js","the-design-stackedbutton.js","the-wiki.js","the-menu.js","the-settings.js","the-errorcatcher.js","the-refresh.js","the-print.js","the-dates.js","the-hash.js","the-report.js","the.js"],"names":[],"mappings":"AAIA,OAAA,cAAA,WAEA,GAAA,MACA,EAAA,SAAA,GAIA,MAHA,IACA,EAAA,EAAA,GAEA,GAEA,EAAA,UACA,oBAAA,UACA,EAAA,OAAA,WAEA,IAAA,GAAA,SAAA,GACA,EAAA,EAAA,GAEA,GAAA,QAAA,EACA,EAAA,KAAA,EAEA,EAAA,iBAAA,WACA,GAAA,mBAAA,QAAA,CACA,GAAA,mBAAA,GAAA,UAAA,OAAA,UACA,EAAA,SAAA,EAAA,UAAA,OAAA,QACA,mBAAA,GAAA,SAAA,SAAA,CACA,EAAA,SAAA,OAAA,sBACA,IAAA,GAAA,QAAA,UAAA,mBAAA,MACA,GAAA,SAAA,QAAA,EAAA,IAAA,SAGA,EAAA,QAAA,EAAA,SAAA,OAAA,IAIA,EAAA,cACA,OACA,QAAA,SAAA,EAAA,GACA,KAAA,IAAA,GAAA,GAEA,QAAA,SAAA,GACA,MAAA,MAAA,IAAA,IAEA,MAAA,WACA,KAAA,QAKA,IAAA,GAAA,GAAA,MACA,EAAA,MAAA,EAAA,cAAA,IAAA,EAAA,WAAA,IAAA,EAAA,UAAA,IAAA,EAAA,UAGA,IAFA,EAAA,IAAA,EAEA,mBAAA,UAAA,CACA,GAAA,GAAA,SAAA,cAAA,yBACA,IAAA,EAAA,CACA,GAAA,GAAA,EAAA,aAAA,YACA,KAEA,EAAA,IAAA,EAAA,MAAA,YAAA,EAAA,MAMA,MAAA,KC/DA,OAAA,cAAA,YAAA,SAAA,GACA,MAAA,GAAA,SAAA,GACA,GAAA,GAAA,SAAA,GACA,MAAA,gBAAA,IAIA,KAAA,eAAA,EACA,KAAA,YAAA,EACA,KAAA,YAAA,EACA,KAAA,MAAA,EACA,KAAA,OAAA,EACA,KAAA,gBAAA,EACA,KAAA,WAAA,EACA,KAAA,OAAA,SAAA,GACA,QAAA,GAEA,GACA,EAAA,OAAA,OAAA,KAAA,GAEA,MAhBA,YAAA,GAAA,EACA,GAAA,GAAA,GAiBA,GAAA,QAAA,GAAA,GACA,EAAA,cAAA,GAAA,GACA,EAAA,cAAA,YAAA,EACA,EAAA,aAAA,GAAA,GACA,EAAA,aAAA,gBAAA,EACA,EAAA,YAAA,GAAA,GACA,EAAA,YAAA,YAAA,EACA,EAAA,YAAA,eAAA,EACA,EAAA,YAAA,YAAA,EACA,EAAA,YAAA,gBAAA,EACA,EAAA,aAAA,GAAA,GACA,EAAA,aAAA,YAAA,EACA,EAAA,aAAA,MAAA,EACA,EAAA,YAAA,eAAA,EACA,EAAA,aAAA,YAAA,EACA,EAAA,aAAA,gBAAA,EAEA,EAAA,OAAA,EAAA,WACA,EAAA,OAAA,cAAA,CAEA,EAAA,GAAA,GAAA,EAAA,OAAA,MAAA,SAAA,GAEA,IADA,GAAA,KAAA,EAAA,EAAA,EAAA,IAAA,GAAA,GAAA,IAAA,SAAA,KAAA,UAAA,GAAA,SAAA,IACA,EAAA,OAAA,GAAA,EAAA,IAAA,CACA,OAAA,IAGA,EAAA,EAAA,OAAA,WAAA,SAAA,GACA,GAAA,MAAA,EAAA,MAAA,KACA,IAAA,MAAA,QAAA,GAAA,MAAA,EACA,IAAA,kBAAA,GAAA,MAAA,EACA,IAAA,gBAAA,GAAA,MAAA,EACA,IAAA,MACA,IACA,KAAA,GAAA,KAAA,GACA,EAAA,eAAA,IACA,EAAA,KAAA,EAGA,GAAA,MACA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,EAAA,IAAA,EAAA,EAAA,GAEA,OAAA,GAGA,GAAA,OAAA,MAAA,SAAA,EAAA,GACA,MAAA,GAAA,OAAA,OAAA,IAAA,EAAA,OAAA,OAAA,IAGA,EAAA,OAAA,OAAA,SAAA,GAGA,IAAA,GADA,MACA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,KAAA,UAAA,EACA,IAAA,GAAA,KAAA,UAAA,EAAA,GACA,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,IAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,IAAA,EAAA,IAAA,KAAA,EAAA,IAAA,IACA,EAAA,IAAA,EAAA,WAAA,IAAA,EAAA,GAAA,GACA,EAAA,GAAA,EAAA,GAAA,EAAA,EAGA,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,GAAA,EAAA,EAAA,GAEA,OAAA,GAAA,KAAA,KAGA,EAAA,OAAA,OAAA,SAAA,EAAA,EAAA,GAKA,GAJA,EAAA,EAAA,IAAA,EAAA,QACA,EAAA,QACA,EAAA,EAAA,UAAA,EAAA,EAAA,eAEA,mBAAA,IAAA,OAAA,EAAA,MAAA,EACA,IAEA,GAFA,KACA,IAEA,KAAA,IAAA,GAEA,EAAA,eAAA,KACA,EAAA,GAAA,EACA,EAAA,aACA,EAAA,EAAA,eAAA,GAGA,KAAA,IAAA,GAEA,EAAA,eAAA,IACA,EAAA,OAAA,EAAA,EAAA,GAAA,KACA,EAAA,WAAA,kBAAA,GAAA,MACA,EAAA,GAAA,EAAA,cAGA,KAAA,IAAA,GACA,GAAA,EAAA,eAAA,GAAA,CACA,GAAA,IAAA,EACA,EAAA,EAAA,EAIA,IAHA,mBAAA,KAAA,EAAA,EAAA,EAAA,gBACA,mBAAA,KAAA,GAAA,IACA,GAAA,EAAA,aAAA,EAAA,GACA,mBAAA,GAAA,CACA,GAAA,GAAA,EAAA,EACA,GAAA,gBAAA,EAAA,EAAA,MACA,EAAA,GAAA,EAAA,MAAA,EAAA,KAEA,EAAA,gBAAA,EAAA,KACA,EAAA,EAAA,MAAA,IAEA,GAAA,EAAA,MAAA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,OAAA,EAAA,GAAA,EAAA,GAGA,EAAA,GAAA,GAIA,MAAA,IAEA,EAAA,eAAA,SAAA,GACA,GAAA,OAAA,EAAA,OAAA,CACA,IAAA,KAAA,EAAA,OAAA,CACA,IAAA,IAAA,EAAA,OAAA,CACA,KAAA,IAAA,EAAA,OAAA,CACA,IAAA,MAAA,QAAA,IAAA,GAAA,EAAA,OAAA,OAAA,CACA,IAAA,EAAA,aAAA,GAAA,CACA,GAAA,IAAA,CACA,KAAA,GAAA,KAAA,GACA,GAAA,EAAA,eAAA,GAAA,CACA,GAAA,CACA,OAGA,OAAA,EAEA,OAAA,GAEA,EAAA,aAAA,EAAA,OAAA,aAAA,SAAA,GACA,MAAA,mBAAA,IAAA,OAAA,GAAA,EACA,gBAAA,IAAA,EACA,YAAA,SAAA,IACA,YAAA,OAGA,IAAA,GAAA,EAAA,aACA,EAAA,EAAA,MAOA,GAAA,OAAA,OAAA,SAAA,EAAA,EAAA,GACA,EAAA,GAAA,EAAA,aACA,IAAA,EACA,IAAA,MAAA,QAAA,GAAA,CACA,EAAA,OAAA,OAAA,EAAA,UACA,IAAA,GAAA,EAAA,WAAA,EAAA,UAAA,SAOA,OANA,IAAA,GAAA,EAAA,QAAA,gBAAA,GAAA,IACA,EAAA,MAAA,MACA,EAAA,MAAA,GAAA,EAAA,MAEA,EAAA,MAAA,EAAA,GAEA,EACA,MAAA,kBAAA,IAEA,EAAA,EAAA,GACA,EAAA,KAAA,EAAA,IACA,gBAAA,IAAA,YAAA,QACA,EAAA,KAAA,GAAA,KAEA,EAAA,OAAA,OAAA,EAAA,WACA,EAAA,MAAA,MACA,EAAA,OAAA,EAAA,EAAA,GACA,IAYA,EAAA,OAAA,KAAA,SAAA,EAAA,EAAA,GACA,MAAA,aAAA,GAAA,GACA,EAAA,GAAA,EAAA,YACA,MAAA,GAAA,mBAAA,GACA,EAAA,cAAA,EAAA,OAAA,MACA,KAEA,EAAA,OAAA,OAAA,EAAA,EAAA,KAGA,EAAA,OAAA,WAAA,SAAA,GACA,IAAA,GAAA,KAAA,GACA,EAAA,eAAA,IAAA,gBAAA,GAAA,IAAA,OAAA,GAAA,IACA,OAAA,eAAA,EAAA,EAAA,EAAA,GAGA,OAAA,IAGA,EAAA,OAAA,MAAA,SAAA,GAEA,GAAA,MAAA,QAAA,GAAA,CAEA,IAAA,GADA,MACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,KAAA,EAAA,OAAA,MAAA,EAAA,IAEA,OAAA,GAEA,MAAA,aAAA,GAAA,MAAA,GAAA,EAAA,aAAA,GAEA,EAAA,UAAA,EAAA,EAAA,cAFA,GAIA,EAAA,KAAA,EAAA,OAAA,KACA,EAAA,OAAA,EAAA,OAAA,OACA,EAAA,OAAA,EAAA,OAAA,OACA,EAAA,MAAA,EAAA,OAAA,MACA,EAAA,OAAA,EAAA,OAAA,WCrPA,OAAA,qBAAA,cAAA,SAAA,GACA,MAAA,GAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,oBAAA,SAAA,EAAA,EAAA,GACA,MAAA,GAAA,QAAA,EAAA,WAAA,SAAA,GACA,GAAA,GAAA,EAAA,UAAA,EAAA,EAAA,OAAA,GACA,EAAA,EAAA,oBAAA,EAAA,IAAA,GAAA,EAAA,EACA,OAAA,mBAAA,GACA,GAEA,OAAA,EACA,EAAA,GACA,kBAAA,GACA,EAAA,EAAA,MAAA,MACA,gBAAA,KACA,EAAA,KAAA,UAAA,IAEA,MAIA,EAAA,EAAA,oBAAA,SAAA,EAAA,EAAA,GAKA,IAJA,GAGA,GAHA,EAAA,EAAA,MAAA,GACA,EAAA,EAAA,EAAA,EAAA,GACA,EAAA,IAEA,CACA,GAAA,IAAA,GAAA,GAAA,KACA,GAAA,EAAA,EAAA,EACA,IAAA,GAAA,EAAA,EAAA,EACA,IAAA,GAAA,EAAA,OAAA,KACA,KAAA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,EAAA,GAAA,IAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAGA,IAAA,IAAA,GACA,EAAA,eAAA,IACA,EAAA,aAAA,EAAA,MACA,EAAA,GAAA,EAAA,EAAA,GAAA,EAAA,GAIA,OAAA,IAGA,EAAA,SAAA,EAAA,GACA,GAAA,KACA,KAAA,GAAA,KAAA,GACA,GAAA,EAAA,eAAA,IACA,gBAAA,GAAA,GAAA,CACA,GAAA,GAAA,EAAA,EACA,GAAA,MAAA,EAAA,aACA,EAAA,MAAA,EAAA,IAEA,MAAA,IAGA,EAAA,SAAA,EAAA,EAAA,GACA,EAAA,oBACA,EAAA,MAAA,GAEA,EAAA,OAAA,EAAA,IAIA,EAAA,SAAA,EAAA,EAAA,GACA,GAAA,GAAA,IAMA,OAJA,GADA,EAAA,oBACA,GAAA,GAAA,kBAAA,GAEA,EAAA,MAAA,GAKA,GAAA,YAAA,SAAA,EAAA,EAAA,GACA,MAAA,mBAAA,IAAA,MAAA,EAAA,MACA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,MACA,gBAAA,GAAA,GACA,EAAA,aAAA,EAAA,YAAA,mBAAA,YAAA,GAAA,YAAA,oBACA,EAAA,qBAAA,EACA,EAAA,kBAAA,EAAA,YAAA,mBAEA,gBAAA,GACA,EAAA,EAAA,EAAA,GAEA,EAAA,aAAA,GACA,EAAA,EAAA,EAAA,GADA,IAGA,IAAA,GAAA,EAAA,YAAA,qBAAA,WACA,KAAA,OAAA,IACA,KAAA,MAAA,IACA,KAAA,OAAA,IACA,KAAA,qBAAA,EACA,KAAA,MAAA,KACA,KAAA,SAAA,WACA,MAAA,MAAA,QAAA,KAAA,MAAA,GAAA,QAAA,KAAA,KAAA,OAAA,KAAA,KAAA,MAAA,OAAA,KAAA,OAAA,OAAA,KAAA,OAAA,YC/FA,OAAA,eAAA,cAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,GAAA,GAAA,EAAA,QAAA,SAAA,EAAA,GACA,GAAA,GACA,CACA,IAAA,mBAAA,IAAA,MAAA,EAAA,MAAA,KACA,IAAA,kBAAA,GACA,MAAA,GAAA,UAMA,IAJA,EAAA,EAAA,KAAA,EAAA,GACA,EAAA,QAAA,EAAA,aACA,EAAA,OAAA,EAAA,WAAA,EAAA,SAEA,MAAA,QAAA,GAAA,CAEA,IADA,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,KAAA,EAAA,EAAA,GAAA,GAEA,OAAA,GACA,GAAA,EAAA,aAAA,GAAA,CACA,IACA,IAAA,GAAA,CACA,IAAA,EAAA,YAAA,CACA,IAAA,EAAA,YAAA,KAAA,wDACA,GAAA,EAAA,YAAA,GAEA,IAAA,GAAA,KAAA,GACA,GAAA,EAAA,eAAA,KACA,EAAA,UAAA,MAAA,EAAA,UAAA,EAAA,OACA,EAAA,QAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,CACA,GAAA,GAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EACA,oBAAA,KACA,EAAA,GAAA,GAGA,MAAA,GACA,MAAA,gBAAA,GACA,EAAA,WAEA,GAKA,EAAA,EAAA,SAAA,SAAA,EAAA,EAAA,EAAA,GACA,GAAA,mBAAA,GAAA,MAAA,OACA,IAAA,OAAA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,MACA,KAAA,EAAA,UAAA,EAAA,eAAA,GAAA,MAAA,OACA,IAAA,kBAAA,GACA,MAAA,GAAA,MAAA,SAAA,EAAA,SAAA,OACA,EAAA,cACA,EAAA,EAAA,MAAA,OAEA,EAAA,UACA,EAAA,UAAA,EAAA,WACA,EAFA,MAIA,IAAA,MAAA,QAAA,GACA,MAAA,GAAA,EACA,IAAA,EAAA,aAAA,GAAA,CACA,GAAA,GAAA,EAAA,EAIA,OAHA,GAAA,YACA,EAAA,KAAA,UAAA,IAEA,EAEA,MAAA,gBAAA,IACA,EAAA,UAAA,EAAA,WAGA,GAGA,EAAA,EAAA,eAAA,WACA,KAAA,WAAA,EACA,KAAA,aAAA,EACA,KAAA,WAAA,EACA,KAAA,OAAA,EACA,KAAA,UAAA,EACA,KAAA,OAAA,KACA,KAAA,eAAA,EACA,KAAA,UAAA,OCnFA,OAAA,YAAA,cAAA,SAAA,GACA,MAAA,GAAA,SAAA,EAAA,GAEA,GAAA,GAAA,EAAA,OAAA,cAAA,aACA,EAAA,EAAA,QACA,EAAA,EAAA,KACA,EAAA,EAAA,KAAA,SAAA,GACA,IACA,GAAA,GAAA,EAAA,yBACA,EAAA,EAAA,KAAA,EAAA,EAAA,EAAA,OAAA,cAAA,aACA,GAAA,UAAA,EAAA,SACA,IAAA,GAAA,EAAA,WAAA,CACA,OAAA,GAAA,QAAA,GACA,MAAA,GAIA,MAHA,GAAA,OACA,EAAA,MAAA,GAEA,OAIA,EAAA,EAAA,qBACA,GAAA,YAAA,SAAA,GAEA,MADA,GAAA,KAAA,GACA,GAEA,EAAA,eAAA,SAAA,GACA,GAAA,GAAA,EAAA,QAAA,EAIA,OAHA,IAAA,GACA,EAAA,OAAA,EAAA,GAEA,GAGA,EAAA,eAAA,WAEA,MADA,GAAA,EAAA,sBACA,KAIA,IAAA,GAAA,EAAA,UAAA,aAGA,EAAA,EAAA,QAAA,WACA,KAAA,IAAA,IACA,KAAA,UACA,KAAA,WACA,KAAA,iBAAA,EACA,KAAA,QAAA,EACA,KAAA,SAAA,GACA,KAAA,SAAA,GACA,KAAA,OAAA,MACA,KAAA,YAAA,oDAGA,EAAA,EAAA,SAAA,SAAA,EAAA,GACA,EAAA,EAAA,KAAA,EAAA,EAAA,GACA,KAAA,QAAA,EACA,KAAA,UAAA,EACA,KAAA,WAAA,EACA,KAAA,UAAA,EACA,KAAA,SAAA,EACA,KAAA,SAAA,EACA,KAAA,MAAA,KACA,KAAA,OAAA,KAEA,GAAA,UAAA,OAAA,SAAA,GACA,GAAA,GAAA,KACA,EAAA,CACA,YAAA,EACA,EAAA,QAAA,SACA,EAAA,WACA,EAAA,QAAA,QAAA,EAAA,OAAA,MAGA,SAAA,GAAA,WAAA,IACA,EAAA,QAAA,OACA,EAAA,WACA,EAAA,QAAA,MAAA,EAAA,MAAA,IAIA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,SAAA,GACA,EAAA,GAAA,EAAA,IACA,KAAA,MAAA,MAGA,EAAA,UAAA,QAAA,WACA,GAAA,GAAA,IACA,MAAA,QAAA,SACA,EAAA,WACA,EAAA,UACA,EAAA,WAAA,EACA,EAAA,SAAA,EACA,EAAA,MAAA,UACA,EAAA,OAAA,aACA,KAAA,QAAA,QAEA,KACA,KAAA,OAAA,SACA,KAAA,UAAA,SAAA,KAAA,QAAA,SAAA,EAAA,GACA,EAAA,YACA,EAAA,UAAA,EACA,EAAA,SAAA,EACA,EAAA,aAAA,EACA,EAAA,OAAA,EAEA,EAAA,OAAA,aACA,SAAA,EAAA,GACA,EAAA,YACA,EAAA,UAAA,EACA,EAAA,aAAA,EACA,EAAA,SAAA,EACA,EAAA,MAAA,EACA,EAAA,OAAA,YAEA,MAAA,GACA,EAAA,SAAA,EACA,EAAA,MAAA,EACA,EAAA,UAAA,EACA,EAAA,OAAA,SAEA,MAAA,OAIA,EAAA,UAAA,QAAA,SAAA,GACA,GAAA,GAAA,GAAA,GAAA,EAAA,KACA,OAAA,GAAA,WAGA,EAAA,UAAA,SAAA,WACA,KAAA,4BAGA,IAAA,GAAA,EAAA,gBAAA,WACA,EAAA,KAAA,MAEA,GAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,SAAA,SAAA,EAAA,EAAA,GACA,EAAA,kBACA,IAAA,KAkBA,OAjBA,GAAA,IAAA,EAAA,IACA,EAAA,YAAA,EAAA,aAAA,mDACA,EAAA,KAAA,EAAA,WACA,EAAA,QAAA,EAAA,YACA,EAAA,YAAA,EACA,EAAA,SAAA,EAAA,UAAA,GACA,EAAA,QAAA,EAAA,SAAA,EACA,EAAA,KAAA,EAAA,QAAA,MACA,EAAA,SAAA,EAAA,UAAA,GACA,EAAA,UAAA,EAAA,eACA,EAAA,UAAA,kBAAA,EAAA,kBAAA,EACA,EAAA,MAAA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,IAEA,EAAA,QAAA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,IAEA,EAAA,QAAA,KAAA,GAIA,IAAA,GAAA,EAAA,iBAAA,WACA,EAAA,KAAA,MAEA,GAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,SAAA,SAAA,EAAA,EAAA,GACA,EAAA,kBACA,IAAA,KAUA,OATA,GAAA,IAAA,EAAA,IACA,EAAA,OAAA,EAAA,QAAA,MACA,QAAA,EAAA,OACA,EAAA,KAAA,EAAA,eAEA,EAAA,OAAA,EAAA,eAEA,EAAA,QAAA,EAAA,YACA,EAAA,kBAAA,EAAA,kBAAA,EACA,EAAA,SAAA,QAAA,GAAA,QAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,OAAA,MACA,MAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,GAAA,OAAA,EAAA,QAAA,EAAA,OAAA,MAIA,IAAA,GAAA,EAAA,aAAA,WACA,EAAA,KAAA,MAEA,GAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,SAAA,SAAA,EAAA,EAAA,GACA,GAAA,MAAA,qBAIA,EAAA,iBAAA,KAEA,EAAA,uBAAA,WAEA,MADA,GAAA,mBACA,MAAA,EAAA,iBAAA,EAAA,iBAGA,EAAA,iBADA,EAAA,QACA,GAAA,GAEA,EAAA,SACA,GAAA,GAEA,GAAA,QChNA,OAAA,kBAAA,cAAA,SAAA,MACA,MAAA,MAAA,SAAA,MACA,GAAA,UAAA,WACA,KAAA,KAAA,QACA,KAAA,UAAA,EACA,KAAA,KAAA,EACA,KAAA,IAAA,EACA,KAAA,SAAA,EAEA,UAAA,UAAA,SAAA,GACA,KAAA,KAAA,EAEA,IAAA,GAAA,SAAA,EAAA,GACA,GAAA,mBAAA,IAAA,MAAA,EAAA,MAAA,KAEA,IADA,EAAA,KAAA,KAAA,SAAA,GACA,kBAAA,GAKA,MAJA,GAAA,cACA,GAAA,EAAA,UACA,EAAA,iBAAA,GAEA,CAGA,KAAA,EAAA,WAAA,eAAA,EAAA,MAAA,KAAA,uBAAA,EAAA,IACA,GAAA,eAAA,0BACA,EAAA,sBAAA,EACA,gBAAA,KACA,EAAA,uBAAA,EAAA,MAAA,uBAGA,IAAA,GAAA,EAAA,WAAA,EAAA,MAAA,EAAA,EAEA,OADA,GAAA,cACA,EAIA,GAAA,aAAA,WACA,MAAA,SAGA,EAAA,iBAAA,SAAA,GACA,EAAA,WAAA,EAAA,eACA,EAAA,WAAA,MAAA,kCACA,EAAA,WAAA,UAAA,IAIA,EAAA,cAEA,EAAA,WAAA,MAAA,SAAA,KAAA,SACA,GAAA,QAAA,IACA,IAAA,gBAAA,OAAA,gBAAA,QAAA,QAAA,qBACA,GAAA,QAAA,QAIA,CACA,GAAA,SAAA,IACA,QAAA,WACA,MAAA,IAAA,SAAA,GACA,WACA,QARA,QAAA,SAAA,GACA,MAAA,IAAA,UAUA,IAAA,gBAAA,MAAA,CACA,GAAA,UAAA,IACA,MAAA,MAAA,OAAA,SAAA,IAAA,UACA,SAAA,kCAAA,SAAA,8BACA,OAAA,KAAA,cAEA,QADA,eAAA,QACA,SAAA,GACA,QAAA,EAAA,MAAA,OAEA,MAAA,QAAA,MACA,QAAA,IACA,SAAA,GAEA,IAAA,GADA,IAAA,EACA,EAAA,EAAA,EAAA,KAAA,OAAA,IACA,IAAA,EAAA,KAAA,IAAA,GAAA,CACA,GAAA,CACA,OAGA,MAAA,IAGA,SAAA,GACA,IAAA,GAAA,GAAA,EAAA,EAAA,KAAA,OAAA,IACA,GAAA,EAAA,KAAA,IAAA,GAAA,OAAA,CAEA,QAAA,GAIA,QAAA,GACA,SAAA,GACA,IAAA,GAAA,KAAA,MACA,GAAA,KAAA,eAAA,GAAA,CACA,GAAA,GAAA,EAAA,KAAA,GACA,IAAA,KAAA,EAAA,IACA,GAAA,EAAA,GAAA,OAAA,MAEA,IAAA,EAAA,eAAA,IACA,EAAA,EAAA,IAAA,OAAA,EAKA,OAAA,GAGA,SAAA,GACA,GAAA,IAAA,CACA,KAAA,GAAA,KAAA,MACA,GAAA,KAAA,eAAA,GAAA,CACA,GAAA,GAAA,EAAA,KAAA,GACA,IAAA,KAAA,EAAA,IACA,IAAA,EAAA,GAAA,CACA,GAAA,CACA,YAEA,CACA,IAAA,EAAA,eAAA,GAKA,CACA,GAAA,CACA,OANA,IAAA,EAAA,EAAA,IAAA,CACA,GAAA,CACA,SASA,MAAA,GAMA,OADA,QAAA,eAAA,QACA,QAGA,KAAA,WAAA,EACA,KAAA,WAAA,kBAAA,SACA,KAAA,WAAA,OAAA,SAAA,EAAA,GACA,EAAA,WAAA,GAAA,OAIA,OAAA,wBAAA,cAAA,SAAA,GCxJA,MAAA,GAAA,SAAA,EAAA,GACA,GAAA,MACA,KAGA,EAAA,EAAA,cAAA,SAAA,EAAA,GACA,MAAA,GAAA,WACA,EAAA,WAAA,EAAA,GAEA,mBAAA,IAAA,MAAA,EACA,WACA,OAAA,GAEA,kBAAA,GACA,EAEA,SAAA,GACA,MAAA,KAAA,IAaA,EAAA,SAAA,EAAA,EAAA,GAoBA,GAnBA,KAAA,QAAA,EACA,KAAA,OAAA,EACA,KAAA,OAAA,GACA,KAAA,MAAA,GACA,KAAA,WAAA,EACA,IACA,EAAA,iBACA,KAAA,gBAAA,EAAA,EAAA,iBAEA,EAAA,WACA,KAAA,WAAA,GAEA,EAAA,WACA,KAAA,SAAA,EAAA,SAAA,KAAA,OAEA,EAAA,UACA,KAAA,QAAA,EAAA,QAAA,KAAA,QAGA,EACA,GAAA,YAAA,GACA,KAAA,iBAAA,MACA,IAAA,MAAA,QAAA,IAAA,gBAAA,GACA,KAAA,OAAA,MACA,IAAA,gBAAA,GACA,KAAA,QAAA,MACA,CACA,KAAA,QAAA,EACA,KAAA,aACA,KAAA,GAAA,KAAA,MAAA,QACA,KAAA,QAAA,eAAA,IACA,KAAA,WAAA,KAAA,IAQA,GAAA,UAAA,QAAA,SAAA,GACA,KAAA,OAGA,KAFA,GAAA,MACA,EAAA,EAAA,GACA,KAAA,KAAA,IACA,EAAA,KAAA,KAAA,QAEA,OAAA,GAIA,IAAA,GAAA,SAAA,EAAA,GACA,KAAA,IAAA,EACA,KAAA,MAAA,EAIA,GAAA,UAAA,KAAA,SAAA,GAQA,GAPA,KAAA,YACA,KAAA,WAAA,EACA,KAAA,SACA,KAAA,WAGA,EAAA,EAAA,GACA,KAAA,UAAA,EAAA,OAAA,CACA,MAAA,UAAA,GAAA,KAAA,YACA,KAAA,cACA,KAAA,UACA,KAAA,SAAA,OAGA,KAAA,cACA,KAAA,cAIA,KADA,GAAA,GAAA,OACA,CAEA,EADA,KAAA,OACA,KAAA,OAAA,KAAA,GAEA,KAAA,WAEA,KAAA,YAAA,CACA,IAAA,GAAA,CAMA,IALA,KAAA,aACA,EAAA,KAAA,WAAA,IAEA,KAAA,QAAA,EACA,KAAA,QACA,IAAA,EAAA,KACA,KAAA,EAOA,CACA,KAAA,SACA,KAAA,QAAA,KAAA,QAAA,KAAA,MAAA,KAEA,OAVA,GAAA,EAAA,KAAA,QAAA,KAAA,OAAA,CACA,KAAA,SACA,KAAA,QAAA,KAAA,QAAA,KAAA,MAAA,KAEA,QAUA,MAAA,KAAA,GAKA,EAAA,UAAA,KAAA,SAAA,GAEA,IADA,KAAA,QACA,KAAA,QAAA,CACA,GAAA,GAAA,EAAA,KAAA,QAAA,KAAA,MAAA,KAAA,YACA,IAAA,KAAA,EAAA,QAIA,EAAA,UAAA,SAAA,WACA,GAAA,KAAA,UAAA,EAAA,MAAA,EACA,IAAA,KAAA,iBACA,MAAA,MAAA,iBAAA,OACA,KAAA,iBAAA,QAEA,CACA,IAAA,KAAA,OAEA,MADA,MAAA,SACA,KAAA,QAAA,KAAA,OAAA,OACA,EAEA,KAAA,OAAA,KAAA,OACA,IAAA,KAAA,QAAA,CAEA,GADA,KAAA,SACA,KAAA,QAAA,KAAA,WAAA,OACA,MAAA,EAEA,IAAA,GAAA,KAAA,WAAA,KAAA,OACA,OAAA,IAAA,GAAA,EAAA,KAAA,QAAA,IACA,MAAA,MAAA,SACA,KAAA,SACA,KAAA,QAAA,KAAA,QACA,EAEA,KAAA,QAEA,GAKA,EAAA,UAAA,MAAA,WAoBA,MAnBA,MAAA,OAAA,GACA,KAAA,MAAA,GACA,KAAA,QAAA,EACA,KAAA,YAAA,OACA,KAAA,kBACA,KAAA,iBAAA,QAEA,KAAA,iBACA,KAAA,gBAAA,QAEA,KAAA,YACA,KAAA,QAAA,KACA,KAAA,WAAA,KACA,KAAA,YAAA,KACA,KAAA,eAAA,MAEA,KAAA,SACA,KAAA,UAEA,MAGA,EAAA,UAAA,YAAA,WACA,KAAA,QAAA,KAAA,iBAAA,UACA,KAAA,YAAA,EAAA,KAAA,SACA,KAAA,kBACA,KAAA,WAAA,KAAA,gBAAA,UACA,KAAA,eAAA,EAAA,KAAA,aAIA,IAAA,GAAA,SAAA,GACA,MAAA,aAAA,GAAA,EACA,GAAA,GAAA,GAsBA,IApBA,EAAA,YAAA,EACA,EAAA,aAAA,EACA,EAAA,iBAAA,EACA,EAAA,mBAAA,EACA,EAAA,OAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,QAAA,EACA,KAAA,GACA,EAAA,OAAA,EAAA,IAGA,EAAA,YAAA,SAAA,EAAA,GACA,GAAA,KAMA,OALA,GAAA,QAAA,SAAA,GACA,IAAA,GACA,EAAA,KAAA,KAGA,GAGA,EAAA,YAAA,CACA,GAAA,GAAA,EAAA,WAEA,KAAA,GAAA,KAAA,GACA,EAAA,eAAA,KACA,EAAA,GAAA,EAAA,IAIA,EAAA,YAAA,MCpPA,OAAA,2BAAA,wBAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,GAAA,GAAA,EAAA,OAAA,KAEA,EAAA,SAAA,EAAA,EAAA,GACA,MAAA,IAAA,EAAA,GACA,MAAA,IAAA,EAAA,GAAA,IACA,MAAA,IAAA,EAAA,GACA,KAAA,SAAA,KAAA,IAAA,OAAA,GAAA,IAAA,EACA,KAAA,SAAA,KAAA,IAAA,OAAA,GAAA,IAAA,EACA,KAAA,KAAA,KAAA,IAAA,OAAA,GAAA,IAAA,EACA,KAAA,SAAA,KAAA,IAAA,EAAA,GACA,KAAA,KAAA,SAAA,GACA,MAAA,IAAA,GAAA,KAAA,SAAA,EAAA,KAAA,SAAA,EAAA,EAAA,KAAA,KAAA,EAAA,KAAA,QAGA,EAAA,WACA,GAAA,mBAAA,SAAA,eAAA,IACA,MAAA,GAAA,MAAA,MAAA,KAAA,UAEA,MAAA,gBACA,KAAA,GAAA,GAAA,EAAA,EAAA,UAAA,OAAA,IACA,KAAA,MAAA,UAAA,GAGA,OADA,MAAA,OAAA,KAAA,QACA,KAEA,GAAA,YAAA,EAAA,gBACA,EAAA,YAAA,kBAAA,EACA,EAAA,YAAA,yBAAA,EAEA,EAAA,UAAA,OAAA,OAAA,EAAA,YAAA,YAAA,WAEA,EAAA,UAAA,MAAA,WACA,EAAA,YAAA,YAAA,UAAA,MAAA,KAAA,MACA,KAAA,KAAA,KAAA,WAEA,EAAA,UAAA,SAAA,WAEA,GADA,KAAA,SACA,KAAA,OAAA,KAAA,KAAA,OAAA,CACA,GAAA,GAAA,KAAA,KAAA,KAAA,OACA,OAAA,IAAA,GAAA,YAAA,aAAA,EAAA,KAAA,IAAA,IAEA,MAAA,GAAA,YAAA,kBAQA,EAAA,UAAA,OAAA,KACA,EAAA,UAAA,cAAA,KAMA,EAAA,UAAA,MAAA,SAAA,GACA,GAAA,YAAA,GACA,KAAA,SACA,EAAA,OAAA,KAAA,QAEA,KAAA,OAAA,MACA,IAAA,kBAAA,GACA,EAAA,UACA,CAAA,GAAA,gBAAA,IAAA,YAAA,QAAA,YAAA,QAOA,KAAA,yBANA,KAAA,GAAA,KAAA,GACA,EAAA,eAAA,IACA,KAAA,IAAA,EAAA,EAAA,IAOA,MADA,MAAA,OAAA,KAAA,QACA,MASA,EAAA,UAAA,IAAA,SAAA,EAAA,GACA,GAAA,gBAAA,KAAA,EAAA,KAAA,wBAOA,OANA,mBAAA,GACA,KAAA,cAAA,GAAA,QAEA,MAAA,cAAA,GAEA,KAAA,OAAA,KAAA,QACA,KAEA,IAAA,GAAA,SAAA,GACA,MAAA,IAEA,EAAA,SAAA,GACA,QAAA,mBAAA,IAQA,GAAA,UAAA,OAAA,SAAA,EAAA,EAAA,GAEA,GADA,EAAA,GAAA,EACA,gBAAA,KAAA,EAAA,KAAA,wBAIA,IAFA,EAAA,EAAA,EAAA,GAEA,EAAA,SAAA,EACA,MAAA,OAAA,KAAA,OAAA,EAAA,QACA,KAAA,OAAA,OAAA,EAAA,EAAA,EAAA,MAAA,GAGA,IAAA,KAAA,cAAA,eAAA,GAAA,CACA,GAAA,GAAA,KAAA,cAAA,EACA,IAAA,GAAA,EAAA,KAAA,CACA,GAAA,GAAA,IACA,MAAA,SAAA,EAAA,KAAA,OAAA,OAAA,EAAA,EAAA,EAAA,MAAA,KACA,MAAA,IAAA,EAAA,GAEA,MAAA,GAAA,GAGA,MAAA,IAAA,EAAA,SAAA,EAAA,QACA,MAAA,KAAA,OAAA,EAAA,QACA,KAAA,OAAA,OAAA,EAAA,EAAA,EAAA,MAAA,KAQA,EAAA,UAAA,OAAA,SAAA,EAAA,GACA,MAAA,MAAA,OAAA,EAAA,EAAA,IAOA,EAAA,UAAA,IAAA,SAAA,EAAA,GACA,MAAA,MAAA,OAAA,EAAA,EAAA,IAWA,EAAA,UAAA,MAAA,SAAA,EAAA,EAAA,GAKA,GAHA,EAAA,EAAA,EAAA,GACA,EAAA,MAEA,EAAA,SAAA,EACA,MAAA,MAAA,OACA,KAAA,OAAA,MAAA,EAAA,EAAA,MAAA,GAAA,GADA,CAIA,KAAA,GAAA,KAAA,MAAA,cACA,KAAA,cAAA,eAAA,KAAA,EAAA,eAAA,KACA,EAAA,IAAA,EACA,GACA,EAAA,KAAA,cAAA,GAAA,EAAA,MAOA,OAHA,GAAA,SAAA,GAAA,KAAA,QACA,KAAA,OAAA,MAAA,EAAA,EAAA,MAAA,GAAA,GAEA,GAOA,EAAA,UAAA,QAAA,SAAA,GACA,GAAA,KAIA,OAHA,MAAA,MAAA,SAAA,EAAA,GACA,EAAA,KAAA,IACA,GACA,GAOA,EAAA,UAAA,SAAA,SAAA,GACA,GAAA,KAIA,OAHA,MAAA,MAAA,SAAA,EAAA,GACA,EAAA,GAAA,GACA,GACA,GAEA,EAAA,MAAA,WAEA,IAAA,GADA,GAAA,GAAA,GACA,EAAA,EAAA,EAAA,UAAA,OAAA,IAAA,CACA,GAAA,GAAA,UAAA,EACA,aAAA,IACA,EAAA,OAAA,EACA,EAAA,IAEA,EAAA,GAAA,GAAA,GACA,EAAA,OAAA,EACA,EAAA,GAGA,MAAA,QC7NA,OAAA,0BAAA,wBAAA,SAAA,GACA,MAAA,GAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,YACA,EAAA,EAAA,cAOA,GANA,EAAA,KAMA,SAAA,GACA,KAAA,MAAA,EACA,KAAA,SAAA,KACA,KAAA,KAAA,KACA,KAAA,IAAA,MAEA,QAAA,eAAA,EAAA,UAAA,SACA,WAAA,EACA,IAAA,WACA,MAAA,MAAA,SACA,KAAA,SAAA,MAAA,EADA,IAIA,IAAA,GAAA,WACA,KAAA,QAAA,KACA,KAAA,OAAA,MAGA,EAAA,SAAA,EAAA,GAYA,GAXA,KAAA,MAAA,KACA,KAAA,KAAA,KACA,KAAA,gBAAA,EACA,KAAA,eAAA,EACA,IACA,EAAA,OAAA,KAAA,GACA,EAAA,QACA,KAAA,MAAA,EAAA,EAAA,OAAA,KAAA,QAIA,EAEA,IADA,EAAA,EAAA,GACA,EAAA,QACA,KAAA,OAAA,EAAA,SAIA,GAAA,UAAA,OAAA,OAAA,EAAA,YAAA,WAEA,EAAA,UAAA,MAAA,SAAA,EAAA,GACA,EAAA,EAAA,KAAA,EAAA,EACA,IAAA,IAAA,WAAA,WAAA,YACA,EAAA,KACA,EAAA,MAAA,EAAA,OAAA,KAAA,cAAA,EAAA,OACA,EAAA,MAAA,EAAA,QAAA,KAAA,eAAA,EAAA,QACA,IAIA,IAHA,EAAA,GAAA,KAAA,SAAA,GACA,EAAA,EAAA,OAAA,IAAA,IAEA,EAAA,CACA,GAAA,KACA,MAAA,SAAA,SAAA,GACA,GAAA,GAAA,EAAA,OAAA,EAAA,MACA,GAAA,eAAA,IACA,EAAA,KAAA,KAGA,EAAA,QAAA,SAAA,GACA,EAAA,QAAA,KAAA,EAAA,OACA,EAAA,OAAA,KAGA,GAAA,KAkBA,OAjBA,MAAA,KAAA,SAAA,GACA,EAAA,EAAA,OAAA,IAAA,IAEA,EAAA,GAAA,KAAA,SAAA,GACA,GAAA,GAAA,EAAA,OAAA,EACA,GAAA,eAAA,GAOA,IACA,EAAA,QAAA,KAAA,GACA,EAAA,QAAA,EAAA,KARA,EAAA,QAAA,KAAA,GACA,KAAA,KACA,EAAA,KAAA,GAEA,EAAA,OAAA,MAOA,GAGA,EAAA,UAAA,QAAA,SAAA,EAAA,EAAA,GACA,KAAA,eACA,KAAA,cAAA,EAAA,GAAA,KAAA,GAAA,OAGA,EAAA,UAAA,WAAA,SAAA,GACA,MAAA,aAAA,GAAA,EAAA,MACA,GAEA,EAAA,UAAA,SAAA,WACA,MAAA,GAAA,qBAAA,KAAA,QACA,KAAA,MACA,KAAA,MADA,EAAA,iBAGA,KAAA,YACA,KAAA,YAAA,KACA,KAAA,YAAA,KADA,EAAA,iBADA,KAAA,OAIA,EAAA,UAAA,KAAA,SAAA,GACA,EAAA,EAAA,EAEA,KADA,GAAA,GAAA,KAAA,MACA,GAAA,CACA,GAAA,kBAAA,GAAA,CAEA,GAAA,EAAA,EAAA,KAAA,MAAA,EACA,IAAA,EAAA,EAAA,OAAA,MAAA,EACA,IAAA,EAAA,GAAA,MAAA,GAEA,GAAA,GAAA,EAAA,IAAA,MAAA,EACA,IAAA,GAAA,EAAA,MAAA,MAAA,EACA,GAAA,EAAA,KAEA,MAAA,OAGA,EAAA,UAAA,YAAA,SAAA,GACA,GAAA,EAAA,EAAA,MAAA,OACA,IAAA,GAAA,KAAA,OAAA,MACA,IAAA,GAAA,EAAA,MAAA,EACA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,KAAA,MAAA,OACA,GAAA,EAAA,KAEA,MAAA,IAEA,EAAA,UAAA,QAAA,SAAA,GACA,GAAA,GAAA,KAAA,YAAA,EACA,OAAA,mBAAA,GAAA,OACA,EAAA,OAEA,OAAA,eAAA,EAAA,UAAA,gBACA,IAAA,WACA,MAAA,MAAA,YACA,KAAA,YAAA,MADA,IAGA,IAAA,SAAA,GACA,KAAA,UAAA,MAKA,EAAA,UAAA,QAAA,SAAA,GACA,GAAA,GAAA,KAAA,gBAAA,EACA,OAAA,GACA,EAAA,MADA,IAGA,EAAA,UAAA,UAAA,SAAA,EAAA,GACA,GAAA,GAAA,KAAA,YAAA,EACA,IAAA,MAAA,EAAA,CACA,GAAA,EACA,IAAA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,KAAA,CACA,EAAA,MACA,OAFA,EAAA,EAAA,SAKA,IAAA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,SAAA,CACA,EAAA,MACA,OAFA,EAAA,EAAA,SAMA,SAAA,EAAA,KAAA,SAEA,KAAA,YAAA,EACA,KAAA,QAAA,EAAA,MACA,KAAA,OAAA,EAAA,SAIA,EAAA,UAAA,KAAA,SAAA,EAAA,GACA,GAAA,GAAA,KAAA,KAAA,EACA,IAAA,MAAA,EAAA,CACA,GAAA,EACA,IAAA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,KAAA,CACA,EAAA,MACA,OAFA,EAAA,EAAA,SAKA,IAAA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IAAA,CACA,IAAA,EAAA,SAAA,CACA,EAAA,MACA,OAFA,EAAA,EAAA,SAMA,SAAA,EACA,KAAA,SAGA,KAAA,YAAA,EACA,KAAA,QAAA,EAAA,MACA,KAAA,OAAA,EAAA,SAKA,EAAA,UAAA,KAAA,SAAA,GAEA,IADA,GAAA,GAAA,KAAA,MACA,GACA,EAAA,EAAA,OACA,EAAA,EAAA,MAGA,EAAA,UAAA,SAAA,SAAA,GAEA,IADA,GAAA,GAAA,KAAA,MACA,GACA,EAAA,GACA,EAAA,EAAA,MAKA,EAAA,UAAA,OAAA,SAAA,GASA,MARA,GAAA,KAAA,UAAA,GACA,EAAA,SAAA,KAAA,KACA,KAAA,OACA,KAAA,KAAA,KAAA,GAEA,KAAA,KAAA,EACA,KAAA,QAAA,KAAA,MAAA,GACA,KAAA,QAAA,SAAA,GACA,MAEA,EAAA,UAAA,OAAA,SAAA,GACA,MAAA,MAAA,MACA,KAAA,MAAA,GAEA,GAEA,EAAA,UAAA,UAAA,SAAA,GAOA,MANA,aAAA,KACA,EAAA,GAAA,GAAA,IAEA,KAAA,QACA,EAAA,IAAA,KAAA,MAAA,EAAA,QAEA,GAEA,EAAA,UAAA,QAAA,SAAA,GASA,MARA,GAAA,KAAA,UAAA,GACA,EAAA,KAAA,KAAA,MACA,KAAA,QACA,KAAA,MAAA,SAAA,GAEA,KAAA,MAAA,EACA,KAAA,OAAA,KAAA,KAAA,GACA,KAAA,QAAA,SAAA,GACA,MAGA,EAAA,UAAA,aAAA,SAAA,EAAA,GACA,GAAA,GAAA,KAAA,gBAAA,EACA,KAAA,EACA,KAAA,+BAaA,OAXA,GAAA,KAAA,UAAA,GACA,EAAA,KAAA,EACA,EAAA,SAAA,EAAA,SACA,EAAA,WACA,EAAA,SAAA,KAAA,GAEA,EAAA,SAAA,EACA,KAAA,OAAA,IACA,KAAA,MAAA,GAEA,KAAA,QAAA,SAAA,GACA,MAEA,EAAA,UAAA,YAAA,SAAA,EAAA,GACA,GAAA,GAAA,KAAA,gBAAA,EACA,KAAA,EACA,KAAA,+BAaA,OAXA,GAAA,KAAA,UAAA,GACA,EAAA,SAAA,EACA,EAAA,KAAA,EAAA,KACA,EAAA,OACA,EAAA,KAAA,SAAA,GAEA,EAAA,KAAA,EACA,KAAA,MAAA,IACA,KAAA,KAAA,GAEA,KAAA,QAAA,SAAA,GACA,MAEA,EAAA,UAAA,QAAA,SAAA,EAAA,GACA,GAAA,GAAA,KAAA,gBAAA,EACA,KAAA,EACA,KAAA,mCAcA,OAZA,GAAA,KAAA,UAAA,GACA,EAAA,SAAA,EAAA,SACA,EAAA,KAAA,EAAA,KACA,EAAA,WAAA,EAAA,SAAA,KAAA,GACA,EAAA,OAAA,EAAA,KAAA,SAAA,GACA,KAAA,OAAA,IACA,KAAA,MAAA,GAEA,KAAA,MAAA,IACA,KAAA,KAAA,GAEA,KAAA,QAAA,SAAA,EAAA,GACA,MAEA,EAAA,UAAA,gBAAA,SAAA,GACA,MAAA,GACA,YAAA,GAAA,EACA,KAAA,KAAA,GAFA,KAAA,aAAA,KAAA,OAIA,EAAA,UAAA,OAAA,SAAA,GACA,GAAA,GAAA,KAAA,gBAAA,EACA,KAAA,EACA,KAAA,mCAsBA,OApBA,GAAA,WACA,EAAA,SAAA,KAAA,EAAA,MAEA,EAAA,OACA,EAAA,KAAA,SAAA,EAAA,UAEA,KAAA,OAAA,IACA,KAAA,MAAA,EAAA,MAEA,KAAA,MAAA,IACA,KAAA,KAAA,EAAA,SACA,KAAA,OACA,KAAA,KAAA,KAAA,QAGA,KAAA,cAAA,IACA,KAAA,YAAA,EAAA,KAAA,EAAA,SAAA,KAAA,MACA,KAAA,QAAA,KAAA,YAAA,OAEA,KAAA,QAAA,SAAA,KAAA,GACA,KAGA,IAAA,GAAA,SAAA,EAAA,GACA,EAAA,KAAA,KAAA,EAAA,GAEA,GAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,IAAA,WAIA,MAAA,MAAA,OACA,KAAA,SAGA,KAAA,QACA,KAAA,OACA,KAAA,UAEA,EAAA,UAAA,KAAA,SAAA,GACA,KAAA,YAAA,IAEA,EAAA,UAAA,KAAA,SAAA,EAAA,GACA,GAAA,GAAA,KAAA,KAAA,EACA,IAAA,MAAA,EAAA,CACA,GAAA,EACA,IAAA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,KAAA,EAAA,KAAA,KAAA,UAEA,IAAA,EAAA,EACA,IAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,EAAA,SAAA,EAAA,SAAA,KAAA,IAGA,MAAA,YAAA,EACA,KAAA,QAAA,EAAA,MACA,KAAA,OAAA,EAAA,OAIA,IAAA,GAAA,SAAA,EAAA,GAEA,GADA,EAAA,KAAA,KAAA,KAAA,GACA,EAAA,CACA,GAAA,GAAA,IACA,GAAA,GAAA,KAAA,SAAA,GACA,EAAA,KAAA,MAIA,GAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,KAAA,SAAA,GACA,KAAA,QAAA,IAEA,EAAA,UAAA,IAAA,WACA,GAAA,MAAA,KAAA,MAAA,MAAA,KACA,IAAA,GAAA,KAAA,MAAA,KAGA,OAFA,MAAA,OAAA,KAAA,OACA,KAAA,QACA,EAGA,IAAA,GAAA,SAAA,EAAA,GACA,EAAA,KAAA,KAAA,EAAA,GAGA,GAAA,UAAA,OAAA,OAAA,EAAA,WACA,EAAA,UAAA,KAAA,SAAA,GACA,KAAA,OAAA,IAEA,EAAA,UAAA,IAAA,EAAA,UAAA,IAEA,EAAA,YAAA,UAAA,OAAA,WACA,MAAA,IAAA,GAAA,OAEA,EAAA,YAAA,UAAA,QAAA,WACA,MAAA,IAAA,GAAA,OAEA,EAAA,YAAA,UAAA,QAAA,WACA,MAAA,IAAA,GAAA,OAEA,EAAA,YAAA,UAAA,QAAA,WACA,MAAA,IAAA,GAAA,OAGA,EAAA,WAAA,EACA,EAAA,WAAA,EACA,EAAA,UAAA,EACA,EAAA,MAAA,EACA,EAAA,MAAA,MC1bA,OAAA,2BAAA,wBAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,GAAA,GAAA,EAAA,OAAA,OACA,EAAA,mBAAA,cAAA,EAAA,aAAA,aACA,EAAA,WACA,KAAA,KAAA,GACA,KAAA,MAAA,GACA,KAAA,YAAA,EACA,KAAA,SAAA,EACA,KAAA,mBAEA,EAAA,SAAA,GAKA,GAJA,KAAA,QAAA,EAAA,KAAA,EAAA,GACA,KAAA,SACA,KAAA,SACA,KAAA,QAAA,EACA,KAAA,QAAA,MAAA,CACA,GAAA,GAAA,EAAA,QAAA,KAAA,QAAA,MACA,IAAA,EAAA,CACA,EAAA,KAAA,MAAA,EACA,KAAA,GAAA,GAAA,EAAA,OAAA,EAAA,GAAA,EAAA,IACA,EAAA,IACA,KAAA,IAAA,EAAA,GAAA,MAAA,KAOA,GAAA,YAAA,EAAA,gBAEA,EAAA,YAAA,QAAA,EACA,EAAA,YAAA,eAAA,EAEA,EAAA,UAAA,OAAA,OAAA,EAAA,YAAA,YAAA,WAEA,EAAA,UAAA,SAAA,WAEA,MADA,MAAA,SACA,KAAA,OAAA,KAAA,MAAA,OACA,KAAA,MAAA,KAAA,QAAA,KAEA,EAAA,YAAA,kBAGA,EAAA,UAAA,SAAA,WACA,GAAA,KAIA,OAHA,MAAA,MAAA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,QAEA,GAIA,EAAA,UAAA,IAAA,SAAA,EAAA,GACA,GAAA,MAAA,EAAA,CACA,KAAA,QAAA,aACA,EAAA,EAAA,OAAA,WAAA,IAEA,KAAA,QAAA,UACA,EAAA,EAAA,QAAA,EAAA,KAAA,QAAA,gBAEA,IAAA,GAAA,EAAA,GACA,EAAA,KAAA,MAAA,EACA,KAAA,EAEA,GADA,EAAA,KAAA,MAAA,IAAA,KAAA,GACA,KAAA,MAAA,QAAA,KAAA,QAAA,KAAA,CACA,GAAA,GAAA,KAAA,MAAA,KAAA,QAAA,KAAA,GACA,EAAA,EAAA,EAAA,YACA,MAAA,MAAA,GACA,KAAA,MAAA,KAAA,QAAA,KAAA,GAAA,MAEA,MAAA,MAAA,KAAA,EAGA,GAAA,QAAA,KAAA,UACA,KAAA,MAAA,KAAA,SAAA,EAAA,GACA,MAAA,GAAA,QAAA,EAAA,QACA,GAEA,EAAA,QAAA,EAAA,QACA,EAEA,IAEA,KAAA,QAAA,QAAA,GACA,EAAA,QAAA,KAAA,QAAA,MAAA,KAAA,UAAA,KAAA,UAIA,EAAA,UAAA,MAAA,WACA,KAAA,SACA,KAAA,SACA,KAAA,aC/FA,OAAA,wBAAA,uBAAA,kBAAA,SAAA,GACA,MAAA,GAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,YAAA,YACA,EAAA,EAAA,cACA,EAAA,EAAA,WAEA,GAAA,UAAA,IAAA,SAAA,GACA,MAAA,MAAA,QAAA,KAAA,EAAA,KAGA,EAAA,UAAA,MAAA,SAAA,GACA,KAAA,OAGA,KAFA,GAAA,GAAA,EACA,EAAA,EAAA,GACA,KAAA,KAAA,IACA,GAEA,OAAA,IAEA,EAAA,UAAA,IAAA,SAAA,GACA,KAAA,OAGA,KAFA,GAAA,GAAA,EACA,EAAA,EAAA,GACA,KAAA,QACA,GAAA,EAAA,EAAA,KAAA,SAAA,KAAA,OAEA,OAAA,IAGA,EAAA,UAAA,MAAA,SAAA,GAGA,GAFA,KAAA,QACA,EAAA,EAAA,GACA,KAAA,KAAA,GACA,MAAA,MAAA,OAEA,MAAA,+CAEA,EAAA,UAAA,eAAA,SAAA,EAAA,GAGA,MAFA,MAAA,QACA,EAAA,EAAA,GACA,KAAA,KAAA,GACA,KAAA,QAEA,GAEA,EAAA,UAAA,MAAA,SAAA,GAGA,MAFA,MAAA,QACA,EAAA,EAAA,GACA,GAAA,GAAA,KAAA,SAAA,GAEA,MADA,GAAA,iBAAA,KAAA,GACA,EAAA,iBAAA,WAGA,EAAA,UAAA,MAAA,SAAA,GAIA,MAHA,GAAA,EAAA,GACA,KAAA,QACA,EAAA,QACA,GAAA,GAAA,KAAA,SAAA,EAAA,GACA,MAAA,GAAA,iBAAA,OACA,EAAA,iBAAA,QAEA,EAAA,OACA,EAAA,QAEA,IACA,eAAA,KAGA,EAAA,UAAA,OAAA,SAAA,GAEA,MADA,GAAA,EAAA,GACA,GAAA,GAAA,KAAA,SAAA,EAAA,GACA,GAAA,EAAA,iBAAA,OAAA,CACA,GAAA,GAAA,EAAA,iBAAA,OAEA,OADA,KAAA,EAAA,EAAA,IACA,EAEA,MAAA,IACA,OAGA,EAAA,UAAA,SAAA,SAAA,GACA,EAAA,EAAA,EACA,IAAA,KACA,OAAA,IAAA,GAAA,KAAA,SAAA,EAAA,GACA,KAAA,EAAA,iBAAA,QAAA,CACA,GAAA,GAAA,EAAA,iBAAA,QACA,EAAA,CAIA,IAHA,IACA,EAAA,EAAA,KAEA,EAAA,eAAA,GAEA,MADA,GAAA,GAAA,EACA,EAGA,MAAA,KACA,QAAA,WACA,SAIA,EAAA,UAAA,QAAA,WACA,MAAA,IAAA,GAAA,KAAA,SAAA,EAAA,GACA,GAAA,GAAA,IACA,OAAA,IAAA,EAAA,OAAA,EACA,EAAA,QAAA,EAAA,YACA,UAAA,EAAA,SAAA,WACA,GAAA,GAAA,IACA,MAAA,OAAA,EAAA,QAAA,OAAA,MAIA,EAAA,UAAA,MAAA,SAAA,GACA,GAAA,GAAA,EAAA,GAAA,UAAA,GACA,IAAA,IAAA,EAAA,WAAA,SAAA,CACA,GAAA,GAAA,CACA,GAAA,SAAA,EAAA,GACA,MAAA,GAAA,GAAA,EAAA,IAGA,MAAA,IAAA,GAAA,KAAA,SAAA,EAAA,GACA,GAAA,GAAA,IACA,OAAA,GAAA,YAAA,OACA,EAAA,YAAA,QAEA,IACA,UAAA,EAAA,SAAA,WACA,GAAA,GAAA,IACA,GACA,EAAA,QAAA,KAAA,GAEA,EAAA,QAAA,WAMA,EAAA,UAAA,OAAA,SAAA,EAAA,GAIA,MAHA,GAAA,EAAA,GACA,EAAA,EAAA,GAEA,GAAA,GAAA,KAAA,SAAA,EAAA,GAEA,KAAA,EAAA,YAAA,QACA,GAAA,GACA,IAAA,SAAA,GACA,MAAA,GAAA,eAAA,IAAA,SAAA,GACA,MAAA,GAAA,IAAA,KAEA,EAAA,EAAA,YAAA,UAAA,MAAA,GAAA,YAAA,YACA,CACA,GAAA,GAAA,EAAA,eAAA,IAAA,SAAA,GACA,MAAA,IAAA,EAAA,YAAA,SAEA,KAAA,EAAA,MAAA,GAAA,YAAA,QAGA,MAAA,KACA,UAAA,EAAA,eAAA,KAIA,EAAA,UAAA,KAAA,SAAA,GACA,GAAA,GAAA,EAAA,GAAA,SAAA,IACA,GAAA,CACA,OAAA,IAAA,GAAA,KAAA,SAAA,EAAA,GAEA,IADA,GAAA,GAAA,MACA,GAAA,CACA,GAAA,GAAA,EAAA,iBAAA,MACA,KAAA,EAAA,MAAA,EACA,KAAA,EAAA,EAAA,iBAAA,SAEA,MADA,IAAA,EACA,EAAA,iBAAA,QAGA,MAAA,GAAA,iBAAA,OACA,EAAA,iBAAA,QAEA,IACA,QAAA,WACA,EAAA,EAAA,GAAA,SAAA,IACA,GAAA,MAIA,EAAA,UAAA,KAAA,SAAA,GACA,GAAA,GAAA,EAAA,GAAA,SAAA,GACA,OAAA,IAAA,GAAA,KAAA,SAAA,EAAA,GACA,GAAA,GAAA,KACA,EAAA,EAAA,iBAAA,MACA,OAAA,IAEA,EAAA,EAAA,iBAAA,SAGA,EAAA,iBAAA,QALA,IAMA,QAAA,WACA,EAAA,EAAA,GAAA,SAAA,YCnMA,OAAA,cAAA,cAAA,YAAA,SAAA,GACA,MAAA,GAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,KACA,EAAA,EAAA,OACA,EAAA,EAAA,OAAA,cAAA,aACA,EAAA,EAAA,QACA,EAAA,EAAA,KACA,EAAA,EAAA,QAEA,EAAA,WACA,KAAA,QAAA,KACA,KAAA,MAAA,KACA,KAAA,UAAA,KACA,KAAA,QAAA,KACA,KAAA,QAAA,KACA,KAAA,WAAA,KACA,KAAA,OAAA,GACA,KAAA,gBAAA,KACA,KAAA,iBAAA,EACA,KAAA,UAAA,GACA,KAAA,WAAA,KACA,KAAA,WAAA,EACA,KAAA,cACA,KAAA,MAAA,EAEA,KAAA,aAAA,IAGA,EAAA,WACA,MAAA,gBAAA,IAIA,KAAA,QAAA,IACA,KAAA,YAAA,MAEA,KAAA,OAAA,MACA,KAAA,UAAA,KACA,KAAA,OAAA,KACA,KAAA,YAAA,EACA,KAAA,QAAA,KACA,KAAA,WAAA,KACA,KAAA,WAAA,EACA,KAAA,iBAAA,EACA,KAAA,QAAA,KACA,KAAA,MAAA,KACA,KAAA,UAAA,GACA,KAAA,SAAA,EACA,KAAA,MAAA,EACA,KAAA,QAAA,GAEA,KAAA,aAAA,GACA,KAAA,eAAA,EACA,KAAA,gBAAA,aAAA,EAAA,UAAA,EAAA,WAAA,EAAA,cAAA,KAAA,cAAA,WAAA,EAAA,UAAA,GACA,KAAA,cAAA,KACA,MAzBA,EAAA,MAAA,KAAA,WA6BA,GAAA,UAAA,QAAA,WACA,GAAA,GAAA,KAAA,oBAAA,WACA,EAAA,KAAA,IAAA,KAAA,MAAA,EAAA,SAAA,OACA,EAAA,KAAA,cAAA,EAAA,KAAA,EAAA,SACA,KAAA,EAAA,MAWA,CACA,GAAA,GAAA,IAEA,IADA,aAAA,EAAA,eACA,IAAA,EAAA,CACA,CAAA,EAAA,cAIA,MAHA,GAAA,cAAA,EAAA,WACA,EAAA,IACA,GACA,KAEA,MAAA,GAAA,GApBA,GAAA,GAAA,EAAA,GACA,GAAA,eAAA,EAAA,UAEA,GADA,EAAA,MAAA,MACA,IAEA,IAEA,GAAA,EAAA,MAAA,EAAA,SAEA,OAAA,KAAA,EAAA,EAAA,eAgBA,EAAA,UAAA,OAAA,SAAA,EAAA,GACA,EAAA,EAAA,EAAA,MAAA,EACA,IAAA,GAAA,EAAA,SAAA,KAAA,SAAA,IACA,EAAA,EAAA,aAAA,KAAA,aAAA,KACA,IAAA,QAAA,EAAA,CACA,GAAA,GAAA,EAAA,KAAA,KAAA,KAAA,EACA,IAAA,IAAA,EAAA,QAAA,OACA,EAAA,YAGA,EAAA,EAAA,YAAA,EAAA,GAFA,QAAA,KAAA,qEAKA,EAAA,GAAA,GACA,EAAA,IAAA,EAAA,IAAA,CACA,IAAA,GAAA,EAAA,SAAA,KAAA,SAAA,EAQA,OAPA,KACA,WACA,EAAA,EAAA,YAAA,EAAA,SAAA,WAEA,EAAA,EAAA,IAAA,GAEA,EAAA,EAAA,QAAA,OAAA,KAAA,QAAA,eAAA,SAGA,KAAA,0CAGA,EAAA,UAAA,oBAAA,SAAA,GAKA,IAAA,GAJA,GAAA,KACA,EAAA,KACA,EAAA,KACA,EAAA,KACA,EAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CACA,GAAA,GAAA,EAAA,EACA;kBAAA,GACA,EAAA,EAAA,EAAA,EAAA,EACA,GAAA,YAAA,GACA,EAAA,EAEA,EAAA,EAcA,MAVA,GAAA,MACA,EAAA,EAAA,EAAA,MAAA,GAEA,IAAA,IACA,EAAA,SAAA,EAAA,GACA,EAAA,KAAA,EAAA,KAGA,EAAA,QAAA,GAAA,EAAA,QACA,EAAA,MAAA,GAAA,EAAA,OACA,KAAA,EAAA,SAAA,IAGA,EAAA,UAAA,eAAA,WACA,GAAA,KAAA,SAAA,KAAA,UAAA,CACA,GAAA,GAAA,KACA,EAAA,KAAA,QAAA,IAAA,KAAA,QAAA,GACA,GAAA,KAAA,KAAA,QAAA,QAAA,KAAA,UAAA,SAAA,EAAA,GACA,EAAA,QAAA,MAAA,EAAA,MAIA,IAAA,GAAA,SAAA,GACA,OAAA,EAAA,MAAA,GAEA,GAAA,UAAA,cAAA,SAAA,EAAA,GACA,EAAA,MACA,EAAA,EAAA,EAAA,MAAA,EAEA,IAAA,GAAA,KAAA,OAAA,EAAA,GACA,GAAA,IAAA,EAAA,UAAA,WAAA,cAEA,IAAA,KAAA,YACA,EAAA,OAAA,KAAA,UAAA,GAAA,MAAA,aACA,EAAA,EAAA,OAAA,KAAA,YAAA,OAAA,IACA,EAAA,EAAA,OAAA,EAAA,YAAA,OAAA,IACA,EAAA,EAAA,OAAA,OAAA,OAAA,EAAA,YAAA,IACA,KAAA,SAAA,CACA,GAAA,GAAA,KAAA,gBACA,EAAA,aAAA,EAAA,cACA,QAAA,KAAA,mEACA,EAAA,EAAA,MAAA,GACA,EAAA,aAAA,GAEA,EAAA,OAAA,EAAA,EAAA,OAAA,GAKA,GAAA,GAAA,EAAA,cAAA,KAAA,YAMA,IAJA,IACA,EAAA,OAAA,EACA,EAAA,aAAA,GAEA,EAAA,MACA,EAAA,OAAA,UACA,CAEA,EAAA,OAAA,EAAA,QAAA,KAAA,OAEA,EAAA,EAAA,MAEA,EAAA,EAAA,QAAA,KAAA,SACA,EAAA,EAAA,QAAA,EAAA,SACA,EAAA,EAAA,WAAA,KAAA,YACA,EAAA,EAAA,WAAA,EAAA,YAEA,EAAA,EAAA,EAEA,IAAA,GAAA,KACA,EAAA,EAAA,WAAA,KAAA,SACA,aAAA,IAAA,EAAA,KACA,IAAA,GAAA,EAAA,OAAA,KAAA,KACA,aAAA,IAAA,EAAA,KACA,IAAA,GAAA,EAAA,SAAA,KAAA,QACA,EAAA,EAAA,QAAA,KAAA,OACA,GAAA,EAAA,YAAA,KAAA,eAAA,IAAA,EAAA,UACA,EAAA,EAAA,EAAA,MAAA,EAAA,WAAA,KAEA,EAAA,SAAA,EAAA,GACA,GAAA,GAAA,CACA,IAAA,EACA,GAAA,MAAA,QAAA,GAAA,CACA,IACA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,KAAA,EAAA,EAAA,EAAA,GAAA,QAEA,gBAAA,KACA,EAAA,EAAA,EAAA,EAAA,GAGA,GAAA,SACA,EAAA,QAAA,EAAA,GAEA,EAAA,UAAA,EAAA,iBACA,EAAA,QAAA,EAAA,GAEA,GAAA,IAAA,EAAA,iBACA,EAAA,KAAA,EAAA,GAAA,EAAA,EAAA,IAEA,GAAA,GACA,EAAA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,GAAA,EAAA,EAAA,OAIA,EAAA,SAAA,EAAA,GACA,EAAA,OACA,EAAA,MAAA,EAAA,GAEA,EAAA,QAAA,EAAA,iBACA,EAAA,MAAA,EAAA,GAEA,GAAA,IAAA,EAAA,iBACA,EAAA,KAAA,EAAA,SAAA,GAAA,EAAA,EAAA,OAEA,GAAA,GACA,EAAA,QAAA,SAAA,GACA,EAAA,KAAA,EAAA,SAAA,GAAA,EAAA,EAAA,MAIA,GAAA,QAAA,EACA,EAAA,MAAA,CAEA,IAAA,GAAA,KAAA,eACA,OAAA,EAAA,kBACA,EAAA,EAAA,iBAEA,IACA,EAAA,gBAAA,GAGA,EAAA,eAAA,EAAA,gBACA,GAAA,QAEA,EAAA,eAAA,EAAA,mBACA,GAAA,WAKA,MAAA,GAIA,IAAA,GAAA,EAAA,OAAA,EAAA,MAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,KACA,IAAA,GAAA,EAAA,WAAA,KACA,EAAA,EAAA,SAAA,WACA,GAAA,gBACA,GAAA,QACA,EAAA,EAAA,EAAA,MAAA,GACA,EAAA,UAAA,GAAA,EACA,EAAA,QAAA,GAAA,EAEA,EAAA,QAAA,GAAA,EAAA,OAEA,IAAA,GAAA,WACA,MAAA,GAAA,QAAA,MAAA,EAAA,WAOA,OALA,GAAA,OAAA,EACA,EAAA,cAAA,EAAA,cAAA,KAAA,GACA,EAAA,OAAA,EAAA,OAAA,KAAA,GACA,EAAA,cAAA,EACA,EAAA,iBACA,GAGA,EAAA,SAEA,EAAA,EAAA,iBAIA,EAAA,EAAA,cAIA,GAAA,UAAA,UAAA,EACA,EAAA,UAAA,QAAA,CAKA,IAAA,GAAA,EAAA,oBAAA,SAAA,EAAA,GACA,IAAA,GAAA,KAAA,GACA,GAAA,EAAA,eAAA,IACA,EAAA,MAAA,GAAA,CACA,GAAA,GAAA,EAAA,GACA,EAAA,EAAA,UAAA,EAAA,GACA,EAAA,EAAA,UAAA,EACA,MAAA,EACA,gBAAA,IACA,EAAA,WAAA,GAAA,EAAA,WAAA,OACA,EAAA,EAAA,WAAA,GAAA,IAEA,EAAA,WAAA,GAAA,EAEA,KAAA,IACA,EAAA,QAAA,EAAA,YACA,EAAA,QAAA,GAAA,GAIA,MAAA,GAGA,GAAA,OAAA,OAAA,MCrVA,OAAA,eAAA,YAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,EAAA,mBACA,EAAA,UACA,EAAA,QAAA,EAAA,YACA,EAAA,QAAA,IAAA,EAAA,SAAA,OAAA,eAEA,QAAA,MAAA,0BCTA,OAAA,sBAAA,eAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,GAAA,MAAA,EAAA,QAAA,CACA,GAAA,GAAA,SAAA,GACA,MAAA,UAAA,GACA,MAAA,GAAA,YAAA,IAGA,GAAA,QAAA,SAAA,EAAA,SAAA,OAAA,iBAAA,OAAA,SAAA,GACA,EAAA,QAAA,IAAA,OAAA,SAAA,QAGA,OAAA,uBAAA,WCfA,MAAA,ynBCEA,OAAA,4BAAA,cAAA,qBAAA,SAAA,EAAA,GACA,MAAA,GAAA,SAAA,GAEA,GAAA,MAAA,EAAA,QAAA,CACA,GAAA,GAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,EACA,GAAA,SAAA,YACA,EAAA,SAAA,oBACA,EAAA,KAAA,WAAA,YACA,EAAA,KAAA,UAAA,WAEA,IAAA,IACA,UAAA,EAAA,SAAA,aACA,SAAA,EAAA,UAAA,QACA,YAAA,EAAA,aAAA,GACA,QAAA,EAAA,SAAA,IAEA,EAAA,EAAA,YAAA,EAAA,GACA,EAAA,EAAA,EAEA,GAAA,SAAA,GACA,EAAA,KAAA,MAAA,IAAA,aAAA,QACA,EAAA,QACA,EAAA,KAAA,MAAA,IAAA,aAAA,GAAA,EAAA,OAAA,OAIA,EAAA,SAAA,EAAA,EAAA,EAAA,GAEA,CAAA,GAAA,IACA,UAAA,EAAA,SAAA,aACA,SAAA,EAAA,UAAA,QACA,YAAA,EAAA,aAAA,GACA,QAAA,EAAA,SAAA,IAEA,EAAA,aAAA,GAAA,EAAA,UAAA,EAEA,EAAA,IACA,GAAA,GAAA,GACA,EAAA,UACA,EAAA,aACA,EAAA,WAAA,GACA,EAAA,UAAA,CACA,IAAA,GAAA,SAAA,GAEA,IADA,GAAA,GAAA,EAAA,OACA,GAAA,CACA,GAAA,GAAA,EAAA,GAAA,MACA,GAAA,EAAA,WAEA,KAEA,EAAA,WACA,EAAA,QAAA,IAAA,YAAA,GACA,EAAA,GAAA,YAAA,QACA,GACA,EAAA,OAGA,GAAA,IAAA,aAAA,WACA,KAEA,IAAA,GAAA,KACA,EAAA,SAAA,GACA,IACA,EAAA,EAAA,GAAA,KAAA,MACA,EAAA,SAAA,SAAA,MAGA,IAAA,GAAA,EAAA,MAAA,EAAA,OACA,KAAA,GACA,EAAA,EAAA,OAAA,EAAA,EAAA,GADA,CAKA,EAAA,QAAA,GAAA,YAAA,GACA,EAAA,GAAA,SAAA,OAEA,IAAA,GAAA,EAAA,GAAA,KAAA,SACA,EAAA,EAAA,GAAA,wBACA,EAAA,EAAA,OACA,EAAA,EAAA,IACA,GAAA,IAAA,MAAA,EAAA,MACA,EAAA,IAAA,OAAA,EAAA,MACA,EAAA,QAGA,GAAA,UAAA,WACA,GAAA,EAAA,GAAA,SAAA,SAAA,GAAA,EAAA,OAAA,QAAA,GAAA,EAAA,UAAA,QAEA,IAAA,EAAA,GAAA,SAAA,SAAA,EAAA,SAEA,GADA,EAAA,UAAA,EACA,EAAA,YACA,EAAA,WAAA,OACA,CACA,GAAA,GAAA,EAAA,MAAA,EAAA,IACA,mBAAA,IACA,EAAA,SAAA,GACA,EAAA,UAAA,EAEA,GAAA,UAXA,IAAA,IAkBA,EAAA,SAAA,SAAA,GACA,GAAA,GAAA,EAAA,MAAA,EAAA,YACA,mBAAA,KACA,EAAA,EAAA,IAAA,GAEA,EAAA,OAAA,WACA,EAAA,OAAA,IAEA,KAEA,EAAA,WAAA,SAAA,GACA,IAAA,EAAA,aACA,GAAA,EADA,CAGA,aAAA,GACA,GACA,IAAA,GAAA,EAAA,MAAA,EAAA,YACA,IAAA,GAAA,EAAA,aAAA,EAAA,QAAA,KAEA,EAAA,WAAA,WACA,GAAA,GAAA,EAAA,MAAA,EAAA,cAMA,IALA,kBAAA,IACA,EAAA,OAAA,WACA,EAAA,EAAA,IAAA,IAGA,EAAA,SAAA,CACA,GAAA,GAAA,EAAA,QACA,GAAA,MAAA,QACA,GAAA,qBAEA,EAAA,MAAA,GAAA,OAAA,EAAA,SAAA,EAAA,aAEA,QAGA,EAAA,UAAA,SAAA,EAAA,GAIA,GAHA,EAAA,iBACA,EAAA,kBACA,IACA,EAAA,SAAA,CACA,GAAA,GAAA,EAAA,MAAA,EAAA,WACA,EAAA,EAAA,QACA,GAAA,MAAA,QACA,GAAA,gBAEA,EAAA,MAAA,GAAA,OAAA,EAAA,EAAA,EAAA,EAAA,KAKA,IAAA,GAAA,EAAA,MAAA,EAAA,OACA,mBAAA,IACA,EAAA,EAAA,EAAA,IAGA,EAAA,SAAA,GACA,OACA,OAAA,EACA,QAAA,SAAA,EAAA,GAEA,MADA,GAAA,EAAA,IAEA,IAAA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,EAAA,EAAA,OAQA,GAAA,QAAA,eACA,EAAA,SAAA,OAAA,uBAAA,UAAA,mBAAA,aAAA,IACA,EAAA,QAAA,IAAA,UAAA,mBAAA,aAAA,IAEA,EAAA,QAAA,iBACA,QAAA,EACA,KAAA,QCvLA,OAAA,4BAAA,eAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,MAAA,EAAA,SACA,EAAA,QAAA,IAAA,UAAA,mBAAA,mBAAA,SAAA,GACA,GAAA,GAAA,EAAA,EACA,QACA,SAAA,IACA,QAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,EACA,GAAA,SAAA,gBACA,IAAA,GAAA,EAAA,KAAA,0BACA,GAAA,SAAA,eACA,IAAA,GAAA,EAAA,SAAA,KAAA,QACA,EAAA,EAAA,KAAA,OACA,GAAA,QAAA,gBAAA,EAAA,IAAA,EAAA,aACA,EAAA,KAAA,WAAA,gBAAA,EAAA,IAAA,EAAA,aACA,IAAA,GAAA,EAAA,gCAAA,EAAA,MAAA,YAAA,UAAA,EAaA,OAVA,GAAA,KAAA,aACA,EAAA,mCAAA,EAAA,IAAA,EAAA,oEAAA,SAAA,GAEA,EAAA,KAAA,eACA,EAAA,mCAAA,EAAA,IAAA,EAAA,+CAAA,EAAA,YAAA,YAAA,SAAA,GAEA,EAAA,KAAA,QACA,EAAA,mCAAA,EAAA,IAAA,EAAA,oDAAA,EAAA,KAAA,OAAA,YAAA,SAAA,IAIA,IAAA,SAAA,EAAA,EAAA,GACA,EAAA,KAAA,EAAA,EAAA,cC7BA,OAAA,2BAAA,eAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,MAAA,EAAA,SACA,EAAA,QAAA,IAAA,QAAA,wBACA,aACA,SAAA,GACA,OACA,UAAA,SAAA,EAAA,GACA,GAAA,IACA,EAAA,MAAA,QAAA,GAAA,GAAA,GACA,EAAA,QAAA,SAAA,GACA,GAAA,GAAA,EAAA,cAAA,OACA,GAAA,GAAA,CACA,IAAA,GAAA,KAAA,EAAA,GAAA,cAAA,EAAA,UAAA,EACA,GAAA,GAAA,SAAA,GACA,EAAA,IAAA,EAAA,GAEA,IAAA,GAAA,CACA,GAAA,GAAA,SAAA,EAAA,GACA,EAAA,WAAA,EAAA,EAAA,gBCvBA,OAAA,uBAAA,eAAA,SAAA,GACA,MAAA,GAAA,SAAA,GACA,GAAA,MAAA,EAAA,QAAA,CACA,GAAA,GAAA,WACA,OACA,KAAA,SAAA,EAAA,EAAA,GACA,EAAA,GAAA,KAAA,QAAA,SAAA,GACA,IAAA,EAAA,UACA,EAAA,iBACA,EAAA,kBACA,EAAA,OAAA,EAAA,MAAA,EAAA,gBAMA,EAAA,WACA,OACA,KAAA,SAAA,EAAA,EAAA,GACA,EAAA,GAAA,KAAA,QAAA,SAAA,GACA,IAAA,EAAA,UACA,EAAA,iBACA,EAAA,kBACA,EAAA,OAAA,EAAA,MAAA,EAAA,gBAMA,GAAA,QAAA,UAAA,EAAA,SAAA,OAAA,kBAAA,UAAA,WAAA,IACA,EAAA,QAAA,WAAA,EAAA,SAAA,OAAA,mBAAA,UAAA,YAAA,IACA,EAAA,QAAA,IAAA,UAAA,WAAA,IACA,EAAA,QAAA,IAAA,UAAA,YAAA,SC9BA,OAAA,4BAAA,YAAA,SAAA,GACA,MAAA,GAAA,SAAA,GACA,GAAA,MAAA,EAAA,QAAA,CACA,GAAA,GAAA,WACA,OACA,OAAA,EACA,YAAA,qCAAA,EAAA,IACA,KAAA,SAAA,EAAA,EAAA,GACA,EAAA,SAAA,WAAA,EACA,IAAA,GAAA,EAAA,IACA,GAAA,UAAA,WACA,MAAA,GAAA,SACA,EAAA,QAAA,WAAA,YACA,EAAA,WACA,MAAA,EAAA,OADA,QAIA,EAAA,SAAA,WACA,MAAA,GAAA,UAAA,UAAA,IAEA,EAAA,MAAA,WACA,MAAA,GAAA,YAAA,MAAA,QAEA,EAAA,SAAA,WACA,MAAA,GAAA,MAAA,gBACA,UAEA,mBAAA,EACA,cADA,QAIA,EAAA,UAAA,WACA,MAAA,MAAA,GAGA,EAAA,WACA,EAAA,MAAA,WACA,MAAA,GAAA,MAAA,EAAA,WAGA,EAAA,QAAA,QAAA,GACA,EAAA,YAAA,EAAA,aAAA,WACA,EAAA,QAAA,aAAA,OAAA,YAEA,EAAA,SAAA,mBAAA,cACA,EAAA,QAAA,EAAA,SAAA,WACA,WAAA,WACA,EAAA,QAAA,SACA,MAEA,EAAA,SAAA,SAAA,GACA,gBAAA,IACA,EAAA,iBACA,EAAA,kBACA,OAAA,KAAA,QAAA,EAAA,OAEA,OAAA,KAAA,QAAA,MAMA,GAAA,QAAA,SACA,EAAA,SAAA,OAAA,yBAAA,UAAA,oBAAA,aAAA,IACA,EAAA,QAAA,IAAA,UAAA,oBAAA,aAAA,SC1CA,OAAA,cAAA,WACA,MAAA,YAEA,GAAA,KAEA,GAAA,iBAAA,KACA,EAAA,gBAAA,KACA,EAAA,WAAA,SAAA,GACA,EAAA,KAAA,EAAA,MAAA,EACA,IAAA,GAAA,EAAA,IACA,MAAA,mBACA,EAAA,KAAA,iBAAA,EAAA,GAEA,IAAA,GAAA,KAAA,EAAA,KAAA,OAAA,IAcA,OAbA,GAAA,EAAA,QAAA,MAAA,IAEA,EAAA,EAAA,QAAA,SAAA,gBACA,EAAA,EAAA,QAAA,6BAAA,gBAEA,EAAA,EAAA,QAAA,4BAAA,sBAEA,EAAA,EAAA,QAAA,SAAA,aACA,EAAA,EAAA,QAAA,MAAA,UACA,EAAA,EAAA,QAAA,aAAA,MACA,KAAA,kBACA,EAAA,KAAA,gBAAA,EAAA,IAEA,GAEA,EAAA,aAAA,KACA,EAAA,YAAA,KACA,EAAA,cAAA,SAAA,EAAA,GAsBA,MArBA,MAAA,eACA,EAAA,KAAA,aAAA,EAAA,IAIA,EAAA,EAAA,QAAA,0BAAA,uBAEA,EAAA,EAAA,QAAA,sBAAA,eAEA,EAAA,EAAA,QAAA,kBAAA,iBAEA,EAAA,EAAA,QAAA,kBAAA,iBAEA,EAAA,EAAA,QAAA,kBAAA,iBAEA,EAAA,EAAA,QAAA,kBAAA,iBAEA,EAAA,EAAA,QAAA,2CAAA,8BACA,KAAA,cACA,EAAA,KAAA,YAAA,EAAA,IAEA,GAEA,EAAA,WAAA,KACA,EAAA,UAAA,KACA,EAAA,YAAA,SAAA,EAAA,GA2DA,MA1DA,MAAA,aACA,EAAA,KAAA,WAAA,EAAA,IAEA,EAAA,EAAA,OAGA,EADA,EAAA,MAAA,WACA,aAAA,EAAA,WAAA,KAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,UACA,aAAA,EAAA,WAAA,KAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,SACA,aAAA,EAAA,WAAA,KAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,QACA,aAAA,EAAA,WAAA,KAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,OACA,aAAA,EAAA,WAAA,KAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,MACA,aAAA,EAAA,WAAA,KAAA,EAAA,UAAA,GAAA,QAIA,EAAA,MAAA,WACA,sCAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,UACA,sCAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,SACA,sCAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,QACA,sCAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,OACA,sCAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,MACA,sCAAA,EAAA,UAAA,GAAA,SAGA,EAAA,MAAA,WACA,6CAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,UACA,6CAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,SACA,6CAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,QACA,6CAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,OACA,6CAAA,EAAA,UAAA,GAAA,SACA,EAAA,MAAA,MACA,6CAAA,EAAA,UAAA,GAAA,SAEA,EAAA,MAAA,OACA,6BAAA,EAAA,UAAA,GAAA,SAKA,MAAA,EAAA,OAEA,KAAA,YACA,EAAA,KAAA,UAAA,EAAA,IAEA,GAEA,EAAA,WAAA,KACA,EAAA,UAAA,KACA,EAAA,YAAA,SAAA,EAAA,GAyDA,MAvDA,MAAA,aACA,EAAA,KAAA,WAAA,EAAA,IAGA,EAAA,EAAA,QAAA,WAAA,YACA,EAAA,EAAA,QAAA,UAAA,YACA,EAAA,EAAA,QAAA,WAAA,aACA,EAAA,EAAA,QAAA,MAAA,aACA,EAAA,EAAA,QAAA,KAAA,UACA,EAAA,EAAA,QAAA,QAAA,UACA,EAAA,EAAA,QAAA,QAAA,UACA,EAAA,EAAA,QAAA,SAAA,WAEA,EAAA,EAAA,QACA,iCACA,0CACA,EAAA,EAAA,QAAA,QAAA,gCACA,EAAA,EAAA,QAAA,QAAA,WACA,EAAA,EAAA,QAAA,eAAA,yCACA,EAAA,EAAA,QAAA,0BAAA,yCACA,EAAA,EAAA,QACA,mQACA,yCACA,EAAA,EAAA,QACA,+GACA,sCAEA,EAAA,EAAA,QACA,sBACA,2CAEA,EAAA,EAAA,QAAA,OAAA,QACA,EAAA,EAAA,QAAA,MAAA,QACA,EAAA,EAAA,QAAA,gBAAA,4CACA,EAAA,EAAA,QAAA,QAAA,OACA,EAAA,EAAA,QAAA,QAAA,MAEA,EAAA,EAAA,QAAA,qBAAA,wCAIA,EAAA,EAAA,QAAA,gBAAA,UACA,EAAA,EAAA,QAAA,WAAA,4BACA,EAAA,EAAA,QAAA,UAAA,SACA,EAAA,EAAA,QAAA,YAAA,QACA,EAAA,EAAA,QAAA,YAAA,QACA,EAAA,EAAA,QAAA,UAAA,QACA,EAAA,EAAA,QAAA,UAAA,QACA,EAAA,EAAA,QAAA,WAAA,SAEA,GAAA,QAEA,KAAA,YACA,EAAA,KAAA,UAAA,EAAA,IAEA,GAEA,EAAA,eAAA,sDACA,EAAA,kBAAA,SAAA,EAAA,EAAA,EAAA,GAIA,MAHA,GAAA,EAAA,QAAA,EAAA,eAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,MAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,MAIA,EAAA,wBAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,MAAA,GAAA,aAAA,GAAA,GAAA,IAAA,QAAA,GAAA,GAAA,IAAA,QAAA,GAAA,IAAA,SAEA,EAAA,mBAAA,KACA,EAAA,aAAA,SAAA,EAAA,EAAA,EAAA,GAEA,GAAA,KAAA,mBAAA,CACA,GAAA,GAAA,IAEA,IADA,EAAA,KAAA,mBAAA,EAAA,EAAA,EAAA,GACA,MAAA,EACA,MAAA,GAIA,MAAA,GAAA,MAAA,iCACA,aAAA,EAAA,YAAA,EAAA,KAAA,EAAA,MACA,EAAA,MAAA,UAAA,EAAA,MAAA,WACA,YAAA,EAAA,KAAA,EAAA,KAAA,EAAA,OACA,EAAA,MAAA,UACA,YAAA,EAAA,QAAA,QAAA,IAAA,KAAA,EAAA,KAAA,EAAA,OAGA,kBAAA,EAAA,KAAA,EAAA,KAAA,EAAA,QAIA,EAAA,MAAA,aACA,EAAA,OAAA,SAAA,EAAA,GACA,GAAA,IACA,KAAA,EACA,MAAA,KACA,aACA,KAAA,KACA,IAAA,GAAA,aAIA,eAAA,SAAA,GAGA,GAAA,EAAA,MAAA,OAGA,MAFA,GAAA,EAAA,UAAA,OACA,MAAA,UAAA,KAAA,EAKA,IAAA,QAAA,EAWA,MANA,GAAA,EAAA,cAAA,KAAA,GAEA,EAAA,EAAA,kBAAA,KAAA,EAAA,EAAA,wBAAA,MAEA,EAAA,EAAA,YAAA,KAAA,IAMA,IAAA,EACA,QAAA,EACA,QAAA,GACA,aAAA,EACA,WAAA,EACA,OAAA,EACA,UAAA,EACA,QAAA,EAEA,QAAA,WACA,KAAA,aACA,KAAA,KAAA,GACA,KAAA,UAAA,KAAA,sBACA,KAAA,IAAA,KAAA,QACA,IAAA,GAAA,EAAA,WAAA,KAKA,KAJA,KAAA,IAAA,KAAA,gBAEA,KAAA,MAAA,EAAA,MAAA,SACA,KAAA,IAAA,KAAA,gBACA,KAAA,IAAA,EAAA,KAAA,IAAA,KAAA,MAAA,OAAA,KAAA,MAAA,CACA,GAAA,GAAA,KAAA,MAAA,KAAA,IACA,KAAA,EAAA,MAAA,SAGA,GAAA,aAAA,EAKA,GAAA,YAAA,EAQA,GAAA,KAAA,UACA,KAAA,UAAA,EAAA,QAAA,qBAAA,MAAA,OACA,KAAA,UAAA,KAAA,EAAA,YAAA,KAAA,QAKA,IAAA,eAAA,EAIA,GAAA,cAAA,EAIA,GAAA,KAAA,YACA,KAAA,UAAA,KAAA,OAKA,IAAA,eAAA,EAiBA,GAAA,EAAA,MAAA,kCACA,KAAA,aAAA,EACA,KAAA,WAAA,EAAA,MAAA,iBAAA,GACA,KAAA,OAAA,OAGA,IAAA,EAAA,MAAA,uCAAA,CACA,KAAA,WAAA,EAAA,MAAA,iBAAA,GACA,KAAA,OAAA,KAAA,QACA,IAAA,IAAA,CACA,IAAA,EAAA,cAAA,CACA,GAAA,GAAA,EAAA,cAAA,KAAA,KAAA,WAAA,KAAA,OACA,KACA,GAAA,EACA,KAAA,UAAA,KAAA,IAGA,IACA,KAAA,UAAA,KAAA,iBAAA,KAAA,WAAA,MACA,KAAA,UAAA,KAAA,KAAA,QACA,KAAA,UAAA,KAAA,kBAIA,IAAA,KAAA,YAEA,KAAA,QAAA,EAAA,QAAA,qBAAA,UAFA,CAOA,GAAA,EAAA,MAAA,OACA,KAAA,QACA,KAAA,UAAA,KAAA,WACA,KAAA,UAAA,KAAA,WACA,KAAA,OAAA,EACA,KAAA,QAAA,OAGA,CAAA,GAAA,WAAA,EAAA,CACA,KAAA,YACA,KAAA,WAAA,EACA,KAAA,UAAA,KAAA,UAEA,KAAA,UACA,KAAA,UAAA,KAAA,SAEA,KAAA,QACA,KAAA,UAAA,KAAA,kBACA,KAAA,OAAA,GAEA,KAAA,UAAA,EACA,KAAA,UAAA,KAAA,OACA,UAEA,GAAA,YAAA,EAAA,CACA,KAAA,WACA,KAAA,UAAA,KAAA,SAEA,KAAA,QACA,KAAA,UAAA,KAAA,sBACA,KAAA,OAAA,EACA,KAAA,UAAA,GAEA,KAAA,WAAA,EACA,KAAA,UAAA,KAAA,OACA,UACA,GAAA,aAAA,EAAA,CACA,KAAA,WAAA,EACA,KAAA,UAAA,KAAA,QACA,UAEA,GAAA,YAAA,EAAA,CACA,KAAA,WACA,KAAA,UAAA,KAAA,SAEA,KAAA,WAAA,EACA,KAAA,UAAA,EACA,KAAA,UAAA,KAAA,QACA,UAIA,KAAA,QACA,KAAA,YACA,KAAA,UACA,KAAA,UAAA,KAAA,SAEA,KAAA,UAAA,KAAA,YACA,KAAA,UAAA,KAAA,YACA,KAAA,OAAA,EACA,KAAA,WAAA,EACA,KAAA,UAAA,IAMA,IAAA,KAAA,OAAA,KAAA,UA+CA,GAAA,cAAA,EAKA,GAAA,eAAA,EAMA,GAAA,QAAA,EAAA,CAKA,GAAA,GAAA,KAAA,eAAA,EACA,IACA,KAAA,UAAA,KAAA,OANA,MAAA,UAAA,KAAA,aANA,MAAA,UAAA,KAAA,cALA,MAAA,UAAA,KAAA,4BAhDA,CACA,GAAA,GAAA,KAAA,OAAA,KAAA,IACA,MAAA,QACA,EAAA,MAAA,eACA,EAAA,EAAA,QAAA,YAAA,KACA,KAAA,QAAA,EACA,OAAA,GACA,EAAA,KAGA,IAAA,GAAA,EAAA,MAAA,MACA,EAAA,EACA,MAAA,SACA,GAAA,oBAEA,KAAA,QAAA,EAEA,GAAA,MACA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IACA,GAAA,GAAA,GAAA,GAAA,EAAA,OAAA,EAAA,CACA,GAAA,GAAA,EAAA,GAAA,MACA,GAAA,EAAA,cAAA,KAAA,GACA,EAAA,EAAA,kBAAA,KAAA,EAAA,EAAA,wBAAA,KACA,IAAA,GAAA,EAAA,MAAA,uBACA,IAAA,EAAA,CACA,EAAA,EAAA,QAAA,uBAAA,GACA,IAAA,GAAA,EACA,EAAA,CAEA,GAAA,KACA,EAAA,EAAA,IAEA,EAAA,KACA,EAAA,EAAA,IAEA,GAAA,IAAA,EAAA,aAAA,EAAA,cAAA,EAAA,MAAA,EAAA,KAAA,EAAA,QAEA,IAAA,IAAA,EAAA,IAAA,EAAA,KAAA,EAAA,IAKA,GAAA,QACA,KAAA,UAAA,KAAA,QA9JA,CACA,KAAA,aAAA,CACA,IAAA,IAAA,CACA,IAAA,EAAA,cAAA,CACA,GAAA,GAAA,EAAA,cAAA,KAAA,KAAA,WAAA,KAAA,OACA,KACA,GAAA,EACA,KAAA,UAAA,KAAA,IAGA,IACA,KAAA,UAAA,KAAA,iBAAA,KAAA,WAAA,MACA,KAAA,UAAA,KAAA,KAAA,QACA,KAAA,UAAA,KAAA,kBAtBA,MAAA,aAAA,MAJA,MAAA,aAAA,MAfA,MAAA,WAAA,EACA,KAAA,SAAA,GACA,KAAA,UAAA,KAAA,+BAPA,MAAA,WAAA,EACA,KAAA,UAAA,KAAA,UAuNA,KAAA,UAAA,KAAA,UAEA,KAAA,KAAA,EACA,KAAA,GAAA,GAAA,EAAA,EAAA,KAAA,UAAA,OAAA,IAAA,CACA,GAAA,GAAA,KAAA,UAAA,GAAA,QAAA,aAAA,KACA,MAAA,MAAA,IAMA,OADA,MAAA,MAAA,GACA,GAIA,EAAA,UAAA,SAAA,EAAA,GACA,GAAA,IACA,KAAA,EACA,MAAA,KACA,aACA,KAAA,KACA,IAAA,GAAA,aAEA,iBAAA,SAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GACA,GAAA,IAAA,GAAA,IAAA,OACA,GAAA,GAAA,GAAA,IAAA,OACA,GAAA,GAAA,IAAA,MACA,GAAA,KAAA,EACA,EAAA,MAAA,EACA,EAAA,UAAA,GAGA,eAAA,SAAA,GACA,IAAA,KAAA,OAAA,CACA,GAAA,cAAA,EAEA,YADA,KAAA,QAAA,EAGA,IAAA,eAAA,EAEA,YADA,KAAA,QAAA,EAGA,KAAA,EAAA,MAAA,QACA,EAAA,MAAA,OAAA,CAEA,GAAA,GAAA,CAqBA,IAnBA,EAAA,MAAA,YACA,EAAA,EACA,EAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,WACA,EAAA,EACA,EAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,UACA,EAAA,EACA,EAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,SACA,EAAA,EACA,EAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,QACA,EAAA,EACA,EAAA,EAAA,UAAA,GAAA,QACA,EAAA,MAAA,QACA,EAAA,EACA,EAAA,EAAA,UAAA,GAAA,QAEA,GAAA,EAAA,MAAA,KAEA,GAAA,EAAA,cAAA,KAAA,EAEA,IAAA,IAAA,MAAA,EAAA,IAAA,EAAA,SAKA,IAFA,EAAA,EAAA,kBAAA,KAAA,EAAA,KAAA,iBAAA,GAEA,GAAA,EACA,KAAA,KAAA,MAAA,KAAA,GACA,EAAA,OAAA,KAAA,SAEA,IAAA,MAAA,KAAA,KACA,GAAA,GAAA,KAAA,KAAA,MACA,KAAA,KAAA,OAAA,MAAA,KAAA,GACA,EAAA,OAAA,KAAA,KAAA,WACA,IAAA,GAAA,KAAA,KAAA,MAAA,EACA,KAAA,KAAA,MAAA,KAAA,GACA,EAAA,OAAA,KAAA,SACA,IAAA,EAAA,KAAA,KAAA,MAAA,CAEA,IADA,GAAA,GAAA,KAAA,KACA,GAAA,EAAA,OACA,EAAA,EAAA,MAEA,GAAA,MAAA,KAAA,GACA,EAAA,OAAA,EAKA,KAAA,aAAA,EACA,KAAA,KAAA,EACA,KAAA,KAAA,IAAA,KAAA,KAAA,QACA,KAAA,KAAA,IAAA,KAAA,MAIA,IAAA,EACA,QAAA,GACA,aAAA,EACA,KAAA,KACA,QAAA,EACA,QAAA,WACA,KAAA,aACA,KAAA,MAAA,UACA,KAAA,IAAA,KAAA,QACA,IAAA,GAAA,EAAA,WAAA,KAMA,KAJA,KAAA,IAAA,KAAA,gBAEA,KAAA,MAAA,EAAA,MAAA,MACA,KAAA,IAAA,KAAA,gBACA,KAAA,IAAA,EAAA,KAAA,IAAA,KAAA,MAAA,OAAA,KAAA,MACA,KAAA,eAAA,KAAA,MAAA,KAAA,KAIA,IAAA,KAAA,KAAA,IACA,IAAA,GAAA,GAAA,EAAA,EAAA,KAAA,KAAA,IAAA,OAAA,UACA,MAAA,KAAA,IAAA,GAAA,aAIA,MAAA,KAAA,KAKA,OADA,MAAA,MAAA,GACA,GAGA,EAAA,OAAA,SAAA,GACA,GAAA,GAAA,KAAA,OAAA,EACA,GAAA,SACA,IAAA,GAAA,EAAA,IAEA,cADA,GACA,GAEA,EAAA,MAAA,SAAA,GACA,GAAA,GAAA,KAAA,UAAA,EACA,GAAA,SACA,IAAA,GAAA,EAAA,IAEA,cADA,GACA,EAGA,IAAA,GAAA,CAcA,OAbA,GAAA,cAAA,SAAA,EAAA,EAAA,GACA,GAAA,OAAA,GAAA,UAAA,EAAA,CACA,GACA,IAAA,GAAA,CAMA,OALA,QAAA,WAAA,WACA,EAAA,MAAA,OAAA,OAAA,IAAA,cAAA,EAAA,eAAA,KAAA,IAAA,KAAA,SAAA,GACA,EAAA,YAAA,GAAA,KAAA,MAEA,KACA,oBAAA,EAAA,oBAAA,EAAA,WAEA,MAAA,OAEA,OC3qBA,OD8qBA,cAAA,WClpBA,QAAA,eAAA,GAAA,OACA,GAAA,MAAA,IACA,MAAA,YAAA,GACA,KAAA,UAAA,MAAA,OAAA,MAAA,OAAA,KACA,KAAA,YAAA,MAAA,SAAA,MAAA,SAAA,GACA,KAAA,WAAA,MAAA,QAAA,MAAA,QAAA,GAEA,KAAA,gBAAA,SAAA,GAEA,GADA,EAAA,MAAA,EAAA,OAAA,KACA,EAAA,MAAA,CACA,GAAA,GAAA,EAAA,yBAKA,OAJA,GAAA,MAAA,QAAA,SAAA,GACA,GAAA,GAAA,KAAA,iBAAA,EACA,GAAA,OAAA,KAEA,IAGA,KAAA,iBAAA,SAAA,GACA,EAAA,KAAA,EAAA,MAAA,EAAA,MAAA,OACA,EAAA,KAAA,EAAA,MAAA,EAAA,IACA,IAAA,GAAA,KAAA,qBAAA,EACA,IAAA,WAAA,EAAA,KACA,MAAA,GAAA,8DAEA,QAAA,EAAA,MACA,IAAA,OACA,EAAA,OAAA,KAAA,iBAAA,GAAA,MACA,KAAA,OACA,EAAA,OAAA,KAAA,iBAAA,GAAA,MACA,KAAA,iBACA,EAAA,OAAA,KAAA,iBAAA,IAAA,OAAA,KAAA,iBAAA,GAAA,MACA,KAAA,OACA,EAAA,OAAA,KAAA,iBAAA,IAIA,GADA,EAAA,MAAA,EAAA,OAAA,KACA,EAAA,MAAA,CACA,GAAA,GAAA,KAAA,gBAAA,EACA,GAAA,OAAA,GAEA,MAAA,IAGA,KAAA,iBAAA,SAAA,GACA,MAAA,GAAA,uDAAA,KAAA,EAAA,OAGA,KAAA,iBAAA,SAAA,GACA,GAAA,GAAA,EAAA,sDACA,EAAA,EAAA,KAAA,OAEA,OADA,GAAA,OAAA,uBAAA,IAAA,EAAA,QAAA,SAAA,EAAA,EAAA,SAAA,UACA,GAGA,KAAA,iBAAA,SAAA,GACA,GAAA,GAAA,EAAA,yEACA,EAAA,EAAA,MAAA,EAAA,MAAA,EAAA,SASA,OARA,IAAA,IAAA,GAEA,EAAA,OADA,IAAA,EAAA,QAAA,KACA,EAAA,WAAA,KAAA,MAAA,GAGA,EAAA,QAAA,SAAA,IAGA,GAGA,KAAA,qBAAA,SAAA,GACA,GAAA,GAAA,EAAA,iDACA,KAAA,OAAA,EAAA,KAkBA,OAjBA,GAAA,SAAA,eAAA,EAAA,KAAA,EAAA,KAAA,UACA,EAAA,MAAA,EAAA,OAAA,EAAA,OAAA,KACA,EAAA,MAAA,EAAA,OAAA,EAAA,OAAA,KACA,EAAA,KAAA,EAAA,MAAA,EAAA,MAAA,KACA,EAAA,OAAA,EAAA,OACA,EAAA,KAAA,aAAA,KACA,EAAA,SAAA,eAEA,EAAA,KAAA,YAAA,KAEA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,KACA,EAAA,QAAA,KAAA,YAAA,EAAA,OACA,EAAA,KAAA,WAAA,QAAA,KAAA,UAAA,MAAA,EAAA,KAAA,MAKA,GAGA,KAAA,UAAA,SAAA,GACA,GAAA,IAAA,QACA,QAAA,KAAA,GAAA,QAAA,WACA,IAAA,EAAA,QAAA,MAMA,KAAA,eAAA,SAAA,KAAA,YACA,GAAA,QAAA,KAAA,KAAA,WAAA,MAAA,QAAA,CAOA,OANA,QAAA,SAAA,OAAA,OAAA,QACA,OAAA,KAAA,QAAA,QAAA,SAAA,GACA,KAAA,KACA,OAAA,KAAA,IAAA,OAAA,MAGA,QAGA,KAAA,aAAA,SAAA,GACA,GAAA,GAAA,EAAA,SAUA,OATA,aAAA,QACA,EAAA,QAAA,SAAA,GACA,KAAA,YAAA,IAAA,KAAA,YACA,KAAA,eAAA,EAAA,KAAA,aAAA,EAAA,OAAA,KAAA,iBAAA,IAEA,EAAA,OAAA,KAAA,iBAAA,MAIA,GAtJA,GAAA,mBAAA,UAAA,CACA,EAAA,UAAA,GAAA,QAAA,WACA,EAAA,qBAAA,YAAA,UAGA,IAAA,cAAA,WACA,GAAA,GAAA,KAAA,MAAA,IAAA,KAAA,UACA,EAAA,KAAA,MAAA,GAAA,KAAA,UAAA,GACA,EAAA,KAAA,MAAA,GAAA,KAAA,UAAA,EACA,QAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAGA,eAAA,SAAA,EAAA,GACA,EAAA,OAAA,GAAA,QAAA,cAAA,IACA,EAAA,OAAA,IACA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAEA,EAAA,GAAA,CACA,IAAA,GAAA,EAAA,EAAA,GACA,KAAA,EAAA,EAAA,EAAA,EAAA,IACA,EAAA,SAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IACA,EAAA,KAAA,MAAA,KAAA,IAAA,KAAA,IAAA,EAAA,EAAA,EAAA,GAAA,MAAA,SAAA,IACA,IAAA,KAAA,GAAA,OAAA,EAAA,OAEA,OAAA,GAkIA,SAAA,OAAA,WACA,UAAA,QAAA,WAAA,SAAA,GACA,GAAA,GAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,KAAA,8BACA,EAAA,EAAA,KAAA,8BACA,GAAA,YAAA,UACA,EAAA,OAAA,UAAA,EAAA,MAAA,QAAA,SAAA,UACA,EAAA,OACA,EAAA,OAAA,WAAA,EAAA,MAAA,OAGA,QACA,SAAA,IACA,KAAA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,EACA,IAAA,GAAA,EAAA,SAAA,IAAA,EAAA,GACA,GAAA,OACA,EAAA,OAAA,EAAA,MAAA,WACA,GAAA,GAAA,GAAA,eAAA,EAAA,GACA,EAAA,QAAA,QAAA,EAAA,aAAA,EAAA,EAAA,QAAA,QACA,EAAA,EAAA,GAAA,EACA,GAAA,KAAA,qBAAA,QAAA,OAAA,IAGA,IAAA,GAAA,WAMA,GALA,EAAA,GAAA,QAAA,8BAAA,SAAA,GACA,GAAA,GAAA,EAAA,EAAA,cAAA,UAAA,SAAA,cAAA,EAAA,cAAA,EAAA,cAAA,eAAA,KAAA,OACA,GAAA,SAAA,IAAA,EAAA,IAAA,YAAA,IACA,EAAA,EAAA,KAEA,EAAA,YASA,EAAA,EAAA,EAAA,iBATA,CACA,GAAA,GAAA,EAAA,KAAA,wCAAA,OACA,IAAA,EAAA,SACA,EAAA,EAAA,KAAA,+BAAA,QAEA,IAAA,GAAA,EAAA,KAAA,OACA,GAAA,SAAA,IAAA,EAAA,IAAA,YAAA,IACA,EAAA,EAAA,KAKA,EAAA,WACA,EAAA,GAAA,aAAA,kCAAA,SAAA,GACA,EAAA,qBAAA,YAAA,QACA,IAAA,GAAA,EAAA,EAAA,QAAA,QAAA,0BACA,GAAA,SAAA,SACA,EAAA,QAAA,SAAA,EAAA,QAAA,SAAA,KAAA,EAAA,QAAA,cAAA,IACA,EAAA,QAAA,SAAA,aAAA,YAAA,cAGA,EAAA,QAAA,SAAA,cAAA,YAAA,eAIA,WAAA,EAAA,KACA,IAEA,UAAA,EAAA,MAGA,YAAA,EAAA,MACA,IAEA,EAAA,GAAA,QAAA,cAAA,SAAA,GACA,GAAA,GAAA,EAAA,EAAA,QACA,EAAA,EAAA,SAAA,eAAA,EAAA,EAAA,QAAA,eAAA,OACA,GAAA,KAAA,QACA,OAAA,KAAA,EAAA,KAAA,OAAA,iBAMA,UAAA,YAAA,WAAA,SAAA,GAKA,OACA,SAAA,IACA,KAAA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,GAEA,EAAA,OACA,EAAA,OAAA,EAAA,MAAA,WACA,GAAA,GAAA,GAAA,eAAA,EAAA,GACA,EAAA,QAAA,QAAA,EAAA,aAAA,EAAA,EAAA,QAAA,QACA,EAAA,EAAA,GAAA,EACA,GAAA,KAAA,YAAA,QAAA,QAAA,OAAA,KAGA,EAAA,KAAA,EAAA,OACA,EAAA,QAAA,EAAA,UAAA,SAAA,GACA,EAAA,EAAA,OAAA,SAMA,UAAA,WAAA,WACA,OACA,SAAA,IACA,KAAA,SAAA,EAAA,EAAA,GACA,EAAA,EAAA,EACA,IAAA,GAAA,EACA,EAAA,EAAA,KAIA,KAHA,GAAA,EAAA,WACA,EAAA,EAAA,SAAA,KAAA,UAEA,EACA,EAAA,GAAA,EAAA,QAAA,KAAA,EAAA,IAAA,EACA,EAAA,eAAA,GAAA,QACA,CACA,GAAA,GAAA,cACA,GAAA,OAAA,EAAA,EAAA,IAAA,EAAA,EAAA,KAAA,EAAA,EAAA,KACA,EAAA,QAAA,EAAA,EAAA,IAAA,IAAA,EAAA,EAAA,MAAA,EAAA,EAAA,IAAA,KAEA,EAAA,IAAA,aAAA,2BAAA,EAAA,IAAA,EAAA,SAIA,UAAA,aAAA,WAAA,SAAA,GACA,OACA,SAAA,IACA,KAAA,SAAA,EAAA,EAAA,GAEA,GADA,EAAA,EAAA,GACA,EAAA,MAAA,CACA,GAAA,GAAA,GAAA,eAAA,EAAA,EACA,GAAA,OAAA,EAAA,MAAA,WACA,GAAA,GAAA,QAAA,QAAA,EAAA,aAAA,EAAA,EAAA,QAAA,QACA,EAAA,EAAA,GAAA,EACA,GAAA,KAAA,YAAA,QAAA,QAAA,OAAA,KAGA,GAAA,kBAAA,EAAA,MAAA,QAAA,EAAA,KAAA,CACA,GAAA,GAAA,EAAA,KAIA,KAHA,GAAA,EAAA,WACA,EAAA,EAAA,SAAA,KAAA,UAEA,EAAA,CACA,GAAA,GAAA,CACA,GAAA,GAAA,EAAA,QAAA,KAAA,EAAA,IAAA,EACA,EAAA,eAAA,GAAA,IACA,EAAA,KAAA,SAAA,QAAA,IAAA,aAAA,2BAAA,EAAA,IAAA,EAAA,SACA,CACA,GAAA,GAAA,cACA,GAAA,KAAA,SAAA,QAAA,IAAA,aACA,+BAAA,EAAA,EAAA,IAAA,EAAA,EAAA,KAAA,EAAA,EAAA,WAAA,EAAA,EAAA,IAAA,IAAA,EAAA,EAAA,MAAA,EAAA,EAAA,IAAA,iBAOA,OCtTA,gBAAA,YACA,SAAA,GAEA,QAAA,KACA,GAAA,GAAA,IACA,QAAA,KAAA,cAAA,QAAA,SAAA,GACA,GAAA,GAAA,aAAA,QAAA,EACA,GAAA,GAAA,EAAA,OAAA,GAAA,KAAA,MAAA,GAAA,IALA,mBAAA,WASA,EAAA,UAAA,IAAA,SAAA,EAAA,GACA,GAAA,gBAAA,GAAA,CACA,GAAA,GAAA,IACA,QAAA,KAAA,GAAA,QAAA,SAAA,GACA,EAAA,IAAA,EAAA,EAAA,UAGA,IAAA,gBAAA,GAQA,MAPA,gBAAA,IACA,KAAA,GAAA,EACA,EAAA,KAAA,UAAA,IAEA,KAAA,GAAA,KAAA,OAAA,GAAA,KAAA,MAAA,GAAA,EAEA,aAAA,QAAA,EAAA,GACA,GAIA,EAAA,UAAA,OAAA,SAAA,GACA,MAAA,gBAAA,IAAA,IAAA,IAAA,GAAA,EAAA,OAAA,QAAA,MAAA,GAAA,EAAA,OAAA,QAAA,MAAA,QAAA,EAAA,QAAA,SAAA,EAAA,SAGA,EAAA,UAAA,IAAA,SAAA,GAKA,MAJA,MAAA,KACA,KAAA,IAAA,EACA,aAAA,QAAA,EAAA,UAEA,KAAA,IAGA,QAAA,OAAA,eACA,QAAA,YAAA,aAAA,SAAA,GACA,GAAA,GAAA,GAAA,GACA,EAAA,SAAA,GACA,EAAA,SAAA,EACA,EAAA,OAAA,WAAA,SAAA,EAAA,GACA,OAAA,KAAA,GAAA,QAAA,SAAA,GACA,EAAA,IAAA,EAAA,IACA,EAAA,SAAA,IAAA,EAAA,EAAA,QAGA,GAqBA,OAnBA,GAAA,IAAA,SAAA,EAAA,GACA,MAAA,GAAA,IAAA,EAAA,IAEA,EAAA,IAAA,SAAA,GACA,MAAA,GAAA,IAAA,IAEA,EAAA,MAAA,SAAA,GACA,GAAA,GAAA,EAAA,OAAA,EAAA,YAAA,EAAA,IAAA,EAAA,MAUA,OATA,GAAA,OAAA,WAAA,MAAA,IAAA,WACA,EAAA,IAAA,EAAA,KAAA,KACA,GACA,EAAA,MACA,EAAA,KAAA,GAEA,EAAA,YACA,EAAA,aAEA,GAEA,QC1EA,OD8EA,sBC7EA,WACA,mBAAA,UACA,QAAA,OAAA,mBACA,QAAA,oBAAA,WACA,MAAA,UAAA,GACA,GAAA,GAAA,EAAA,yBACA,GAAA,QAAA,KAAA,EACA,IAAA,GAAA,uBACA,EAAA,6BACA,EAAA,EAAA,KACA,GAAA,KAAA,mBAAA,EAAA,YAAA,EAAA,SAAA,EAAA,gDAAA,EAAA,eAIA,OCfA,iBAAA,WACA,mBAAA,UACA,QAAA,OAAA,cACA,QAAA,WAAA,QAAA,WAAA,SAAA,EAAA,GACA,MAAA,UAAA,EAAA,GACA,EAAA,MACA,EAAA,QAAA,EAAA,SAAA,IACA,EAAA,IAAA,EAAA,KAAA,IACA,EAAA,QAAA,EAAA,UAAA,EACA,EAAA,SAAA,EAAA,UAAA,WAAA,OAAA,GACA,EAAA,SAAA,EAAA,UAEA,EAAA,QADA,gBAAA,GAAA,OACA,SAAA,GACA,EAAA,MAAA,EAAA,QACA,EAAA,MAAA,EAAA,QAAA,GAEA,EAAA,EAAA,QAAA,GAIA,SAAA,GACA,EAAA,OAAA,OAAA,IAIA,EAAA,QAAA,EAAA,UACA,EAAA,QAAA,SAAA,GACA,EAAA,KAAA,GAGA,IAAA,GAAA,CACA,GAAA,SACA,EAAA,EAAA,EAAA,OAAA,gBAEA,EAAA,SACA,QAAA,WACA,GAAA,GAAA,EAAA,IACA,mBAAA,KACA,EAAA,KAEA,EAAA,GAAA,QAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,UACA,EAAA,UAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EAAA,EAAA,EAAA,KAEA,MAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,QACA,EAAA,QAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EAAA,EAAA,EAAA,MAIA,cAAA,WACA,GAAA,GAAA,EAAA,QAIA,IAHA,kBAAA,KACA,EAAA,KAEA,EAAA,SAAA,GAAA,CAGA,GAAA,IACA,QAAA,EAAA,QACA,MAAA,EAAA,MAEA,GAAA,UACA,EAAA,MAAA,KAGA,EAAA,OAAA,EAAA,KAEA,mBAAA,WACA,GAAA,GAAA,EAAA,QACA,mBAAA,KACA,EAAA,KAEA,EAAA,OAAA,MAAA,GACA,EAAA,WACA,EAAA,OAAA,IAAA,EAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,QACA,EAAA,QAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EAAA,EAAA,EAAA,IAEA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,MACA,EAAA,MAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EAAA,EAAA,EAAA,MAGA,EAAA,MAEA,SAAA,WACA,EAAA,EAAA,WACA,EAAA,WACA,EAAA,EAAA,SAAA,QAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,QACA,EAAA,QAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EAAA,EAAA,EAAA,KAEA,MAAA,SAAA,EAAA,EAAA,EAAA,GACA,EAAA,MACA,EAAA,MAAA,EAAA,EAAA,EAAA,GAEA,QAAA,IAAA,EAAA,EAAA,EAAA,MAGA,EAAA,MAEA,IAAA,SAAA,KACA,GAAA,EAAA,kBACA,EAAA,OACA,EAAA,MACA,KAAA,qBAEA,KAAA,gBAGA,EAAA,MACA,KAAA,WAEA,KAAA,WAGA,MAAA,EACA,WAAA,SAAA,KACA,GAAA,EAAA,kBACA,EAAA,gBACA,aAAA,QAAA,EAAA,eAAA,KAAA,MAEA,KAAA,aAEA,QAAA,KACA,UAAA,WACA,GAAA,KAAA,MACA,IAAA,KAAA,QAAA,CACA,GAAA,GAAA,IACA,MAAA,QAAA,EAAA,WACA,EAAA,MACA,EAAA,QAAA,KACA,EAAA,aACA,EAAA,cAGA,MAAA,UACA,EAAA,OAAA,KAAA,SACA,KAAA,QAAA,QAMA,EAAA,QAAA,MACA,EAAA,QAAA,OAAA,EAAA,MACA,EAAA,QAAA,MAAA,EAAA,iBACA,EAAA,QAAA,OAAA,KAAA,MAAA,aAAA,QAAA,EAAA,iBAAA,UAEA,EAAA,QAAA,kBAIA,OAAA,aAAA,YCnKA,SAAA,GACA,MAAA,GAAA,SAAA,GACA,GAAA,GAAA,EAAA,QAAA,EAAA,YACA,EAAA,EAAA,QAAA,qBAAA,WACA,KAAA,UAAA,GACA,KAAA,aAAA,EACA,KAAA,SAAA,YACA,KAAA,UAAA,QACA,KAAA,WAAA,SACA,KAAA,UAAA,EACA,KAAA,aAAA,QACA,KAAA,SAAA,MACA,KAAA,QAAA,GACA,KAAA,WAAA,QACA,KAAA,MAAA,GACA,KAAA,OAAA;EAEA,EAAA,EAAA,QAAA,eAAA,WACA,KAAA,YAAA,sBACA,KAAA,UAAA,EACA,KAAA,aAAA,EACA,KAAA,WAAA,EACA,KAAA,YAAA,EACA,KAAA,cAAA,GACA,KAAA,gBAAA,GACA,KAAA,eAAA,GACA,KAAA,cAAA,GACA,KAAA,gBAAA,GACA,KAAA,eAAA,GACA,KAAA,YAAA,EACA,KAAA,cAAA,EACA,KAAA,cAAA,EAGA,GAAA,MAAA,SAAA,GACA,EAAA,EAAA,KAAA,EAAA,GACA,aAAA,WAAA,EAAA,aACA,aAAA,mBACA,aAAA,gBAAA,GACA,aAAA,UAAA,YAAA,EAAA,WACA,aAAA,UAAA,eAAA,EAAA,cACA,aAAA,UAAA,aAAA,EAAA,YACA,aAAA,UAAA,cAAA,EAAA,aACA,aAAA,UAAA,gBAAA,EAAA,eACA,aAAA,UAAA,kBAAA,EAAA,iBACA,aAAA,UAAA,iBAAA,EAAA,gBACA,aAAA,UAAA,gBAAA,EAAA,eACA,aAAA,UAAA,kBAAA,EAAA,iBACA,aAAA,UAAA,iBAAA,EAAA,gBACA,aAAA,UAAA,iBAAA,EAAA,gBACA,aAAA,UAAA,cAAA,EAAA,aACA,aAAA,UAAA,gBAAA,EAAA,eACA,aAAA,UAAA,gBAAA,EAAA,eACA,aAAA,QACA,aAAA,gBAAA,IAEA,EAAA,YAAA,SAAA,GACA,EAAA,EAAA,KAAA,EAAA,EAEA,IAAA,GAAA,EAAA,OAAA,SAAA,MACA,EAAA,EAAA,SACA,KAAA,EAAA,UAAA,CACA,GAAA,GAAA,aAAA,SAAA,SAAA,SACA,EAAA,UAAA,SAAA,SAAA,SACA,EAAA,EAAA,QACA,KAAA,GAAA,GACA,IAAA,GAAA,EACA,IAAA,GACA,SAAA,SAAA,SAAA,KACA,SAAA,SAAA,SAAA,IAAA,EAAA,IACA,EAAA,aAGA,EAAA,MAAA,QACA,GAAA,KAEA,EAAA,WACA,GAAA,IAAA,EAAA,WAAA,SAEA,GAAA,IAAA,EAAA,WAAA,IAAA,mBAAA,EACA,IAAA,GAAA,EAAA,OACA,GAAA,UACA,EAAA,SAAA,SAAA,SAAA,MAAA,EAAA,YAAA,YAAA,SAAA,SAAA,UAAA,IAAA,SAAA,SAAA,KACA,SAAA,SAAA,SACA,SAAA,SAAA,OACA,SAAA,SAAA,MAEA,EAAA,MAAA,OACA,GAAA,KAEA,EAAA,YACA,GAAA,IAAA,EAAA,UAAA,SAEA,EAAA,mBAAA,GACA,GAAA,IAAA,EAAA,SAAA,IAAA,EACA,OAAA,KAAA,EAAA,EAAA,aChGA,ODoGA,aAAA,aAAA,UAAA,SAAA,EAAA,GCnGA,MAAA,GAAA,SAAA,GACA,EAAA,MAAA,EAAA,SACA,IAAA,IACA,GAAA,SACA,GAAA,UACA,GAAA,OACA,GAAA,SACA,GAAA,MACA,GAAA,OACA,GAAA,OACA,GAAA,SACA,GAAA,WACA,IAAA,UACA,IAAA,SACA,IAAA,UACA,GAAA,SACA,GAAA,UACA,GAAA,QACA,GAAA,SACA,GAAA,MACA,GAAA,OACA,GAAA,OACA,GAAA,UACA,GAAA,WACA,IAAA,UACA,IAAA,SACA,IAAA,WAmCA,GAjCA,EAAA,MAAA,WAAA,SAAA,EAAA,GACA,GAAA,GAAA,CAEA,IADA,EAAA,GAAA,IACA,EACA,GAAA,gBAAA,GACA,EAAA,MAEA,IAAA,gBAAA,IAEA,GADA,EAAA,OAAA,GACA,OAAA,MAAA,GACA,MAAA,OAGA,aAAA,QACA,EAAA,EAAA,WAAA,EAGA,IAAA,IACA,GAAA,GAAA,OAAA,WAAA,EAGA,IAAA,GAAA,EAAA,CACA,OAAA,GAAA,eAAA,GACA,EAAA,GAEA,UAEA,EAAA,MAAA,sBACA,sBACA,sBACA,iBACA,gCAEA,EAAA,MAAA,aAAA,SAAA,GAEA,MADA,GAAA,GAAA,KACA,MAAA,EAAA,aACA,MAAA,EAAA,sBACA,OAAA,EAAA,oBACA,KAAA,EAAA,iBACA,OAAA,EAAA,+BACA,IAEA,EAAA,EAAA,MAAA,OAAA,SAAA,EAAA,GACA,IAAA,EAAA,MAAA,KACA,IAAA,YAAA,MAAA,MAAA,EACA,IAAA,gBAAA,GAAA,CACA,EAAA,GAAA,EAAA,MAAA,qBACA,gBAAA,KAAA,GAAA,GACA,KAAA,GAAA,GAAA,EAAA,EAAA,EAAA,OAAA,IAAA,CACA,GAAA,GAAA,EAAA,GACA,EAAA,OAAA,EAAA,EACA,IAAA,EAAA,UACA,MAAA,GAAA,SAGA,MAAA,MAEA,MAAA,OAEA,EAAA,EAAA,MAAA,UAAA,WACA,KAAA,MAAA,KACA,KAAA,MAAA,KACA,KAAA,OAAA,KACA,KAAA,MAAA,GACA,KAAA,SAAA,EACA,KAAA,YAAA,EACA,KAAA,YAAA,EAEA,GAAA,UAAA,YAAA,SAAA,GACA,MAAA,GAAA,KAAA,OAAA,OAAA,EAAA,KAEA,EAAA,UAAA,aAAA,SAAA,GACA,MAAA,GAAA,KAAA,QAAA,OAAA,EAAA,KAGA,EAAA,UAAA,OAAA,SAAA,EAAA,GACA,EAAA,EAAA,EACA,IAAA,IACA,OAAA,UACA,OAAA,iBACA,SAAA,kBAEA,KACA,gBAAA,GACA,EAAA,OAAA,EACA,MAAA,QAAA,IACA,EAAA,OAAA,IAAA,EAAA,OAAA,EAAA,IACA,EAAA,OAAA,IAAA,EAAA,OAAA,EAAA,IACA,EAAA,OAAA,IAAA,EAAA,SAAA,EAAA,KAEA,EAAA,OAAA,EAAA,GAIA,IAAA,IACA,EAAA,EAAA,KAAA,OAAA,OAAA,GACA,EAAA,KAAA,YAAA,GACA,EAAA,KAAA,aAAA,IAEA,EAAA,EAAA,MAOA,OANA,MAAA,aAAA,EAAA,MAAA,MACA,EAAA,EAAA,OAEA,KAAA,aACA,EAAA,EAAA,UAEA,EAAA,YAAA,EAAA,IAGA,EAAA,OAAA,SAAA,EAAA,GACA,EAAA,EAAA,GAAA,GAAA,MACA,IAAA,GAAA,EAAA,KAAA,GAAA,MAAA,EAAA,MAAA,GAEA,OADA,GAAA,SAAA,GACA,GAGA,EAAA,MAAA,SAAA,EAAA,GACA,GAAA,GAAA,EAAA,KAAA,GACA,GAAA,EAAA,QACA,SAAA,WACA,MAAA,QACA,MAAA,QACA,OAAA,SACA,MAAA,SACA,EACA,IAAA,GAAA,QAAA,EAAA,EAAA,SAAA,GACA,IAAA,EAAA,CACA,GAAA,GAAA,EAAA,EAAA,MAAA,GACA,EAAA,EAAA,EAAA,EAAA,MAAA,GACA,OAAA,GAAA,OAAA,EAAA,GAEA,GAAA,GAAA,EAAA,EAAA,EAAA,MAAA,IACA,EAAA,EAAA,EAAA,EAAA,OAAA,IACA,EAAA,GAAA,EAKA,OAJA,GAAA,SAAA,EACA,EAAA,MAAA,SACA,EAAA,MAAA,EACA,EAAA,OAAA,EACA,GAGA,EAAA,SAAA,SAAA,GAKA,GAJA,OAAA,EAAA,QACA,EAAA,SAAA,EACA,EAAA,YAAA,GAEA,SAAA,EAAA,MAAA,CACA,EAAA,SAAA,CACA,IAAA,GAAA,EAAA,EAAA,MAGA,OAFA,GAAA,OAAA,EAAA,QAAA,MAAA,OAAA,cACA,EAAA,MAAA,EAAA,QAAA,QAAA,OAAA,UAGA,GAAA,aAAA,EAAA,MAAA,CACA,EAAA,SAAA,CACA,IAAA,GAAA,EAAA,EAAA,OAAA,IAAA,GAAA,OAGA,OAFA,GAAA,MAAA,EAAA,QAAA,QAAA,OAAA,cACA,EAAA,OAAA,EAAA,QAAA,MAAA,OAAA,UAGA,GAAA,GAAA,EAAA,MAAA,MAAA,6BACA,IAAA,EAAA,CACA,EAAA,SAAA,CACA,IAAA,GAAA,EAAA,GACA,EAAA,OAAA,EAAA,IACA,EAAA,EAAA,EACA,MAAA,EAAA,EAAA,OACA,KAAA,EAAA,EAAA,MACA,KAAA,EAAA,EAAA,QACA,KAAA,EAAA,EAAA,OACA,KAAA,IAAA,EAAA,QACA,EAAA,OAAA,EAAA,MAEA,EAAA,MADA,GAAA,EACA,EAAA,EAAA,QAAA,IAAA,EAAA,GAAA,SAEA,EACA,EAAA,EAAA,QAAA,QAAA,GAEA,EAAA,EAAA,QAAA,MAAA,GAGA,EAAA,OAAA,EAAA,QACA,EAAA,OAAA,EAAA,MACA,EAAA,MAAA,EAAA,OAEA,QAAA,IACA,EAAA,MAAA,EAAA,EAAA,OAAA,QAAA,OAAA,SACA,EAAA,OAAA,EAAA,EAAA,QAAA,MAAA,OAAA,UAGA,EAAA,EAAA,OAAA,OAAA,aAAA,EAAA,EAAA,QAAA,OAAA,cACA,EAAA,YAAA,SAQA,OCpOA,YAAA,cAAA,SAAA,GACA,MAAA,GAAA,SAAA,GACA,GAAA,GAAA,EAAA,KAAA,EAAA,QACA,GAAA,IAAA,SAAA,EAAA,EAAA,GACA,mBAAA,KAEA,GAAA,EACA,EAAA,SAAA,SAAA,MAEA,EAAA,GAAA,GACA,IACA,EAAA,mBAAA,GAEA,IAAA,GAAA,EAAA,QAAA,MAAA,MACA,KACA,EAAA,EAAA,QAAA,OAAA,aAEA,IAAA,GAAA,GAAA,QAAA,IAAA,EAAA,WAAA,KACA,EAAA,EAAA,MAAA,EACA,IAAA,EAAA,CACA,GAAA,GAAA,EAAA,EAAA,OAAA,EACA,OAAA,GACA,mBAAA,EAAA,QAAA,MAAA,MAEA,EAEA,MAAA,IAGA,EAAA,QAAA,SAAA,EAAA,EAAA,EAAA,GAMA,MAJA,GADA,EACA,EAEA,KAEA,KAAA,IAAA,EAAA,EAAA,EAAA,IAGA,EAAA,IAAA,SAAA,EAAA,EAAA,EAAA,GACA,GAAA,IAAA,CACA,oBAAA,KACA,EAAA,SAAA,SAAA,KACA,GAAA,EACA,GAAA,EAEA,IAAA,GAAA,MAAA,GAAA,mBAAA,EACA,GAAA,GAAA,UACA,EAAA,GAAA,GACA,EAAA,GAAA,GACA,IACA,EAAA,mBAAA,GACA,EAAA,mBAAA,IAEA,EAAA,EAAA,GAAA,IAAA,EAAA,IAAA,CAEA,IAAA,GAAA,EAAA,QAAA,MAAA,MACA,KACA,EAAA,EAAA,QAAA,OAAA,aAEA,IAAA,GAAA,GAAA,QAAA,IAAA,EAAA,WAAA,IAaA,OAZA,GAAA,EAAA,QAAA,EAAA,EAAA,QAAA,IAAA,OACA,IACA,GAAA,EAAA,SAAA,EAAA,KACA,KAAA,EAAA,KAAA,EAAA,IAAA,GACA,SAAA,SAAA,KAIA,SAAA,SAAA,KACA,SAAA,SAAA,KAAA,MAAA,YAAA,GAAA,EAJA,SAAA,SAAA,MAAA,GAOA,OCxEA,OAAA,cAAA,aAAA,YAAA,SAAA,GACA,MAAA,GAAA,SAAA,GAEA,GAAA,GAAA,EAAA,OAAA,EAAA,UACA,GAAA,kBAAA,SAAA,EAAA,EAAA,EAAA,GACA,GAAA,GAAA,EAAA,KAAA,IACA,EAAA,EAAA,QACA,cAAA,EACA,gBAAA,EACA,MAAA,EACA,MAAA,GACA,MAAA,GACA,MAAA,GACA,MAAA,GACA,IAAA,GACA,WAAA,GACA,IAAA,GACA,MAAA,EAAA,MAAA,WAAA,KAAA,KAAA,eACA,EAIA,IAHA,mBAAA,KACA,GAAA,GAEA,EAAA,CACA,GAAA,GAAA,EAAA,QAAA,EAAA,EACA,KACA,EAAA,MAAA,GAEA,EAAA,MAAA,EAAA,QAAA,EAAA,GACA,EAAA,MAAA,EAAA,QAAA,EAAA,GACA,EAAA,MAAA,EAAA,QAAA,EAAA,GACA,EAAA,MAAA,EAAA,QAAA,EAAA,GACA,EAAA,IAAA,EAAA,MAAA,EAAA,GACA,EAAA,WAAA,EAAA,aAAA,EAAA,GACA,EAAA,IAAA,EAAA,MAAA,EAAA,IAAA,SAAA,OACA,EAAA,MAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MACA,EAAA,cAAA,QAAA,EAAA,cAAA,EAAA,GACA,EAAA,gBAAA,QAAA,EAAA,SAAA,EAAA,GAGA,MAAA,IAEA,EAAA,kBAAA,SAAA,GAqBA,MApBA,GAAA,MAAA,EAAA,OAAA,oBACA,EAAA,QAAA,SAAA,GAAA,MAAA,IAAA,EAAA,EAAA,KACA,EAAA,gBAAA,SAAA,GACA,EAAA,MAAA,aAAA,EACA,MAAA,QAAA,aAAA,IAEA,EAAA,kBAAA,SAAA,GACA,EAAA,MAAA,eAAA,EACA,MAAA,QAAA,QAAA,IAGA,EAAA,YAAA,WACA,EAAA,QAAA,aAAA,OAAA,YAEA,EAAA,SAAA,mBAAA,cACA,EAAA,QAAA,WACA,WAAA,WACA,EAAA,QAAA,SACA,MAEA,EAAA,WC7DA,OAAA,OACA,WACA,aACA,oBACA,cACA,WACA,iBACA,uBACA,0BACA,yBACA,0BACA,uBACA,aACA,qBACA,2BACA,2BACA,0BACA,sBACA,2BACA,WACA,WACA,eACA,mBACA,cACA,oBACA,YACA,YACA,aACA,YACA,SAAA,GACA,MAAA,KAGA,QAAA,OAAA,SAAA,GAAA,MAAA","sourcesContent":["/**\r\n * Created by comdiv on 26.09.14.\r\n */\r\n\r\n    define('the-root',[], function () {\r\n        //incapsulation of internal $the manager\r\n        var privates = {};\r\n        var the = function (plugin) {\r\n            if (!!plugin) {\r\n                plugin(the, privates);\r\n            }\r\n            return the;\r\n        };\r\n        var timeout = setTimeout;\r\n        if (typeof window !== \"undefined\") {\r\n            timeout = window.setTimeout;\r\n        }\r\n        var tick = function (func) {\r\n            timeout(func, 4);\r\n        };\r\n        the.timeout = timeout;\r\n        the.tick = tick;\r\n\r\n        the.checkEnvironment = function () {\r\n            if (typeof window !== \"undefined\") {\r\n                if (typeof the.$angular === \"undefined\" && window.angular) {\r\n                    the.$angular = the.$angular || window.angular;\r\n                    if (typeof the.$angular.$__http === \"undefined\") {\r\n                        the.$angular.module(\"THE_ANGULAR_STUB\", []);\r\n                        var injector = angular.injector(['THE_ANGULAR_STUB', 'ng']);\r\n                        the.$angular.$__http = injector.get(\"$http\");\r\n                    }\r\n                }\r\n                the.$jQuery = the.$jQuery || window.$;\r\n            }\r\n        };\r\n\r\n        the.localStorage = {\r\n            map : {},\r\n            setItem : function(name,value){\r\n                this.map[name] = value;\r\n            },\r\n            getItem : function(name){\r\n                return this.map[name];\r\n            },\r\n            clear :function(){\r\n                this.map = {};\r\n            }\r\n\r\n        }\r\n\r\n        var dt = new Date();\r\n        var defver = \"DT.\"+dt.getFullYear()+\".\"+dt.getMonth()+\".\"+dt.getDate()+\".\"+dt.getHours();\r\n        the.ver = defver;\r\n\r\n        if(typeof document!=\"undefined\"){\r\n            var myScript = document.querySelector('head script[data-main]');\r\n            if (myScript) {\r\n                var myUrl = myScript.getAttribute(\"data-main\");\r\n                if (myUrl) {\r\n\r\n                    the.ver = myUrl.match(/\\?(.+)$/) || the.ver;\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        return the;\r\n    });\n","/**\r\n * Created by comdiv on 26.09.14.\r\n * @description Provides utitlity for extending, casting object and types\r\n */\r\ndefine('the-object',[\"the-root\"], function ($the) {\r\n    return $the(function ($root) {\r\n        var ExtendOptions = function (options) {\r\n            if (!(this instanceof ExtendOptions)) {\r\n                if (options instanceof ExtendOptions)return options;\r\n                return new ExtendOptions(options);\r\n            }\r\n            this.defaultOnNull = false;\r\n            this.ignoreCase = false;\r\n            this.extensions = true;\r\n            this.deep = false;\r\n            this.clone = false;\r\n            this.cloneInternals = false;\r\n            this.functions = true;\r\n            this.filter = function (_) {\r\n                return !!_\r\n            };\r\n            if (!!options) {\r\n                $root.object.extend(this, options);\r\n            }\r\n            return this;\r\n        };\r\n        ExtendOptions.Default = new ExtendOptions();\r\n        ExtendOptions.DefaultCreate = new ExtendOptions();\r\n        ExtendOptions.DefaultCreate.extensions = false;\r\n        ExtendOptions.DefaultClone = new ExtendOptions();\r\n        ExtendOptions.DefaultClone.cloneInternals = true;\r\n        ExtendOptions.DefaultCast = new ExtendOptions();\r\n        ExtendOptions.DefaultCast.extensions = false;\r\n        ExtendOptions.DefaultCast.defaultOnNull = true;\r\n        ExtendOptions.DefaultCast.ignoreCase = true;\r\n        ExtendOptions.DefaultCast.cloneInternals = true;\r\n        ExtendOptions.ExtendedCast = new ExtendOptions();\r\n        ExtendOptions.ExtendedCast.extensions = true;\r\n        ExtendOptions.ExtendedCast.deep = true;\r\n        ExtendOptions.DefaultCast.defaultOnNull = true;\r\n        ExtendOptions.ExtendedCast.ignoreCase = true;\r\n        ExtendOptions.ExtendedCast.cloneInternals = true;\r\n\r\n        $root.object = $root.object || {};\r\n        $root.object.ExtendOptions = ExtendOptions;\r\n\r\n        var toHex = $root.object.toHex = function (i) {\r\n            var ret = ((i<0?0x8:0)+((i >> 28) & 0x7)).toString(16) + (i & 0xfffffff).toString(16);\r\n            while (ret.length < 8) ret = '0'+ret;\r\n            return ret;\r\n        };\r\n\r\n        var fixedOrder = $root.object.fixedOrder = function(object){\r\n            if(null==object)return null;\r\n            if(Array.isArray(object))return object;\r\n            if(typeof(object)==\"function\")return object;\r\n            if(typeof(object)!=\"object\")return object;\r\n            var result = {};\r\n            var props = [];\r\n            for(var i in object){\r\n                if(object.hasOwnProperty(i)){\r\n                    props.push(i);\r\n                }\r\n            }\r\n            props.sort();\r\n            for(var i=0;i<props.length;i++){\r\n                result[props[i]] = object[props[i]];\r\n            }\r\n            return result;\r\n        }\r\n\r\n        var equal =$root.object.equal = function(obj1,obj2){\r\n            return $root.object.digest(obj1)==$root.object.digest(obj2);\r\n        }\r\n\r\n        $root.object.digest = function(object){\r\n\r\n            var r = [];\r\n            for (var i=0; i<2; i++)\r\n                r.push(i*268803292);\r\n            var o = JSON.stringify(fixedOrder(object));\r\n            for (i=0; i<o.length; i++) {\r\n                for (c=0; c<r.length; c++) {\r\n                    r[c] = (r[c] << 13)-(r[c] >> 19);\r\n                    r[c] += o.charCodeAt(i) << (r[c] % 24);\r\n                    r[c] = r[c] & r[c];\r\n                }\r\n            }\r\n            for (i=0; i<r.length; i++) {\r\n                r[i] = toHex(r[i]);\r\n            }\r\n            return r.join('');\r\n        }\r\n\r\n        $root.object.extend = function (target, source, options) {\r\n            options = ExtendOptions(options) || ExtendOptions.Default;\r\n            if (options.clone) {\r\n                target = self.extend({}, target, ExtendOptions.DefaultClone);\r\n            }\r\n            if (typeof source === \"undefined\" || null === source)return target;\r\n            var trgKeys = {};\r\n            var srcKeys = {};\r\n            var i;\r\n            for (i in target) {\r\n                //works only on own properties\r\n                if (!target.hasOwnProperty(i))continue;\r\n                trgKeys[i] = i;\r\n                if (options.ignoreCase) {\r\n                    trgKeys[i.toLowerCase()] = i;\r\n                }\r\n            }\r\n            for (i in source) {\r\n                //works only on own properties\r\n                if (!source.hasOwnProperty(i))continue;\r\n                if (!options.filter(i, source[i], source))continue;\r\n                if (!options.functions && typeof  source[i] === \"function\")continue;\r\n                srcKeys[i] = i.toLowerCase();\r\n\r\n            }\r\n            for (i in srcKeys) {\r\n                if (!srcKeys.hasOwnProperty(i))continue;\r\n                var exists = false;\r\n                var trg = trgKeys[i];\r\n                if (typeof trg == \"undefined\")trg = trgKeys[i.toLowerCase()];\r\n                if (typeof trg !== \"undefined\")exists = true;\r\n                if (!exists && options.extensions)trg = i;\r\n                if (typeof trg !== \"undefined\") {\r\n                    var src = source[i];\r\n                    if (options.cloneInternals && $isusr(target[trg])) {\r\n                        target[trg] = self.clone(target[trg]);\r\n                    }\r\n                    if (options.cloneInternals && $isusr(src)) {\r\n                        src = self.clone(src);\r\n                    }\r\n                    if (exists && options.deep && $isusr(target[trg]) && $isusr(src)) {\r\n                        self.extend(target[trg], src, options);\r\n                    } else {\r\n\r\n                        target[trg] = src;\r\n                    }\r\n                }\r\n            }\r\n            return target;\r\n        };\r\n        $root.isDefaultValue = function (obj) {\r\n            if (null === obj)return true;\r\n            if (\"\" === obj)return true;\r\n            if (0 === obj)return true;\r\n            if (false === obj)return true;\r\n            if (Array.isArray(obj) && 0 == obj.length)return true;\r\n            if ($root.isUserObject(obj)) {\r\n                var hasown = false;\r\n                for (var i in obj) {\r\n                    if (obj.hasOwnProperty(i)) {\r\n                        hasown = true;\r\n                        break;\r\n                    }\r\n                }\r\n                return !hasown;\r\n            }\r\n            return false;\r\n        };\r\n        $root.isUserObject = $root.object.isUserObject = function (obj) {\r\n            if (typeof obj === \"undefined\" || null === obj)return false;\r\n            if (typeof obj !== \"object\") return false;\r\n            if (obj instanceof RegExp)return false;\r\n            return !(obj instanceof Date);\r\n\r\n        };\r\n        var $isusr = $root.isUserObject;\r\n        var self = $root.object;\r\n        /**\r\n         * Создает новый объект указанного типа с возможностями гибкого слияния\r\n         * @param {Function} ctor Конструктор объекта\r\n         * @param {*} obj параметр, источник каста\r\n         * @param {ExtendOptions} [options] опции слияния\r\n         */\r\n        $root.object.create = function (ctor, obj, options) {\r\n            options = options || ExtendOptions.DefaultCreate;\r\n            var result;\r\n            if (Array.isArray(obj)) {\r\n                result = Object.create(ctor.prototype);\r\n                var _parse = ctor.__parse__ || ctor.prototype.__parse__;\r\n                if (!!_parse && obj.length == 1 && typeof obj[0] === \"string\") {\r\n                    ctor.apply(result, []);\r\n                    _parse.apply(result, [obj[0]]);\r\n                } else {\r\n                    ctor.apply(result, obj);\r\n                }\r\n                return result;\r\n            } else if (typeof obj == \"function\") {\r\n                //treat them as factories\r\n                result = obj(ctor);\r\n                return self.cast(ctor, result);\r\n            } else if (typeof obj != \"object\" || obj instanceof RegExp) {\r\n                return self.cast(ctor, [obj]);\r\n            } else {\r\n                result = Object.create(ctor.prototype);\r\n                ctor.apply(result, []);\r\n                self.extend(result, obj, options);\r\n                return result;\r\n\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Приводит объект к указанному типу с опциональным использованием ExtendOptions\r\n         * @param {Function} ctor Конструктор объекта\r\n         * @param {*} obj параметр, источник каста\r\n         * @param {ExtendOptions} [options] опции слияния\r\n         * @returns {*} целевой объекта указанного типа\r\n         */\r\n        $root.object.cast = function (ctor, obj, options) {\r\n            if (obj instanceof ctor)return obj;\r\n            options = options || ExtendOptions.DefaultCast;\r\n            if (null == obj || typeof obj == \"undefined\") {\r\n                if (options.defaultOnNull)return self.create(ctor, []);\r\n                return null;\r\n            }\r\n            return $root.object.create(ctor, obj, options);\r\n        };\r\n\r\n        $root.object.propertise = function(obj){\r\n            for(var i in obj){\r\n                if(obj.hasOwnProperty(i) &&(typeof obj[i] == \"object\") && (\"get\" in  obj[i])){\r\n                    Object.defineProperty(obj,i,obj[i]);\r\n                }\r\n            }\r\n            return obj;\r\n        }\r\n\r\n        $root.object.clone = function (obj) {\r\n\r\n            if (Array.isArray(obj)) {\r\n                var result = [];\r\n                for (var i = 0; i < obj.length; i++) {\r\n                    result.push($root.object.clone(obj[i]));\r\n                }\r\n                return result;\r\n            }\r\n            if (typeof undefined == obj || null == obj || !$the.isUserObject(obj))return obj;\r\n\r\n            return self.extend({}, obj, ExtendOptions.DefaultClone);\r\n        };\r\n        $root.cast = $root.object.cast;\r\n        $root.extend = $root.object.extend;\r\n        $root.create = $root.object.create;\r\n        $root.clone = $root.object.clone;\r\n        $root.digest = $root.object.digest;\r\n    });\r\n});\r\n\n","/**\r\n * Created by comdiv on 26.09.14.\r\n */\r\n    define('the-interpolation',[\"the-object\"], function ($the) {\r\n        return $the(function (root, privates) {\r\n            var __interpolateString = privates.__interpolateString = function (str, source, options) {\r\n                return str.replace(options.getRegex(), function (_) {\r\n                    var reference = _.substring(2, _.length - 1);\r\n                    var value = options.isLayeredDictionary ? source.get(reference) : source[reference];\r\n                    if (typeof value === \"undefined\") {\r\n                        return _;\r\n                    }\r\n                    if (null === value) {\r\n                        value = \"\";\r\n                    } else if (typeof value === \"function\") {\r\n                        value = value.apply(source, []);\r\n                    } else if (typeof value === \"object\") {\r\n                        value = JSON.stringify(value);\r\n                    }\r\n                    return value;\r\n                });\r\n            };\r\n\r\n            var __interpolateObject = privates.__interpolateObject = function (obj, source, options) {\r\n                var realTarget = $the.clone(obj);\r\n                var realSource = __prepareSource(realTarget, source, options);\r\n                var recursive = 3;\r\n                var i;\r\n                while (true) {\r\n                    if (0 == (recursive -= 1))break;\r\n                    __updateSource(realTarget, realSource, options);\r\n                    var targets = __collectInterpolables(realTarget, options);\r\n                    if (0 == targets.length)break;\r\n                    for (i = 0; i < targets.length; i++) {\r\n                        realTarget[targets[i][0]] = __interpolateString(targets[i][1], realSource, options);\r\n                    }\r\n                }\r\n                for (i in realTarget) {\r\n                    if (!realTarget.hasOwnProperty(i))continue;\r\n                    if ($the.isUserObject(realTarget[i])) {\r\n                        realTarget[i] = __interpolateObject(realTarget[i], realSource, options);\r\n                    }\r\n                }\r\n\r\n                return realTarget;\r\n            };\r\n\r\n            var __collectInterpolables = function (obj, options) {\r\n                var result = [];\r\n                for (var i in obj) {\r\n                    if (!obj.hasOwnProperty(i))continue;\r\n                    if (typeof obj[i] !== \"string\")continue;\r\n                    var val = obj[i];\r\n                    if (!val.match(options.getRegex()))continue;\r\n                    result.push([i, val]);\r\n                }\r\n                return result;\r\n            };\r\n\r\n            var __updateSource = function (obj, source, options) {\r\n                if (options.isLayeredDictionary) {\r\n                    source.apply(obj);\r\n                } else {\r\n                    $the.extend(source, obj);\r\n                }\r\n            };\r\n\r\n            var __prepareSource = function (obj, source, options) {\r\n                var result = null;\r\n                if (options.isLayeredDictionary) {\r\n                    result = new options.layeredDictionary(source);\r\n                } else {\r\n                    result = $the.clone(source);\r\n                }\r\n                return result;\r\n            };\r\n\r\n            root.interpolate = function (target, source, options) {\r\n                if (typeof target == \"undefined\" || null == target)return null;\r\n                options = $the.cast(opts, options);\r\n                source = source || {};\r\n                if (typeof source !== \"object\")return target;\r\n                if (!!$the.collections && !!$the.collections.LayeredDictionary && (source  instanceof $the.collections.LayeredDictionary )) {\r\n                    options.isLayeredDictionary = true;\r\n                    options.layeredDictionary = $the.collections.LayeredDictionary;\r\n                }\r\n                if (typeof target === \"string\") {\r\n                    return __interpolateString(target, source, options);\r\n                }\r\n                if (!$the.isUserObject(target))return target;\r\n                return __interpolateObject(target, source, options);\r\n            };\r\n            var opts = root.interpolate.InterpolationOptions = function () {\r\n                this.anchor = \"$\";\r\n                this.start = \"{\";\r\n                this.finish = \"}\";\r\n                this.isLayeredDictionary = false;\r\n                this.regex = null;\r\n                this.getRegex = function () {\r\n                    return this.regex || (this.regex = new RegExp(\"\\\\\" + this.anchor + \"\\\\\" + this.start + \"[^\\\\\" + this.finish + \"]+\" + \"\\\\\" + this.finish, \"g\"));\r\n                }\r\n            };\r\n        });\r\n    });\n","/**\r\n * Created by comdiv on 26.09.14.\r\n */\r\n\r\n    define('the-jsonify',[\"the-object\"], function ($the) {\r\n        return $the(function (root) {\r\n\r\n            var jsonify = root.jsonify = function (obj, options) {\r\n                var result;\r\n                var i;\r\n                if (typeof obj === \"undefined\" || null == obj)return null;\r\n                if (typeof obj === \"function\") {\r\n                    return obj.toString();\r\n                }\r\n                options = $the.cast(JsonifyOptions, options);\r\n                if (!!options.filter && $the.expression) {\r\n                    options.filter = $the.expression(options.filter);\r\n                }\r\n                if (Array.isArray(obj)) {\r\n                    result = [];\r\n                    for (i = 0; i < obj.length; i++) {\r\n                        result.push(jsonify(obj[i], options))\r\n                    }\r\n                    return result;\r\n                } else if ($the.isUserObject(obj)) {\r\n                    result = {};\r\n                    var realobj = obj;\r\n                    if (options.interpolate) {\r\n                        if (!$the.interpolate)throw \"Interpolation requested, but no the-interpolate loaded\";\r\n                        realobj = $the.interpolate(obj);\r\n                    }\r\n                    for (var i in realobj) {\r\n                        if (!realobj.hasOwnProperty(i))continue;\r\n                        if (!options.privates && i.substring(0, 2) == \"__\")continue;\r\n                        if (!!options.filter && !options.filter(i, realobj[i], realobj))continue;\r\n                        var newval = getValue(i, realobj[i], realobj, options);\r\n                        if (typeof newval !== \"undefined\") {\r\n                            result[i] = newval;\r\n                        }\r\n                    }\r\n                    return result;\r\n                } else if (typeof obj === \"object\") {\r\n                    return obj.toString();\r\n                } else {\r\n                    return obj;\r\n                }\r\n\r\n            };\r\n\r\n            var getValue = jsonify.getValue = function (name, obj, context, options) {\r\n                if (typeof obj === \"undefined\")return undefined;\r\n                if (null === obj)return (options.nulls && options.defaults) ? obj : undefined;\r\n                if (!options.defaults && root.isDefaultValue(obj))return undefined;\r\n                if (typeof obj === \"function\") {\r\n                    if(name.match(/^__/) && !options.privates)return undefined;\r\n                    if (options.evalfunctions) {\r\n                        return jsonify(obj.apply(context, []))\r\n                    }\r\n                    if (!options.functions)return undefined;\r\n                    if (options.stringify)return obj.toString();\r\n                    return obj;\r\n                }\r\n                if (Array.isArray(obj)) {\r\n                    return jsonify(obj);\r\n                } else if ($the.isUserObject(obj)) {\r\n                    var newvalue = jsonify(obj);\r\n                    if (options.stringify) {\r\n                        newvalue = JSON.stringify(newvalue);\r\n                    }\r\n                    return newvalue;\r\n                }\r\n                if (typeof obj === \"object\") {\r\n                    if (options.stringify)return obj.toString();\r\n                    return obj;\r\n                }\r\n                return obj;\r\n            };\r\n\r\n            var JsonifyOptions = jsonify.JsonifyOptions = function () {\r\n                this.functions = true;\r\n                this.interpolate = false;\r\n                this.stringify = false;\r\n                this.nulls = true;\r\n                this.defaults = true;\r\n                this.filter = null;\r\n                this.evalfunctions = false;\r\n                this.privates = true;\r\n            };\r\n        });\r\n    });\n","/**\r\n * Action/Action builder module to wrapp HTTP/AJAX calls\r\n */\r\n    define('the-http',[\"the-object\"], function ($the) {\r\n        return $the(function ($root, $privates) {\r\n\r\n            var excast = $the.object.ExtendOptions.ExtendedCast;\r\n            var timeout = $the.timeout;\r\n            var tick = $the.tick;\r\n            var h = $root.http = function (call) {\r\n                try {\r\n                    var defaultTransport = h.DetectDefaultTransport();\r\n                    var request = $the.cast(Request, call, $the.object.ExtendOptions.ExtendedCast);\r\n                    request.transport = call.transport;\r\n                    var transport = request.transport || defaultTransport;\r\n                    return transport.execute(request);\r\n                } catch (e) {\r\n                    if (call.error) {\r\n                        call.error(e);\r\n                    }\r\n                    return null;\r\n                }\r\n            };\r\n\r\n            var listeners = $privates._httpSubscribtions = [];\r\n            h.addListener = function (func) {\r\n                listeners.push(func);\r\n                return h;\r\n            };\r\n            h.removeListener = function (func) {\r\n                var idx = listeners.indexOf(func);\r\n                if (-1 != idx) {\r\n                    listeners.splice(idx, 1);\r\n                }\r\n                return h;\r\n            };\r\n\r\n            h.cleanListeners = function () {\r\n                listeners = $privates._httpSubscribtions = [];\r\n                return this;\r\n            };\r\n\r\n\r\n            var t = h.Transport = function () {\r\n            };\r\n\r\n            var Request = h.Request = function () {\r\n                this.url = \"/\";\r\n                this.params = {};\r\n                this.headers = {};\r\n                this.withCredentials = true;\r\n                this.timeout = 0;\r\n                this.username = \"\";\r\n                this.password = \"\";\r\n                this.method = \"GET\";\r\n                this.contentType = 'application/x-www-form-urlencoded; charset=UTF-8';\r\n            };\r\n\r\n            var resp = h.Response = function (request, transport) {\r\n                request = $the.cast(Request, request, excast);\r\n                this.request = request;\r\n                this.transport = transport;\r\n                this.timeouted = false;\r\n                this.complete = false;\r\n                this.success = false;\r\n                this.isError = false;\r\n                this.error = null;\r\n                this.result = null;\r\n            };\r\n            resp.prototype.notify = function (eventName) {\r\n                var self = this;\r\n                var name = eventName;\r\n                if (name == \"success\") {\r\n                    if (!!self.request.success) {\r\n                        tick(function () {\r\n                            self.request.success(self.result, self);\r\n                        });\r\n                    }\r\n                } else if(name==\"error\" || name==\"timeout\") {\r\n                    if (!!self.request.error) {\r\n                        tick(function () {\r\n                            self.request.error(self.error, self);\r\n                        });\r\n                    }\r\n                }\r\n                for (var k = 0; k < listeners.length; i++) {\r\n                    tick(function (i) {\r\n                        listeners[i](name, self);\r\n                    }.bind(this, [k]));\r\n                }\r\n            };\r\n            resp.prototype.execute = function () {\r\n                var self = this;\r\n                if (!!this.request.timeout) {\r\n                    timeout(function () {\r\n                        if (self.isError)return;\r\n                        self.timeouted = true;\r\n                        self.isError = true;\r\n                        self.error = \"timeout\";\r\n                        self.notify(\"timeout\");\r\n                    }, this.request.timeout)\r\n                }\r\n                try {\r\n                    this.notify(\"begin\");\r\n                    this.transport.callData(this.request, function (data, nativeResponse) {\r\n                        if (self.timeouted)return;\r\n                        self.complete = true;\r\n                        self.success = true;\r\n                        self.nativeResult = nativeResponse;\r\n                        self.result = data;\r\n\r\n                        self.notify(\"success\");\r\n                    }, function (data, nativeResponse) {\r\n                        if (self.timeouted)return;\r\n                        self.complete = true;\r\n                        self.nativeResult = nativeResponse;\r\n                        self.isError = true;\r\n                        self.error = data;\r\n                        self.notify(\"error\");\r\n                    });\r\n                } catch (e) {\r\n                    self.isError = true;\r\n                    self.error = e;\r\n                    self.complete = true;\r\n                    self.notify(\"error\");\r\n                }\r\n                return this;\r\n            };\r\n\r\n\r\n            t.prototype.execute = function (request) {\r\n                var result = new resp(request, this);\r\n                return result.execute();\r\n            };\r\n\r\n            t.prototype.callData = function () {\r\n                throw \"abstract, not implemented\"\r\n            };\r\n\r\n            var JQueryTransport = h.JQueryTransport = function () {\r\n                t.call(this);\r\n            };\r\n            JQueryTransport.prototype = Object.create(t.prototype);\r\n            JQueryTransport.prototype.callData = function (request, success, error) {\r\n                $the.checkEnvironment();\r\n                var jr = {};\r\n                jr.url = request.url;\r\n                jr.contentType = request.contentType || 'application/x-www-form-urlencoded; charset=UTF-8';\r\n                jr.data = request.params || {};\r\n                jr.headers = request.headers || {};\r\n                jr.ifModified = true;\r\n                jr.password = request.password || \"\";\r\n                jr.timeout = request.timeout || 0;\r\n                jr.type = request.method || \"GET\";\r\n                jr.username = request.username || \"\";\r\n                jr.xhrFields = request.extensions || {};\r\n                jr.xhrFields.withCredentials = !!request.withCredentials || false;\r\n                jr.error = function (xhr, s, e) {\r\n                    error(e, xhr);\r\n                };\r\n                jr.success = function (d, s, xhr) {\r\n                    success(d, xhr);\r\n                };\r\n                return $the.$jQuery.ajax(jr);\r\n            };\r\n\r\n\r\n            var AngularTransport = h.AngularTransport = function () {\r\n                t.call(this);\r\n            };\r\n            AngularTransport.prototype = Object.create(t.prototype);\r\n            AngularTransport.prototype.callData = function (request, success, error) {\r\n                $the.checkEnvironment();\r\n                var ar = {};\r\n                ar.url = request.url;\r\n                ar.method = request.method || \"GET\";\r\n                if (request.method == \"POST\") {\r\n                    ar.data = request.parameters || {};\r\n                } else {\r\n                    ar.params = request.parameters || {};\r\n                }\r\n                ar.headers = request.headers || {};\r\n                ar.withCredentials = !!request.withCredentials || false;\r\n                return $the.$angular.$__http(ar).success(function (data, status, headers, config) {\r\n                    success(data, {status: status, headers: headers, config: config});\r\n                }).error(function (data, status, headers, config) {\r\n                        error(data, {status: status, headers: headers, config: config});\r\n                    })\r\n            };\r\n\r\n            var XHRTransport = h.XHRTransport = function () {\r\n                t.call(this);\r\n            };\r\n            XHRTransport.prototype = Object.create(t.prototype);\r\n            XHRTransport.prototype.callData = function (request, success, error) {\r\n                error({erorr: \"not implemented\"});\r\n            };\r\n\r\n\r\n            h.DefaultTransport = null;\r\n\r\n            h.DetectDefaultTransport = function () {\r\n                $the.checkEnvironment();\r\n                if (null != h.DefaultTransport)return h.DefaultTransport;\r\n\r\n                if (!!$the.$jQuery) {\r\n                    return h.DefaultTransport = new JQueryTransport();\r\n                }\r\n                if (!!$the.$angular) {\r\n                    return h.DefaultTransport = new AngularTransport();\r\n                }\r\n                return h.DefaultTransport = new XHRTransport();\r\n            };\r\n\r\n\r\n        });\r\n    });\n","/**\r\n * Created by comdiv on 26.09.14.\r\n */\r\n    define('the-expression',[\"the-object\"], function ($the) {\r\n        return $the(function (root) {\r\n            var eOptions = function () {\r\n                this.type = \"check\";\r\n                this.annotate = false;\r\n                this.and = false;\r\n                this.or = false;\r\n                this.counter = false;\r\n            };\r\n            eOptions.__parse__ = function (str) {\r\n                this.type = str;\r\n            };\r\n            var e = function (expr, options) {\r\n                if (typeof  expr === \"undefined\" || null == expr) return null;\r\n                options = $the.cast(eOptions, options);\r\n                if (typeof  expr === \"function\") {\r\n                    expr.annotation = {};\r\n                    if (!!options && !!options.annotate) {\r\n                        e.annotateFunction(expr);\r\n                    }\r\n                    return expr;\r\n                }\r\n\r\n                if (!e.prototypes.hasOwnProperty(options.type))throw \"type not registered \" + options.type;\r\n                if (!options.hasOwnProperty(\"hasExpressionSymbols\")) {\r\n                    options.hasExpressionSymbols = false;\r\n                    if (typeof  expr === \"string\") {\r\n                        options.hasExpressionSymbols = !!expr.match(/[\\.=\\-+<>&|*\\/!()]/);\r\n                    }\r\n                }\r\n                var result = e.prototypes[options.type](expr, options);\r\n                result.annotation = {};\r\n                return result;\r\n\r\n            };\r\n\r\n            e.nullFunction = function () {\r\n                return undefined;\r\n            };\r\n\r\n            e.annotateFunction = function (f) {\r\n                f.annotation = f.annotation || {};\r\n                if (f.toString().match(/^function\\s*\\(a\\s*,\\s*b\\s*\\)/)) {\r\n                    f.annotation.comparer = true;\r\n                }\r\n            };\r\n\r\n            e.prototypes = {};\r\n\r\n            e.prototypes.check = function (expr, options) {\r\n                var result = null;\r\n                if (typeof expr === \"number\" || (typeof expr === \"string\" && !options.hasExpressionSymbols)) {\r\n                    if (!options.counter) {\r\n                        result = function (_) {\r\n                            return _ == expr;\r\n                        }\r\n                    } else {\r\n                        var current = expr;\r\n                        result = function () {\r\n                            if (current == 0)return false;\r\n                            current--;\r\n                            return true;\r\n                        }\r\n                    }\r\n                } else if (typeof  expr === \"string\") {\r\n                    var realExpr = expr;\r\n                    if (!expr.match(/_/))realExpr = \"_\" + realExpr;\r\n                    realExpr = \"_=function(_,idx){try{return  (\" + realExpr + \");}catch(e){return false;}}\";\r\n                    result = eval(realExpr);\r\n                } else if (expr instanceof RegExp) {\r\n                    result = function (_) {\r\n                        return !!_.match(expr);\r\n                    }\r\n                } else if (Array.isArray(expr)) { //array support in \"in\" notation by default\r\n                    if (!!options.and) {\r\n                        result = function (_) {\r\n                            var match = true;\r\n                            for (var i = 0; i < expr.length; i++) {\r\n                                if (!e(expr[i])(_)) {\r\n                                    match = false;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            return match;\r\n                        }\r\n                    } else {\r\n                        result = function (_) {\r\n                            for (var i = 0; i < expr.length; i++) {\r\n                                if (e(expr[i])(_))return true;\r\n                            }\r\n                            return false;\r\n                        }\r\n                    }\r\n                } else { //object pattern matching\r\n                    if (!!options.or) {\r\n                        result = function (_) {\r\n                            for (var i in expr) {\r\n                                if (expr.hasOwnProperty(i)) {\r\n                                    var subExpr = e(expr[i]);\r\n                                    if (i[0] == \"$\") { //global test\r\n                                        if (subExpr(_))return true;\r\n                                    } else {\r\n                                        if (_.hasOwnProperty(i)) {\r\n                                            if (subExpr(_[i]))return true;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            return false;\r\n                        }\r\n                    } else {\r\n                        result = function (_) {\r\n                            var match = true;\r\n                            for (var i in expr) {\r\n                                if (expr.hasOwnProperty(i)) {\r\n                                    var subExpr = e(expr[i]);\r\n                                    if (i[0] == \"$\") { //global test\r\n                                        if (!subExpr(_)) {\r\n                                            match = false;\r\n                                            break;\r\n                                        }\r\n                                    } else {\r\n                                        if (_.hasOwnProperty(i)) {\r\n                                            if (!subExpr(_[i])) {\r\n                                                match = false;\r\n                                                break;\r\n                                            }\r\n                                        } else {\r\n                                            match = false;\r\n                                            break;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                            return match;\r\n                        }\r\n                    }\r\n\r\n                }\r\n                result.expressionType = \"equal\";\r\n                return result;\r\n            };\r\n\r\n            root.expression = e;\r\n            root.expression.ExpressionOptions = eOptions;\r\n            root.expression.define = function (proto, processfuntion) {\r\n                e.prototypes[proto] = processfuntion;\r\n            }\r\n        });\r\n    });\n","    define('the-collections-core',[\"the-object\"], function ($the) {\r\n        return $the(function (root, privates) {\r\n            var EndOfEnumeration = {};\r\n            var StartOfEnumeration = {};\r\n\r\n\r\n            var $ex = privates._collectionEx = function (valOrFunc, options) {\r\n                if (!!$the.expression) {\r\n                    return $the.expression(valOrFunc, options);\r\n                } else {\r\n                    if (typeof valOrFunc === \"undefined\" || null == valOrFunc) {\r\n                        return function () {\r\n                            return true;\r\n                        }\r\n                    } else if (typeof valOrFunc === \"function\") {\r\n                        return valOrFunc;\r\n                    } else {\r\n                        return  function (_) {\r\n                            return _ === valOrFunc;\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            /**\r\n             *\r\n             * @param target target object of any type to be wrapped as enumeration\r\n             * @param [onnext] delegate funciton tha will be used as special onNext\r\n             * @param [options]\r\n             * @constructor\r\n             */\r\n            var Enumeration = function (target, onnext, options) {\r\n                this.current = StartOfEnumeration;\r\n                this.onNext = onnext;\r\n                this._index = -1;\r\n                this.index = -1;\r\n                this._wasSetup = false;\r\n                if (!!options) {\r\n                    if (!!options.referencedEnum) {\r\n                        this._referencedEnum = collections(options.referencedEnum);\r\n                    }\r\n                    if (!!options.buffered) {\r\n                        this._buffered = true;\r\n                    }\r\n                    if (!!options.onBuffer) {\r\n                        this.onBuffer = options.onBuffer.bind(this);\r\n                    }\r\n                    if (!!options.onReset) {\r\n                        this.onReset = options.onReset.bind(this);\r\n                    }\r\n                }\r\n                if (!!target) {\r\n                    if (target instanceof Enumeration) {\r\n                        this._baseEnumeration = target;\r\n                    } else if (Array.isArray(target) || typeof target == \"string\") {\r\n                        this._array = target;\r\n                    } else if (typeof target == \"number\") {\r\n                        this._number = target;\r\n                    } else {\r\n                        this._object = target;\r\n                        this._nameindex = [];\r\n                        for (var i in this._object) {\r\n                            if (this._object.hasOwnProperty(i)) {\r\n                                this._nameindex.push(i);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n\r\n            Enumeration.prototype.toArray = function (expr) {\r\n                this.reset();\r\n                var result = [];\r\n                var e = $ex(expr);\r\n                while (this.next(e)) {\r\n                    result.push(this.current);\r\n                }\r\n                return result;\r\n            };\r\n\r\n\r\n            var KeyValuePair = function (key, value) {\r\n                this.key = key;\r\n                this.value = value;\r\n            };\r\n\r\n\r\n            Enumeration.prototype.next = function (condition) {\r\n                if(!this._wasSetup){\r\n                    this._wasSetup = true;\r\n                    if(!!this.onSetup){\r\n                        this.onSetup();\r\n                    }\r\n                }\r\n                condition = $ex(condition);\r\n                if (this.current === EndOfEnumeration)return false;\r\n                if (this.current === StartOfEnumeration && this._buffered) {\r\n                    this._loadBuffer();\r\n                    if (!!this.onBuffer) {\r\n                        this.onBuffer(this);\r\n                    }\r\n                }\r\n                if(!!this.onBeforeNext){\r\n                    this.onBeforeNext();\r\n                }\r\n\r\n                var newvalue = null;\r\n                while (true) {\r\n                    if (this.onNext) {\r\n                        newvalue = this.onNext(this, EndOfEnumeration);\r\n                    } else {\r\n                        newvalue = this.baseNext();\r\n                    }\r\n                    this.currentItem = newvalue;\r\n                    var realvalue = newvalue;\r\n                    if (!!this.onGetValue) {\r\n                        realvalue = this.onGetValue(realvalue);\r\n                    }\r\n                    this.current = realvalue;\r\n                    this.index++;\r\n                    if (newvalue === EndOfEnumeration)break;\r\n                    if (!!condition) {\r\n                        if (condition(this.current, this.index)) {\r\n                            if(!!this.onFetch){\r\n                                this.onFetch(this.current,this.index,this);\r\n                            }\r\n                            break;\r\n                        }\r\n                    } else {\r\n                        if(!!this.onFetch){\r\n                            this.onFetch(this.current,this.index,this);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                return newvalue !== EndOfEnumeration;\r\n\r\n\r\n            };\r\n\r\n            Enumeration.prototype.each = function (action) {\r\n                this.reset();\r\n                while (this.next()) {\r\n                    var result = action(this.current, this.index, this.currentItem);\r\n                    if (result === false)break;\r\n                }\r\n            };\r\n\r\n            Enumeration.prototype.baseNext = function () {\r\n                if (this.current === EndOfEnumeration)return EndOfEnumeration;\r\n                if (!!this._baseEnumeration) {\r\n                    if (this._baseEnumeration.next()) {\r\n                        return this._baseEnumeration.current;\r\n                    }\r\n                    return EndOfEnumeration;\r\n                } else if (!!this._array) {\r\n                    this._index++;\r\n                    if (this._index >= this._array.length) {\r\n                        return EndOfEnumeration;\r\n                    }\r\n                    return this._array[this._index];\r\n                } else if (!!this._object) {\r\n                    this._index++;\r\n                    if (this._index >= this._nameindex.length) {\r\n                        return EndOfEnumeration;\r\n                    }\r\n                    var name = this._nameindex[this._index];\r\n                    return new KeyValuePair(name, this._object[name]);\r\n                } else if (!!this._number) {\r\n                    this._index++;\r\n                    if (this._index >= this._number) {\r\n                        return EndOfEnumeration;\r\n                    }\r\n                    return this._index;\r\n                } else {\r\n                    return EndOfEnumeration;\r\n                }\r\n            };\r\n\r\n\r\n            Enumeration.prototype.reset = function () {\r\n                this._index = -1;\r\n                this.index = -1;\r\n                this.current = StartOfEnumeration;\r\n                this.currentItem = undefined;\r\n                if (!!this._baseEnumeration) {\r\n                    this._baseEnumeration.reset();\r\n                }\r\n                if (!!this._referencedEnum) {\r\n                    this._referencedEnum.reset();\r\n                }\r\n                if (!!this._buffered) {\r\n                    this._buffer = null;\r\n                    this._refbuffer = null;\r\n                    this._bufferIter = null;\r\n                    this._refbufferIter = null;\r\n                }\r\n                if (!!this.onReset) {\r\n                    this.onReset();\r\n                }\r\n                return this;\r\n            };\r\n\r\n            Enumeration.prototype._loadBuffer = function () {\r\n                this._buffer = this._baseEnumeration.toArray();\r\n                this._bufferIter = collections(this._buffer);\r\n                if (!!this._referencedEnum) {\r\n                    this._refbuffer = this._referencedEnum.toArray();\r\n                    this._refbufferIter = collections(this._refbuffer);\r\n                }\r\n            };\r\n\r\n            var collections = function (target) {\r\n                if (target instanceof Enumeration)return target;\r\n                return new Enumeration(target);\r\n            };\r\n            collections.Enumeration = Enumeration;\r\n            collections.KeyValuePair = KeyValuePair;\r\n            collections.EndOfEnumeration = EndOfEnumeration;\r\n            collections.StartOfEnumeration = StartOfEnumeration;\r\n            collections.remove = function(array,item){\r\n                var index = array.indexOf(item);\r\n                if(-1!=index){\r\n                    array.splice(index,1);\r\n                }\r\n            }\r\n            collections.removeClone = function(array,item){\r\n                var resultArray = [];\r\n                array.forEach(function(_){\r\n                    if(_!==item){\r\n                        resultArray.push(_);\r\n                    }\r\n                });\r\n                return resultArray;\r\n            }\r\n\r\n            if (root.collections) {\r\n                var oldcollections = root.collections;\r\n\r\n                for (var i in oldcollections) {\r\n                    if (oldcollections.hasOwnProperty(i)) {\r\n                        collections[i] = oldcollections[i];\r\n                    }\r\n                }\r\n            }\r\n            root.collections = collections;\r\n\r\n\r\n        })\r\n\r\n    });\n","/**\r\n * Created by comdiv on 26.09.14.\r\n */\r\n  define('the-collections-layered',[\"the-collections-core\"], function ($the) {\r\n        return $the(function ($root) {\r\n\r\n            var $cast = $root.object.cast;\r\n\r\n            var LayeredDictionaryContext = function (mindepth, maxdepth, skip) {\r\n                if (null == mindepth)mindepth = 0;\r\n                if (null == maxdepth)maxdepth = 1 << 30;\r\n                if (null == skip)skip = 0;\r\n                this.mindepth = Math.max(Number(mindepth), 0) || 0;\r\n                this.maxdepth = Math.max(Number(maxdepth), 0) || 0;\r\n                this.skip = Math.max(Number(skip), 0) || 0;\r\n                this.maxdepth = Math.max(mindepth, maxdepth);\r\n                this.next = function (skip) {\r\n                    return new LayeredDictionaryContext(this.mindepth - 1, this.maxdepth - 1, skip ? this.skip - 1 : this.skip);\r\n                }\r\n            };\r\n            var LayeredDictionary = function () {\r\n                if (typeof this === \"undefined\" || !(this instanceof LayeredDictionary)) {\r\n                    return LayeredDictionary.build.apply(null, arguments);\r\n                }\r\n                this.internalIndex = {};\r\n                for (var i = 0; i < arguments.length; i++) {\r\n                    this.apply(arguments[i]);\r\n                }\r\n                if (!!this.reset)this.reset();\r\n                return this;\r\n            };\r\n            $root.collections = $root.collections || {};\r\n            $root.collections.LayeredDictionary = LayeredDictionary;\r\n            $root.collections.LayeredDictionaryContext = LayeredDictionaryContext;\r\n\r\n            LayeredDictionary.prototype = Object.create($root.collections.Enumeration.prototype);\r\n\r\n            LayeredDictionary.prototype.reset = function () {\r\n                $root.collections.Enumeration.prototype.reset.call(this);\r\n                this.keys = this.getKeys();\r\n            };\r\n            LayeredDictionary.prototype.baseNext = function () {\r\n                this._index++;\r\n                if (this._index < this.keys.length) {\r\n                    var key = this.keys[this._index];\r\n                    return new $root.collections.KeyValuePair(key, this.get(key));\r\n                }\r\n                return $root.collections.EndOfEnumeration;\r\n            };\r\n\r\n\r\n            /**\r\n             * Родительская конфигурация\r\n             * @type {LayeredDictionary}\r\n             */\r\n            LayeredDictionary.prototype.parent = null;\r\n            LayeredDictionary.prototype.internalIndex = null;\r\n            /**\r\n             * Применяет объект к конфигурации, конфигурация выставляется как родительская по стеку\r\n             * @param obj другая конфигурация или объект с настройками\r\n             * @returns {LayeredDictionary} this (fluent)\r\n             */\r\n            LayeredDictionary.prototype.apply = function (obj) {\r\n                if (obj instanceof LayeredDictionary) {\r\n                    if (this.parent) {\r\n                        obj.parent = this.parent;\r\n                    }\r\n                    this.parent = obj;\r\n                } else if (typeof obj === \"function\") { //custom setup\r\n                    obj(this);\r\n                } else if (typeof obj === \"object\" && !(obj instanceof Array) && !(obj instanceof RegExp)) {\r\n                    for (var i in obj) {\r\n                        if (obj.hasOwnProperty(i)) {\r\n                            this.set(i, obj[i]);\r\n                        }\r\n                    }\r\n                } else {\r\n                    throw \"invalid object to apply\";\r\n                }\r\n                if (!!this.reset)this.reset();\r\n                return this;\r\n            };\r\n            /**\r\n             * Устанавливает значение на уровне текущей конфигурации, если значение не переано\r\n             * или является null то удаляет значение\r\n             * @param {String} name имя параметра\r\n             * @param [val] значение параметра\r\n             * @return {LayeredDictionary} this (fluent)\r\n             */\r\n            LayeredDictionary.prototype.set = function (name, val) {\r\n                if (typeof name != \"string\" || !name)throw  \"name must be not empty\";\r\n                if (typeof val !== \"undefined\") {\r\n                    this.internalIndex[name] = val;\r\n                } else {\r\n                    delete this.internalIndex[name];\r\n                }\r\n                if (!!this.reset)this.reset();\r\n                return this;\r\n            };\r\n            var proxy = function (_) {\r\n                return _;\r\n            };\r\n            var exists = function (_) {\r\n                return (!(typeof _ == \"undefined\" ));\r\n            };\r\n            /**\r\n             * Обходит конфигурацию и вызывает переданную функцию при нахождении элемента в колбэке\r\n             * @param {String} name имя параметра\r\n             * @param {Function} [selector] функция для возврата значения\r\n             * @param {LayeredDictionaryContext} [hint] минимальная глубина поиска по стеку\r\n             */\r\n            LayeredDictionary.prototype.select = function (name, selector, hint) {\r\n                selector = selector || proxy;\r\n                if (typeof name != \"string\" || !name)throw  \"name must be not empty\";\r\n\r\n                hint = $cast(LayeredDictionaryContext, hint);\r\n\r\n                if (hint.mindepth > 0) {\r\n                    if (null == this.parent)return selector(undefined);\r\n                    return this.parent.select(name, selector, hint.next(false));\r\n                }\r\n\r\n                if (this.internalIndex.hasOwnProperty(name)) {\r\n                    var result = this.internalIndex[name];\r\n                    if (hint.skip != 0) {\r\n                        var skipresult = null;\r\n                        if (this.parent)skipresult = this.parent.select(name, selector, hint.next(true));\r\n                        if (null != skipresult)result = skipresult;\r\n                    }\r\n                    return selector(result);\r\n                }\r\n\r\n                if (hint.maxdepth == 0) return selector(undefined);\r\n                if (null == this.parent)return selector(undefined);\r\n                return this.parent.select(name, selector, hint.next(false));\r\n            };\r\n\r\n            /**\r\n             * Возвращает true при наличии значения в конфигурации\r\n             * @param {String} name имя параметра\r\n             * @param {LayeredDictionaryContext} [hint] подсказка к поиску\r\n             */\r\n            LayeredDictionary.prototype.exists = function (name, hint) {\r\n                return this.select(name, exists, hint);\r\n            };\r\n            /**\r\n             * Возвращает значение параметра\r\n             * @param {String} name имя параметра\r\n             * @param {LayeredDictionaryContext} [hint]\r\n             */\r\n            LayeredDictionary.prototype.get = function (name, hint) {\r\n                return this.select(name, proxy, hint);\r\n            };\r\n\r\n\r\n            /**\r\n             * Процедура посещения всех узлов конфигурации с вызовом колбэка с учетом глубины\r\n             * @param {Function} callback\r\n             * @param internalIndex\r\n             * @returns {*}\r\n             * @param {LayeredDictionaryContext} [hint]\r\n             */\r\n            LayeredDictionary.prototype.visit = function (callback, hint, internalIndex) {\r\n\r\n                hint = $cast(LayeredDictionaryContext, hint);\r\n                internalIndex = internalIndex || {};\r\n\r\n                if (hint.mindepth > 0) {\r\n                    if (!this.parent)return internalIndex;\r\n                    return this.parent.visit(callback, hint.next(false), internalIndex);\r\n                }\r\n\r\n                for (var i in this.internalIndex) {\r\n                    if (this.internalIndex.hasOwnProperty(i) && !internalIndex.hasOwnProperty(i)) {\r\n                        internalIndex[i] = true;\r\n                        if (!!callback) {\r\n                            callback(this.internalIndex[i], i, this);\r\n                        }\r\n                    }\r\n                }\r\n                if (hint.maxdepth > 0 && this.parent) {\r\n                    this.parent.visit(callback, hint.next(false), internalIndex);\r\n                }\r\n                return internalIndex;\r\n            };\r\n            /**\r\n             * Возвращает перечень всех ключей конфигурации с учетом глубины\r\n             * @returns {Array}\r\n             * @param {LayeredDictionaryContext} [hint]\r\n             */\r\n            LayeredDictionary.prototype.getKeys = function (hint) {\r\n                var result = [];\r\n                this.visit(function (val, name) {\r\n                    result.push(name);\r\n                }, hint);\r\n                return result;\r\n            };\r\n            /**\r\n             * Возвращает всю конфигурацию заданной глубины в виде объекта\r\n             * @returns {{}}\r\n             * @param {LayeredDictionaryContext} [hint]\r\n             */\r\n            LayeredDictionary.prototype.toObject = function (hint) {\r\n                var result = {};\r\n                this.visit(function (val, name) {\r\n                    result[name] = val;\r\n                }, hint);\r\n                return result;\r\n            };\r\n            LayeredDictionary.build = function () {\r\n                var result = new LayeredDictionary();\r\n                for (var i = 0; i < arguments.length; i++) {\r\n                    var current = arguments[i];\r\n                    if (current instanceof LayeredDictionary) {\r\n                        current.parent = result;\r\n                        result = current;\r\n                    } else {\r\n                        current = new LayeredDictionary(current);\r\n                        current.parent = result;\r\n                        result = current;\r\n                    }\r\n                }\r\n                return result;\r\n            }\r\n\r\n\r\n        });\r\n    });\n","\r\n    define('the-collections-linked',[\"the-collections-core\"], function ($the) {\r\n        return $the(function (root, privates) {\r\n            var $ = root.collections;\r\n            var $ex = privates._collectionEx;\r\n            var cast = $the.cast;\r\n            /**\r\n             *\r\n             * @param value\r\n             * @constructor\r\n             */\r\n            var LinkedItem = function (value) {\r\n                this.value = value;\r\n                this.previous = null;\r\n                this.next = null;\r\n                this.key = null;\r\n            };\r\n            Object.defineProperty(LinkedItem.prototype,\"index\",{\r\n                writeable: false,\r\n                get: function(){\r\n                    if(!this.previous)return 0;\r\n                    return this.previous.index + 1;\r\n                }\r\n            });\r\n            var LinkedListMergeOptions = function(){\r\n                this.replace = null;\r\n                this.remove = null;\r\n            }\r\n\r\n            var LinkedList = function (enumeration, options) {\r\n                this.first = null;\r\n                this.last = null;\r\n                this.replaceOnMerge = false;\r\n                this.removeOnMerge = false;\r\n                if (!!options) {\r\n                    $the.extend(this,options);\r\n                    if (!!options.onKey) {\r\n                        this.onKey = ($ex(options.onKey)).bind(this);\r\n                    }\r\n                }\r\n\r\n                if (enumeration) {\r\n                    enumeration = $(enumeration);\r\n                    while (enumeration.next()) {\r\n                        this.append(enumeration.current);\r\n                    }\r\n                }\r\n            };\r\n            LinkedList.prototype = Object.create($.Enumeration.prototype);\r\n\r\n            LinkedList.prototype.merge = function (other, options) {\r\n                options = $the.cast(LinkedListMergeOptions,options);\r\n                var result = {removed: [], created: [], updated: []};\r\n                var self = this;\r\n                var doremove = options.remove == null?this.removeOnMerge:options.remove;\r\n                var doreplace = options.replace == null?this.replaceOnMerge:options.replace;\r\n                var others = {};\r\n                $(other).each(function (_) {\r\n                    others[self.getKey(_)] = _;\r\n                });\r\n                if (doremove) {\r\n                    var todelete = [];\r\n                    this.eachItem(function(item){\r\n                        var thiskey = self.getKey(item.value);\r\n                        if (!others.hasOwnProperty(thiskey)) {\r\n                            todelete.push(item);\r\n                        }\r\n                    })\r\n                    todelete.forEach(function (_) {\r\n                        result.removed.push(_.value);\r\n                        self.remove(_);\r\n                    });\r\n                }\r\n                var currents = {};\r\n                this.each(function (_) {\r\n                    currents[self.getKey(_)] = _;\r\n                });\r\n                $(other).each(function (_) {\r\n                    var newkey = self.getKey(_);\r\n                    if (!currents.hasOwnProperty(newkey)) {\r\n                        result.created.push(_);\r\n                        if (!!this.push) {\r\n                            self.push(_);\r\n                        } else {\r\n                            self.append(_);\r\n                        }\r\n                    } else if (doreplace) {\r\n                        result.updated.push(_);\r\n                        self.replace(_, newkey);\r\n                    }\r\n                });\r\n                return result;\r\n            };\r\n\r\n            LinkedList.prototype.trigger = function (op,n,o) {\r\n                if(!!this.onItemTrigger){\r\n                    this.onItemTrigger(op,n||null,o||null);\r\n                }\r\n            };\r\n            LinkedList.prototype.onGetValue = function (i) {\r\n                if (i instanceof LinkedItem) return i.value;\r\n                return i;\r\n            };\r\n            LinkedList.prototype.baseNext = function () {\r\n                if ($.StartOfEnumeration === this.current) {\r\n                    if (!this.first)return $.EndOfEnumeration;\r\n                    return this.first;\r\n                }\r\n                if (!this.currentItem) return this.first;\r\n                if (!this.currentItem.next)return  $.EndOfEnumeration;\r\n                return this.currentItem.next;\r\n            };\r\n            LinkedList.prototype.find = function (condition) {\r\n                condition = $ex(condition);\r\n                var current = this.first;\r\n                while (current) {\r\n                    if (typeof condition == \"function\") {\r\n\r\n                        if (condition(current.key))return current;\r\n                        if (condition(current.value))return current;\r\n                        if (condition(current))return current;\r\n                    }\r\n                    if (condition == current.key)return current;\r\n                    if (condition == current.value)return current;\r\n                    current = current.next;\r\n                }\r\n                return null;\r\n            };\r\n\r\n            LinkedList.prototype.itemByIndex = function(idx){\r\n                if(idx<0)return undefined;\r\n                var current = this.first || undefined;\r\n                if(0==idx)return current;\r\n                for(var i=0;i<idx;i++){\r\n                    if(!current.next)return undefined;\r\n                    current = current.next;\r\n                }\r\n                return current;\r\n            };\r\n            LinkedList.prototype.byIndex = function(idx){\r\n                var item = this.itemByIndex(idx);\r\n                if(typeof item === \"undefined\")return undefined;\r\n                return item.value;\r\n            };\r\n            Object.defineProperty(LinkedList.prototype,\"currentIndex\",{\r\n                get:function(){\r\n                    if(!this.currentItem)return -1;\r\n                    return this.currentItem.index;\r\n                },\r\n                set:function(value){\r\n                    this.gotoIndex(value);\r\n                }\r\n            });\r\n\r\n\r\n            LinkedList.prototype.indexOf = function(any){\r\n                var target = this.__resolveTarget(any);\r\n                if(!target)return -1;\r\n                return target.index;\r\n            };\r\n            LinkedList.prototype.gotoIndex = function (index,offset) {\r\n                var basis = this.itemByIndex(index);\r\n                if (null == basis)return;\r\n                var i;\r\n                if (offset > 0) {\r\n                    for (i = 0; i < offset; i++) {\r\n                        if (basis.next)basis = basis.next; else {\r\n                            basis = undefined;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else if (offset < 0) {\r\n                    for (i = 0; i > offset; i--) {\r\n                        if (basis.previous)basis = basis.previous; else {\r\n                            basis = undefined;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if(basis===undefined)this.reset();\r\n                else{\r\n                    this.currentItem = basis;\r\n                    this.current = basis.value;\r\n                    this._index = basis.index;\r\n                }\r\n\r\n            };\r\n            LinkedList.prototype.goto = function (key, offset) {\r\n                var basis = this.find(key);\r\n                if (null == basis)return;\r\n                var i;\r\n                if (offset > 0) {\r\n                    for (i = 0; i < offset; i++) {\r\n                        if (basis.next)basis = basis.next; else {\r\n                            basis = undefined;\r\n                            break;\r\n                        }\r\n                    }\r\n                } else if (offset < 0) {\r\n                    for (i = 0; i > offset; i--) {\r\n                        if (basis.previous)basis = basis.previous; else {\r\n                            basis = undefined;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if(basis===undefined){\r\n                    this.reset();\r\n                }\r\n                else{\r\n                    this.currentItem = basis;\r\n                    this.current = basis.value;\r\n                    this._index = basis.index;\r\n                }\r\n\r\n            };\r\n\r\n            LinkedList.prototype.each = function (action) {\r\n                var current = this.first;\r\n                while(current){\r\n                    action(current.value);\r\n                    current = current.next;\r\n                }\r\n            };\r\n            LinkedList.prototype.eachItem = function (action) {\r\n                var current = this.first;\r\n                while(current){\r\n                    action(current);\r\n                    current = current.next;\r\n                }\r\n            };\r\n\r\n\r\n            LinkedList.prototype.append = function (any) {\r\n                any = this.setupItem(any);\r\n                any.previous = this.last;\r\n                if (this.last) {\r\n                    this.last.next = any;\r\n                }\r\n                this.last = any;\r\n                if (!this.first)this.first = any;\r\n                this.trigger(\"insert\",any);\r\n                return this;\r\n            };\r\n            LinkedList.prototype.getKey = function (any) {\r\n                if (!!this.onKey) {\r\n                    return this.onKey(any);\r\n                }\r\n                return any;\r\n            };\r\n            LinkedList.prototype.setupItem = function (any) {\r\n                if (!(any instanceof LinkedItem)) {\r\n                    any = new LinkedItem(any);\r\n                }\r\n                if (!!this.onKey) {\r\n                    any.key = this.onKey(any.value);\r\n                }\r\n                return any;\r\n            };\r\n            LinkedList.prototype.prepend = function (any) {\r\n                any = this.setupItem(any);\r\n                any.next = this.first;\r\n                if (this.first) {\r\n                    this.first.previous = any;\r\n                }\r\n                this.first = any;\r\n                if (!this.last)this.last = any;\r\n                this.trigger(\"insert\",any);\r\n                return this;\r\n            };\r\n\r\n            LinkedList.prototype.insertBefore = function (any, key) {\r\n                var target = this.__resolveTarget(key);\r\n                if (!target) {\r\n                    throw \"cannot find target for insert\"\r\n                }\r\n                any = this.setupItem(any);\r\n                any.next = target;\r\n                any.previous = target.previous;\r\n                if (target.previous) {\r\n                    target.previous.next = any;\r\n                }\r\n                target.previous = any;\r\n                if (this.first == target) {\r\n                    this.first = any;\r\n                }\r\n                this.trigger(\"insert\",any);\r\n                return this;\r\n            };\r\n            LinkedList.prototype.insertAfter = function (any, key) {\r\n                var target = this.__resolveTarget(key);\r\n                if (!target) {\r\n                    throw \"cannot find target for insert\"\r\n                }\r\n                any = this.setupItem(any);\r\n                any.previous = target;\r\n                any.next = target.next;\r\n                if (target.next) {\r\n                    target.next.previous = any;\r\n                }\r\n                target.next = any;\r\n                if (this.last == target) {\r\n                    this.last = any;\r\n                }\r\n                this.trigger(\"insert\",any);\r\n                return this;\r\n            };\r\n            LinkedList.prototype.replace = function (any, key) {\r\n                var target = this.__resolveTarget(key);\r\n                if (!target) {\r\n                    throw \"cannot getByKey target for insert\"\r\n                }\r\n                any = this.setupItem(any);\r\n                any.previous = target.previous;\r\n                any.next = target.next;\r\n                if (any.previous)any.previous.next = any;\r\n                if (any.next)any.next.previous = any;\r\n                if (this.first == target) {\r\n                    this.first = any;\r\n                }\r\n                if (this.last == target) {\r\n                    this.last = any;\r\n                }\r\n                this.trigger(\"update\",any,target);\r\n                return this;\r\n            };\r\n            LinkedList.prototype.__resolveTarget = function (keyOrTarget) {\r\n                if (!keyOrTarget)return this.currentItem || this.first;\r\n                if (keyOrTarget instanceof LinkedItem)return keyOrTarget;\r\n                return this.find(keyOrTarget);\r\n            };\r\n            LinkedList.prototype.remove = function (key) {\r\n                var target = this.__resolveTarget(key);\r\n                if (!target) {\r\n                    throw \"cannot getByKey target for insert\"\r\n                }\r\n                if (target.previous) {\r\n                    target.previous.next = target.next;\r\n                }\r\n                if (target.next) {\r\n                    target.next.previous = target.previous;\r\n                }\r\n                if (this.first == target) {\r\n                    this.first = target.next;\r\n                }\r\n                if (this.last == target) {\r\n                    this.last = target.previous;\r\n                    if (!this.last) {\r\n                        this.last = this.first;\r\n                    }\r\n                }\r\n                if (this.currentItem === target) {\r\n                    this.currentItem = target.next | target.previous | this.first;\r\n                    this.current = this.currentItem.value;\r\n                }\r\n                this.trigger(\"delete\",null,target);\r\n                return this;\r\n            };\r\n\r\n            var CycleList = function (source,options) {\r\n                LinkedList.call(this, source,options);\r\n            };\r\n            CycleList.prototype = Object.create(LinkedList.prototype);\r\n            CycleList.prototype.pop = function () {\r\n                /*if (null == this.first) {\r\n                    return null;\r\n                }*/\r\n                if (this.next()) {\r\n                    return this.current;\r\n                }\r\n\r\n                this.reset();\r\n                this.next();\r\n                return this.current;\r\n            };\r\n            CycleList.prototype.push = function (any) {\r\n                this.insertAfter(any);\r\n            };\r\n            CycleList.prototype.goto = function (key, offset) {\r\n                var basis = this.find(key);\r\n                if (null == basis)return;\r\n                var i;\r\n                if (offset > 0) {\r\n                    for (i = 0; i < offset; i++) {\r\n                        if (basis.next)basis = basis.next; else basis = this.first;\r\n                    }\r\n                } else if (offset < 0) {\r\n                    for (i = 0; i > offset; i--) {\r\n                        if (basis.previous)basis = basis.previous; else basis = this.last;\r\n                    }\r\n                }\r\n                this.currentItem = basis;\r\n                this.current = basis.value;\r\n                this._index = basis.index;\r\n            };\r\n\r\n\r\n            var Stack = function (enumeration,options) {\r\n                LinkedList.call(this,null,options);\r\n                if (enumeration) {\r\n                    var self = this;\r\n                    $(enumeration).each(function (_) {\r\n                        self.push(_);\r\n                    });\r\n                }\r\n            };\r\n            Stack.prototype = Object.create(LinkedList.prototype);\r\n            Stack.prototype.push = function (any) {\r\n                this.prepend(any);\r\n            };\r\n            Stack.prototype.pop = function () {\r\n                if (null == this.first)return null;\r\n                var result = this.first.value;\r\n                this.remove(this.first);\r\n                this.reset();\r\n                return result;\r\n            };\r\n\r\n            var Queue = function (enumeration,options) {\r\n                LinkedList.call(this, enumeration,options);\r\n\r\n            };\r\n            Queue.prototype = Object.create(LinkedList.prototype);\r\n            Queue.prototype.push = function (any) {\r\n                this.append(any);\r\n            };\r\n            Queue.prototype.pop = Stack.prototype.pop;\r\n\r\n            $.Enumeration.prototype.toList = function () {\r\n                return new LinkedList(this);\r\n            };\r\n            $.Enumeration.prototype.toStack = function () {\r\n                return new Stack(this);\r\n            };\r\n            $.Enumeration.prototype.toQueue = function () {\r\n                return new Queue(this);\r\n            };\r\n            $.Enumeration.prototype.toCycle = function () {\r\n                return new CycleList(this);\r\n            };\r\n\r\n            $.LinkedList = LinkedList;\r\n            $.LinkedItem = LinkedItem;\r\n            $.CycleList = CycleList;\r\n            $.Stack = Stack;\r\n            $.Queue = Queue;\r\n        });\r\n    });\r\n\n","/**\r\n * Created by comdiv on 26.09.14.\r\n */\r\n  define('the-collections-history',[\"the-collections-core\"], function ($the) {\r\n        return $the(function ($root) {\r\n\r\n            var $digest = $root.object.digest;\r\n            var ls = typeof( localStorage ) == \"undefined\" ?  $the.localStorage : localStorage;\r\n            var HistoryOptions = function(){\r\n                this.size = 20;\r\n                this.lskey = \"\";\r\n                this.fixedOrder = true;\r\n                this.jsonify = true;\r\n                this.jsonifyOptions = {};\r\n            };\r\n            var History =  function(options){\r\n                this.options = $the.cast(HistoryOptions, options);\r\n                this.items = [];\r\n                this.index = {};\r\n                this.version = 0;\r\n                if(!!this.options.lskey){\r\n                    var items = ls.getItem(this.options.lskey);\r\n                    if(!!items){\r\n                        items  = JSON.parse(items);\r\n                        for(var i=items.length-1;i>=0;i--){\r\n                            if(!!items[i]) {\r\n                                this.add(items[i].item, true);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n\r\n            $root.collections = $root.collections || {};\r\n\r\n            $root.collections.History = History;\r\n            $root.collections.HistoryOptions = HistoryOptions;\r\n\r\n            History.prototype = Object.create($root.collections.Enumeration.prototype);\r\n\r\n            History.prototype.baseNext = function () {\r\n                this._index++;\r\n                if (this._index < this.items.length) {\r\n                    return this.items[this._index].item;\r\n                }\r\n                return $root.collections.EndOfEnumeration;\r\n            };\r\n\r\n            History.prototype.getItems = function(){\r\n                var result = [];\r\n                this.items.forEach(function(_){\r\n                   result.push(_.item);\r\n                });\r\n                return result;\r\n            };\r\n\r\n\r\n            History.prototype.add = function(object, nowritels){\r\n                if(null==object)return ;\r\n                if(this.options.fixedOrder){\r\n                    object = $the.object.fixedOrder(object);\r\n                }\r\n                if(this.options.jsonify){\r\n                    object = $the.jsonify(object,this.options.jsonifyOptions);\r\n                }\r\n                var digest = $digest(object);\r\n                var handler = this.index[digest];\r\n                if(!handler){\r\n                    handler = this.index[digest] =  {item:object};\r\n                    if(this.items.length==this.options.size){\r\n                        var todelete = this.items[this.options.size-1];\r\n                        var digest = $digest(todelete.item);\r\n                        delete this.index[digest];\r\n                        this.items[this.options.size-1] = handler;\r\n                    }else {\r\n                        this.items.push(handler);\r\n                    }\r\n                }\r\n                handler.version = this.version++;\r\n                this.items.sort(function(a,b){\r\n                    if(a.version> b.version){\r\n                        return -1;\r\n                    }\r\n                    if(a.version < b.version){\r\n                        return 1;\r\n                    }\r\n                    return 0;\r\n                });\r\n                if(!!this.options.lskey && !nowritels){\r\n                    ls.setItem(this.options.lskey,JSON.stringify(this.items));\r\n                }\r\n            }\r\n\r\n            History.prototype.clear = function(){\r\n                this.index = {};\r\n                this.items = [];\r\n                this.reset();\r\n            }\r\n\r\n\r\n        });\r\n    });\n","\r\n    define('the-collections-linq',[\"the-collections-core\", \"the-expression\"], function ($the) {\r\n        return $the(function (root, privates) {\r\n            var Enumeration = $the.collections.Enumeration;\r\n            var $ex = privates._collectionEx;\r\n            var collections = $the.collections;\r\n\r\n            Enumeration.prototype.any = function (expr) {\r\n                return this.reset().next($ex(expr));\r\n            };\r\n\r\n            Enumeration.prototype.count = function (expr) {\r\n                this.reset();\r\n                var result = 0;\r\n                var e = $ex(expr);\r\n                while (this.next(e)) {\r\n                    result++;\r\n                }\r\n                return result;\r\n            };\r\n            Enumeration.prototype.sum = function (expr) {\r\n                this.reset();\r\n                var result = 0;\r\n                var e = $ex(expr);\r\n                while (this.next()) {\r\n                    result+=!!e? e(this.current):this.current;\r\n                }\r\n                return result;\r\n            };\r\n\r\n            Enumeration.prototype.first = function (condition) {\r\n                this.reset();\r\n                condition = $ex(condition);\r\n                if (this.next(condition)) {\r\n                    return this.current;\r\n                }\r\n                throw \"first element for this conditions not found\";\r\n            };\r\n            Enumeration.prototype.firstOrDefault = function (condition, defaultValue) {\r\n                this.reset();\r\n                condition = $ex(condition);\r\n                if (this.next(condition)) {\r\n                    return this.current;\r\n                }\r\n                return defaultValue;\r\n            };\r\n            Enumeration.prototype.where = function (condition) {\r\n                this.reset();\r\n                condition = $ex(condition);\r\n                return new Enumeration(this, function (e) {\r\n                    e._baseEnumeration.next(condition);\r\n                    return e._baseEnumeration.current;\r\n                });\r\n            };\r\n            Enumeration.prototype.union = function (other) {\r\n                other = collections(other);\r\n                this.reset();\r\n                other.reset();\r\n                return new Enumeration(this, function (e, eof) {\r\n                    if (e._baseEnumeration.next()) {\r\n                        return e._baseEnumeration.current;\r\n                    }\r\n                    if (other.next()) {\r\n                        return other.current;\r\n                    }\r\n                    return eof;\r\n                }, {referencedEnum: other});\r\n            };\r\n\r\n            Enumeration.prototype.select = function (projection) {\r\n                projection = $ex(projection);\r\n                return new Enumeration(this, function (e, eof) {\r\n                    if (e._baseEnumeration.next()) {\r\n                        var val = e._baseEnumeration.current;\r\n                        if (!!projection)val = projection(val);\r\n                        return val;\r\n                    }\r\n                    return eof;\r\n                }, null);\r\n            };\r\n\r\n            Enumeration.prototype.distinct = function (keyfunc) {\r\n                keyfunc = $ex(keyfunc);\r\n                var cache = {};\r\n                return new Enumeration(this, function (e, eof) {\r\n                    while (e._baseEnumeration.next()) {\r\n                        var val = e._baseEnumeration.current;\r\n                        var key = val;\r\n                        if (!!keyfunc) {\r\n                            key = keyfunc(val);\r\n                        }\r\n                        if (!cache.hasOwnProperty(key)) {\r\n                            cache[key] = val;\r\n                            return val;\r\n                        }\r\n                    }\r\n                    return eof;\r\n                }, {onReset: function () {\r\n                    cache = {}\r\n                }});\r\n            };\r\n\r\n            Enumeration.prototype.reverse = function () {\r\n                return new Enumeration(this, function (e, eof) {\r\n                    var self = this;\r\n                    if (self._index == -1)return eof;\r\n                    return self._buffer[self._index--];\r\n                }, {buffered: true, onBuffer: function () {\r\n                    var self = this;\r\n                    this._index = self._buffer.length - 1;\r\n                }});\r\n            };\r\n\r\n            Enumeration.prototype.order = function (keyOrComparer) {\r\n                var e = $ex(keyOrComparer, {annotate: true});\r\n                if (keyOrComparer && !e.annotation.comparer) {\r\n                    var keyFunc = e;\r\n                    e = function (a, b) {\r\n                        return keyFunc(a) - keyFunc(b);\r\n                    }\r\n                }\r\n                return new Enumeration(this, function (e, eof) {\r\n                    var self = this;\r\n                    if (self._bufferIter.next()) {\r\n                        return self._bufferIter.current;\r\n                    }\r\n                    return eof;\r\n                }, {buffered: true, onBuffer: function () {\r\n                    var self = this;\r\n                    if (!!e) {\r\n                        self._buffer.sort(e);\r\n                    } else {\r\n                        self._buffer.sort();\r\n                    }\r\n\r\n                }});\r\n            };\r\n\r\n            Enumeration.prototype.except = function (other, keyFunc) {\r\n                other = collections(other);\r\n                keyFunc = $ex(keyFunc);\r\n\r\n                return new Enumeration(this, function (e, eof) {\r\n\r\n                    while (e._bufferIter.next()) {\r\n                        if (!!keyFunc) {\r\n                            if (!(function (key) {\r\n                                return e._refbufferIter.any(function (_) {\r\n                                    return keyFunc(_) == key;\r\n                                });\r\n                            })(keyFunc(e._bufferIter.current)))return e._bufferIter.current;\r\n                        } else {\r\n                            var exists = e._refbufferIter.any(function (_) {\r\n                                return _ == e._bufferIter.current;\r\n                            });\r\n                            if (!exists)return e._bufferIter.current;\r\n                        }\r\n                    }\r\n                    return eof;\r\n                }, {buffered: true, referencedEnum: other});\r\n            };\r\n\r\n\r\n            Enumeration.prototype.skip = function (numOrFunc) {\r\n                var skipper = $ex(numOrFunc, {counter: true});\r\n                var skipped = false;\r\n                return new Enumeration(this, function (e, eof) {\r\n                    var self = this;\r\n                    while (!skipped) {\r\n                        var next = self._baseEnumeration.next();\r\n                        if (!next)return eof;\r\n                        if (!skipper(self._baseEnumeration.current)) {\r\n                            skipped = true;\r\n                            return self._baseEnumeration.current;\r\n                        }\r\n                    }\r\n                    if (self._baseEnumeration.next()) {\r\n                        return self._baseEnumeration.current;\r\n                    }\r\n                    return eof;\r\n                }, {onReset: function () {\r\n                    skipper = $ex(numOrFunc, {counter: true});\r\n                    skipped = false;\r\n                }});\r\n            };\r\n\r\n            Enumeration.prototype.take = function (numOrFunc) {\r\n                var skipper = $ex(numOrFunc, {counter: true});\r\n                return new Enumeration(this, function (e, eof) {\r\n                    var self = this;\r\n                    var next = self._baseEnumeration.next();\r\n                    if (!next)return eof;\r\n\r\n                    if (!skipper(self._baseEnumeration.current)) {\r\n                        return eof;\r\n                    }\r\n                    return self._baseEnumeration.current;\r\n                }, {onReset: function () {\r\n                    skipper = $ex(numOrFunc, {counter: true});\r\n                }});\r\n            };\r\n\r\n\r\n        })\r\n\r\n    });\n","/**\r\n * Action/Action builder module to wrapp HTTP/AJAX calls\r\n */\r\n    define('the-action',[\"the-jsonify\", \"the-http\"], function ($the) {\r\n        return $the(function ($root, $privates) {\r\n            var cast = $the.cast;\r\n            var extend = $the.extend;\r\n            var excast = $the.object.ExtendOptions.ExtendedCast;\r\n            var $j = $the.jsonify;\r\n            var $h = $the.http;\r\n            var timeout = $the.timeout;\r\n\r\n            var ActionCallInfo = function () {\r\n                this.success = null;\r\n                this.error = null;\r\n                this.transport = null;\r\n                this.emitter = null;\r\n                this.headers = null;\r\n                this.extensions = null;\r\n                this.method = \"\";\r\n                this.withCredentials = null;\r\n                this.suppressDefault = false;\r\n                this.eventName = \"\";\r\n                this.castresult = null;\r\n                this.rawResult = false;\r\n                this.parameters = {};\r\n                this.delay = 0;\r\n                //#Q-270\r\n                this.targetWindow = \"\";\r\n            };\r\n\r\n            var Action = function () {\r\n                if (!(this instanceof Action)) {\r\n                    return build.apply(null, arguments);\r\n                }\r\n                /* URI construction parameters */\r\n                this.baseUrl = \"/\";\r\n                this.addressType = \"url\";\r\n                ////////////////////////////////\r\n                this.method = \"GET\";\r\n                this.arguments = null; //ctor function for arguments\r\n                this.result = null; //ctor function for result\r\n                this.castresult = true;\r\n                this.headers = null;\r\n                this.extensions = null;\r\n                this.useparams = true;\r\n                this.withCredentials = true;\r\n                this.success = null;\r\n                this.error = null;\r\n                this.eventName = \"\";\r\n                this.jsonify = true;\r\n                this.delay = 0;\r\n                this.appPath = \"\";\r\n                //#Q-270\r\n                this.targetWindow = \"\";\r\n                this.evalFunctions = false;\r\n                this.jsonifyOptions = {interpolate: false, defaults: false, stringify: true, evalfunctions: this.evalFunctions, functions: false, privates: false};\r\n                this.__callMoniker = null;\r\n                return this;\r\n            };\r\n\r\n\r\n            Action.prototype.execute = function () {\r\n                var a = this.normalizeParameters(arguments);\r\n                var delay = Math.max(this.delay, a.callinfo.delay);\r\n                var request = this.createRequest(a.args, a.callinfo);\r\n                if(request.popup) {\r\n                    var fullUrl = request.url;\r\n                    if(!$root.isDefaultValue(request.params)){\r\n                        if(fullUrl.match(/\\?/)){\r\n                            fullUrl+=\"&\";\r\n                        }else{\r\n                            fullUrl+=\"?\";\r\n                        }\r\n                        fullUrl+= $.param(request.params);\r\n                    }\r\n                    window.open(fullUrl,request.targetWindow);\r\n                }else {\r\n                    var self = this;\r\n                    clearTimeout(self.__callMoniker);\r\n                    if (0 !== delay) {\r\n                        var myMoniker = self.__callMoniker; //interlocked-like syncronization\r\n                        self.__callMoniker =  timeout(function () {\r\n                            $h(request);\r\n                        }, delay);\r\n                        return null;\r\n                    } else {\r\n                        return $h(request);\r\n                    }\r\n                }\r\n            };\r\n\r\n            Action.prototype.getUrl = function (args, callinfo) {\r\n                callinfo = cast(ActionCallInfo, callinfo || {}, excast);\r\n                var baseUrl = callinfo.baseUrl || this.baseUrl || \"/\";\r\n                var addressType = callinfo.addressType || this.addressType || \"url\";\r\n                if (\"url\" === addressType) {\r\n                    var url = callinfo.url || this.url || \"\";\r\n                    if (!!args && url.indexOf('$') != -1) {\r\n                        if (!$the.interpolate) {\r\n                            console.warn(\"can lost interpolable urls while interpolation module not loaded\")\r\n                        } else {\r\n                            url = $the.interpolate(url, args);\r\n                        }\r\n                    }\r\n                    url = url || \"\";\r\n                    url = (\"/\" + baseUrl + \"/\" + url);\r\n                    var appPath = callinfo.appPath || this.appPath || \"\";\r\n                    if(!!appPath){\r\n                        if(!!document) {\r\n                            appPath = $the.interpolate(appPath, document.location);\r\n                        }\r\n                        url = appPath + \"/\" +url;\r\n                    }\r\n                    url = url.replace(/\\/+/g, \"/\").replace(/^(https?):\\//,\"$1://\");\r\n                    return url;\r\n                } else {\r\n                    throw \"special urls are not supported for now\"\r\n                }\r\n            };\r\n            Action.prototype.normalizeParameters = function (_args) {\r\n                var args = null;\r\n                var callinfo = null;\r\n                var success = null;\r\n                var error = null;\r\n                for (var k = 0; k < _args.length; k++) {\r\n                    var val = _args[k];\r\n                    if (typeof val === \"function\") {\r\n                        if (!!success)error = val; else success = val;\r\n                    } else if (!!args || val instanceof ActionCallInfo) {\r\n                        callinfo = val;\r\n                    } else {\r\n                        args = val;\r\n                    }\r\n\r\n                }\r\n                args = args || {};\r\n                callinfo = cast(ActionCallInfo, callinfo || {}, excast);\r\n\r\n                if (success && !error) {\r\n                    error = function (error, resp) {\r\n                        success(null, resp, error);\r\n                    }\r\n                }\r\n                callinfo.success = success || callinfo.success;\r\n                callinfo.error = error || callinfo.error;\r\n                return {args: args, callinfo: callinfo};\r\n            };\r\n\r\n            Action.prototype.prepareEmitter = function(){\r\n                if(!!this.emitter && !!this.eventName){\r\n                    var self = this;\r\n                    var on = this.emitter.on || this.emitter.$on;\r\n                    on.call(this.emitter,\"CALL:\"+this.eventName,function(event,args){\r\n                        self.execute.apply(self,args);\r\n                    });\r\n                }\r\n            }\r\n            var extensionsFalseFilter = function (_) {\r\n                return !_.match(extensionsRegex)\r\n            };\r\n            Action.prototype.createRequest = function (args, callinfo) {\r\n                args = args || {};\r\n                callinfo = cast(ActionCallInfo, callinfo || {}, excast);\r\n                //extract clean params\r\n                var url = this.getUrl(args, callinfo);\r\n                var result = { url: url, params: {}, headers: {}, extensions: {} };\r\n                // store all properties execpt extensions into params\r\n                if (!!this.useparams) {\r\n                    result.params  = !!this.arguments ? new this.arguments() : {};\r\n                    extend(result.params, this.parameters, {filter: extensionsFalseFilter});\r\n                    extend(result.params, callinfo.parameters, {filter: extensionsFalseFilter});\r\n                    extend(result.params, args || {}, {filter: extensionsFalseFilter,ignoreCase:true});\r\n                    if (this.jsonify) {\r\n                        var opts = this.jsonifyOptions;\r\n                        if (!$the.interpolate && opts.interpolate) {\r\n                            console.warn(\"may be lost interpolation while interpolation module not loaded\");\r\n                            opts = $the.clone(opts);\r\n                            opts.interpolate = false;\r\n                        }\r\n                        result.params = $j(result.params, opts);\r\n                    }\r\n                }\r\n\r\n\r\n                var targetWindow = callinfo.targetWindow || this.targetWindow;\r\n\r\n                if(!!targetWindow) {\r\n                    result.popup = true;\r\n                    result.targetWindow = targetWindow;\r\n                }\r\n                if(result.popup){\r\n                   result.method = \"GET\";\r\n                }else {\r\n\r\n                    result.method = callinfo.method || this.method;\r\n\r\n                    applyHttpExtensions(result, this);\r\n\r\n                    extend(result.headers, this.headers);\r\n                    extend(result.headers, callinfo.headers);\r\n                    extend(result.extensions, this.extensions);\r\n                    extend(result.extensions, callinfo.extensions);\r\n\r\n                    applyHttpExtensions(result, args);\r\n\r\n                    var self = this;\r\n                    var eventName = callinfo.eventName || this.eventName;\r\n                    if (eventName === \"disable\")eventName = null;\r\n                    var emits = callinfo.emits || this.emits;\r\n                    if (emits === \"disable\")emits = null;\r\n                    var emitter = callinfo.emitter || this.emitter;\r\n                    var resultCtor = callinfo.result || this.result;\r\n                    var castresult = (callinfo.castresult || this.castresult) && !!resultCtor && !callinfo.rawResult;\r\n                    var emit = !!emitter ? (emitter.emit || emitter.$broadcast) : null;\r\n\r\n                    var success = function (data, resp) {\r\n                        var realdata = data;\r\n                        if (castresult) {\r\n                            if (Array.isArray(data)) {\r\n                                realdata = [];\r\n                                for (var i = 0; i < data.length; i++) {\r\n                                    realdata.push(cast(resultCtor, data[i], excast));\r\n                                }\r\n                            } else if (typeof  data === \"object\") {\r\n                                realdata = cast(resultCtor, data, excast);\r\n                            }\r\n                        }\r\n                        if (!!callinfo.success) {\r\n                            callinfo.success(realdata, resp);\r\n                        }\r\n                        if (!!self.success && !callinfo.suppressDefault) {\r\n                            self.success(realdata, resp);\r\n                        }\r\n                        if (!!eventName && !!emitter && !callinfo.suppressDefault) {\r\n                            emit.call(emitter, eventName, [realdata, resp, self]);\r\n                        }\r\n                        if (emits && !!emitter) {\r\n                            emits.forEach(function (_) {\r\n                                emit.call(emitter, _, [realdata, resp, self])\r\n                            })\r\n                        }\r\n                    };\r\n                    var error = function (error, resp) {\r\n                        if (!!callinfo.error) {\r\n                            callinfo.error(error, resp);\r\n                        }\r\n                        if (!!self.error && !callinfo.suppressDefault) {\r\n                            self.error(error, resp);\r\n                        }\r\n                        if (!!eventName && !!emitter && !callinfo.suppressDefault) {\r\n                            emit.call(emitter, \"ERROR:\" + eventName, [error, resp, this]);\r\n                        }\r\n                        if (emits && !!emitter) {\r\n                            emits.forEach(function (_) {\r\n                                emit.call(emitter, \"ERROR:\" + _, [error, resp, self])\r\n                            })\r\n                        }\r\n                    };\r\n                    result.success = success;\r\n                    result.error = error;\r\n\r\n                    var withCredentials = this.withCredentials;\r\n                    if (null != callinfo.withCredentials) {\r\n                        withCredentials = callinfo.withCredentials;\r\n                    }\r\n                    if (withCredentials) {\r\n                        result.withCredentials = withCredentials;\r\n                    }\r\n\r\n                    if ($the.isDefaultValue(result.headers)) {\r\n                        delete result.headers;\r\n                    }\r\n                    if ($the.isDefaultValue(result.extensions)) {\r\n                        delete result.extensions;\r\n                    }\r\n\r\n                }\r\n\r\n                return result;\r\n            };\r\n\r\n\r\n            var build = $root.action = Action.build = function (action, $transport, $emitter, $baseUrl) {\r\n                action = action||{};\r\n                var t = action.transport || null;\r\n                var e = action.emitter || null;\r\n                delete action.transport;\r\n                delete action.emitter;\r\n                action = cast(Action, action || {}, excast);\r\n                action.transport = $transport || t;\r\n                action.emitter = $emitter || e;\r\n\r\n                action.baseUrl = $baseUrl || action.baseUrl;\r\n\r\n                var result = function () {\r\n                    return action.execute.apply(action, arguments);\r\n                };\r\n                result.action = action;\r\n                result.createRequest = action.createRequest.bind(action);\r\n                result.getUrl = action.getUrl.bind(action);\r\n                result.__callMoniker = 0;\r\n                action.prepareEmitter();\r\n                return result;\r\n            };\r\n\r\n            var extensionsRegex = /h[qd]_/;\r\n\r\n            var stubtransport = $privates.stubtransport = {\r\n\r\n            };\r\n\r\n            var stubemitter = $privates.stubemitter = {\r\n\r\n            };\r\n\r\n            Action.prototype.transport = stubtransport;\r\n            Action.prototype.emitter = stubemitter;\r\n\r\n\r\n\r\n\r\n            var applyHttpExtensions = $privates.applyHttpExtensions = function (target, source) {\r\n                for (var s in source) {\r\n                    if (!source.hasOwnProperty(s))continue;\r\n                    if (!!s.match(extensionsRegex)) {\r\n                        var val = source[s];\r\n                        var type = s.substring(1, 2);\r\n                        var name = s.substring(3);\r\n                        if (type == 'q') { //request extension\r\n                            if (typeof (val) == 'object') {\r\n                                target.extensions[name] = target.extensions[name] || {};\r\n                                extend(target.extensions[name], val);\r\n                            } else {\r\n                                target.extensions[name] = val;\r\n                            }\r\n                        } else if (type == 'd') { //named header\r\n                            target.headers = target.headers || {};\r\n                            target.headers[name] = val;\r\n                        }\r\n                    }\r\n                }\r\n                return target;\r\n            };\r\n\r\n            $root.action.Action = Action;\r\n\r\n        });\r\n    });\n","/**\r\n * Created by comdiv on 04.11.2014.\r\n */\r\n\r\n    define('the-angular',[\"the-root\"], function ($the) {\r\n        return $the(function(root, privates)\r\n        {\r\n            root.checkEnvironment();\r\n            if ( root.$angular) {\r\n                root.modules = root.modules || {};\r\n                root.modules.all = root.$angular.module(\"the-all\", []);\r\n            }else {\r\n                console.error(\"angular not loaded\");\r\n            }\r\n        });\r\n    });\n","/**\r\n * Created by comdiv on 04.11.2014.\r\n */\r\n    define('the-angular-unsafe',[\"the-angular\"], function ($the) {\r\n        return $the(function(root, privates)\r\n        {\r\n            if(null==root.modules)return;\r\n            var unsafe = function($sce) {\r\n                return function (val) {\r\n                    return $sce.trustAsHtml(val);\r\n                };\r\n            };\r\n            root.modules.f_unsafe = root.$angular.module(\"the-unsafe\",[]).filter('unsafe',unsafe);\r\n            root.modules.all.filter('unsafe', unsafe);\r\n        });\r\n    });\n","define('autocomplete-html',[],function(){\r\n    return '<input class=\"dropdown-toggle form-control \" ng-focus=\"__acFocus()\" ng-model=\"${bindQuery}\" ng-change=\"__acChange(1)\"\\\r\n    on-enter=\"__acChange(2)\"/> \\\r\n<ul  ng-if=\"!(\\'${templateUrl}\\')\" class=\"dropdown-menu ${ddClass}\"> \\\r\n    <li class=\"default\"  ng-repeat=\"i in __fixdata\"> \\\r\n        <a ng-click=\"__acClick($event,i)\">${template}</a> \\\r\n    </li> \\\r\n    <li ng-if=\"__fixdata.length!=0 && __data.length!=0\" class=\"delimiter\"></li> \\\r\n    <li ng-repeat=\"i in __data\"> \\\r\n        <a ng-click=\"__acClick($event,i)\">${template}</a> \\\r\n    </li> \\\r\n</ul>\\\r\n<ul ng-if=\"(\\'${templateUrl}\\')\" class=\"dropdown-menu ${ddClass}\" ng-include=\"\\'${templateUrl}\\'\"> \\\r\n</ul>'\r\n});\n","/**\r\n * Created by comdiv on 04.11.2014.\r\n */\r\ndefine('the-angular-autocomplete',[\"the-angular\", \"autocomplete-html\"], function ($the, template) {\r\n    return $the(function (root, privates) {\r\n\r\n        if (null == root.modules)return;\r\n        var prepareElement = function (e, attr) {\r\n            var el = $(e);\r\n            el.addClass(\"dropdown\");\r\n            el.addClass(\"the-autocomplete\");\r\n            el.attr(\"dropdown\", \"dropdown\");\r\n            el.attr(\"is-open\", \"__isopen\");\r\n\r\n            var data = {\r\n                \"bindQuery\": attr[\"ngModel\"] || \"__acSearch\",\r\n                \"template\": attr[\"template\"] || \"{{i}}\",\r\n                \"templateUrl\": attr[\"templateUrl\"] || \"\",\r\n                \"ddClass\": attr[\"ddClass\"] || \"\"\r\n            }\r\n            var eltext = $the.interpolate(template, data);\r\n            var input = $(eltext);\r\n\r\n            input.appendTo(el);\r\n            el.find(\"ul\").css(\"overflow-y\", \"auto\");\r\n            if (!!attr[\"height\"]) {\r\n                el.find(\"ul\").css(\"max-height\", \"\" + attr[\"height\"] + \"px\");\r\n\r\n            }\r\n        };\r\n        var prepareScope = function (scope, e, attr, $rootScope) {\r\n\r\n            var data = {\r\n                \"bindQuery\": attr[\"ngModel\"] || \"__acSearch\",\r\n                \"template\": attr[\"template\"] || \"{{i}}\",\r\n                \"templateUrl\": attr[\"templateUrl\"] || \"\",\r\n                \"ddClass\": attr[\"ddClass\"] || \"\"\r\n            }\r\n            var minLength = (\"minLength\" in attr) ? attr[\"minLength\"] : 1;\r\n\r\n            var timeout = null;\r\n            var _e = $(e)[0];\r\n            scope.__data = [];\r\n            scope.__fixdata = [];\r\n            scope.__acSearch = \"\";\r\n            scope.firstRun = true;\r\n            var __winHider = function (event) {\r\n                var current = event.target;\r\n                while (!!current) {\r\n                    if (current == ul[0])return;\r\n                    current = current.parentNode;\r\n                }\r\n                __acHide();\r\n            }\r\n            var __acHide = function () {\r\n                $(window).off(\"mousedown\", __winHider);\r\n                $(e).removeClass(\"open\");\r\n                if (!!ul) {\r\n                    ul.hide();\r\n                }\r\n            }\r\n            $rootScope.$on(\"HIDEMENUES\", function () {\r\n                __acHide()\r\n            });\r\n            var ul = null;\r\n            var __acShow = function (cached) {\r\n                if (!ul) {\r\n                    ul = $(e).find(\"ul\");\r\n                    ul.appendTo(document.body);\r\n                }\r\n                //allow override showStage\r\n                var func = scope.$eval(attr[\"onShow\"]);\r\n                if (!!func) {\r\n                    if (!func(scope.__data, cached, ul, e)) {\r\n                        return;\r\n                    }\r\n                }\r\n                $(window).on(\"mousedown\", __winHider);\r\n                $(e).addClass(\"open\");\r\n\r\n                var posmarker = $(e).find(\"input\");\r\n                var pos = posmarker[0].getBoundingClientRect();\r\n                var top = pos.bottom;\r\n                var left = pos.left;\r\n                ul.css(\"top\", top + \"px\");\r\n                ul.css(\"left\", left + \"px\");\r\n                ul.show();\r\n            }\r\n\r\n            scope.__acFocus = function () {\r\n                if (!$(e).hasClass(\"open\") && (scope.__data.length != 0 || scope.__fixdata.length != 0)) {\r\n                    __acShow(true);\r\n                } else if (!$(e).hasClass(\"open\") && scope.firstRun) {\r\n                    scope.firstRun = false;\r\n                    if (!!attr[\"emptySearch\"]) {\r\n                        scope.__acChange(2);\r\n                    } else {\r\n                        var onFix = scope.$eval(attr[\"bld\"]);\r\n                        if (typeof onFix == \"function\") {\r\n                            onFix(function (fixdata) {\r\n                                scope.__fixdata = fixdata;\r\n\r\n                                __acShow(true);\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            scope.__onData = function (data) {\r\n                var searchEnd = scope.$eval(attr[\"onEndSearch\"]);\r\n                if (typeof searchEnd == \"function\") {\r\n                    data = searchEnd(data) || data;\r\n                }\r\n                scope.$apply(function () {\r\n                    scope.__data = data;\r\n                });\r\n                __acShow();\r\n            };\r\n            scope.__acChange = function (type) {\r\n                if (!!attr[\"onEnterOnly\"]) {\r\n                    if (type == 1)return;\r\n                }\r\n                clearTimeout(timeout);\r\n                __acHide();\r\n                var search = scope.$eval(data.bindQuery);\r\n                if ((search == \"\" && !!attr[\"emptySearch\"]) || search.length >= minLength) {\r\n\r\n                    timeout = setTimeout(function () {\r\n                        var searchStart = scope.$eval(attr[\"onStartSearch\"]);\r\n                        if (typeof searchStart == \"function\") {\r\n                            scope.$apply(function () {\r\n                                search = searchStart(search) || search; //allow override search\r\n                            });\r\n                        }\r\n                        if (!!attr[\"onSearch\"]) {\r\n                            var call = attr[\"onSearch\"];\r\n                            if (!call.match(/\\(/)) {\r\n                                call += \"(search,callback)\";\r\n                            }\r\n                            scope.$eval(call, {search: search, callback: scope.__onData});\r\n                        }\r\n                    }, 300);\r\n                }\r\n            };\r\n            scope.__acClick = function ($event, i) {\r\n                $event.preventDefault();\r\n                $event.stopPropagation();\r\n                __acHide();\r\n                if (!!attr[\"onResult\"]) {\r\n                    var search = scope.$eval(data.bindQuery);\r\n                    var call = attr[\"onResult\"];\r\n                    if (!call.match(/\\(/)) {\r\n                        call = call + \"(i,search,e)\";\r\n                    }\r\n                    scope.$eval(call, {search: search, i: i, e: $event});\r\n\r\n                }\r\n            }\r\n\r\n            var init = scope.$eval(attr[\"onInit\"]);\r\n            if (typeof init == \"function\") {\r\n                init(scope, e, attr);\r\n            }\r\n        }\r\n        var autoComplete = function ($rootScope) {\r\n            return {\r\n                scope: true,\r\n                compile: function (e, attr) {\r\n                    prepareElement(e, attr);\r\n                    return {\r\n                        pre: function (scope, e, attr) {\r\n                            prepareScope(scope, e, attr, $rootScope);\r\n                        }\r\n\r\n                    }\r\n                }\r\n\r\n            }\r\n        };\r\n        root.modules.d_autocomplete =\r\n            root.$angular.module(\"the-autocomplete\", []).directive(\"theAutocomplete\", [\"$rootScope\", autoComplete]);\r\n        root.modules.all.directive('theAutocomplete', [\"$rootScope\", autoComplete]);\r\n\r\n        root.modules.autoCompleteSet = {\r\n            compile: prepareElement,\r\n            link: prepareScope\r\n        };\r\n    });\r\n});\n","/**\r\n * Created by comdiv on 04.11.2014.\r\n */\r\n    define('the-angular-controlgroup',[\"the-angular\"], function ($the) {\r\n        return $the(function(root, privates)\r\n        {\r\n            if(null==root.modules)return;\r\n            root.modules.all.directive(\"theControlGroup\",[\"ngClassDirective\",function(ngc,compile){\r\n                var ngclass= ngc[0];\r\n                return {\r\n                    restrict: 'A',\r\n                    compile : function(element,attr){\r\n                        var el =$(element);\r\n                        el.addClass(\"control-group\");\r\n                        var input = el.find('input, textarea, select');\r\n                        input.addClass(\"form-control\");\r\n                        var formname = el.parent().attr(\"name\");\r\n                        var name = input.attr(\"name\");\r\n                        attr[\"ngClass\"]=\"{'has-error':\"+formname+\".\"+name+\".$invalid}\";\r\n                        el.attr(\"ng-class\",\"{'has-error':\"+formname+\".\"+name+\".$invalid}\");\r\n                        var label= $('<label class=\"control-label\">'+attr[\"label\"]+'</label>').prependTo(el);\r\n\r\n\r\n                        if (input.attr('required')){\r\n                            $('<span class=\"validate\" ng-show=\"'+formname+'.'+name+'.$error.required\" class=\"help-inline\">&nbsp;(обязательно)</span>').appendTo(label);\r\n                        }\r\n                        if (!!input.attr(\"ng-pattern\")){\r\n                            $('<span class=\"validate\" ng-show=\"'+formname+'.'+name+'.$error.pattern\" class=\"help-inline\">&nbsp;('+attr[\"patternDesc\"]+')</span>').appendTo(label);\r\n                        }\r\n                        if (!!input.attr(\"min\")){\r\n                            $('<span class=\"validate\" ng-show=\"'+formname+'.'+name+'.$error.min\" class=\"help-inline\">&nbsp;(не менее '+input.attr(\"min\")+')</span>').appendTo(label);\r\n                        }\r\n\r\n                        return {\r\n                            pre : function(s, e,a){\r\n                                ngclass.link(s,e,a);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }]);\r\n        });\r\n    });\n","\r\n\r\n\r\n/**\r\n * Created by comdiv on 04.11.2014.\r\n */\r\n    define('the-angular-viewcontext',[\"the-angular\"], function ($the) {\r\n        return $the(function(root, privates)\r\n        {\r\n            if(null==root.modules)return;\r\n            root.modules.all.factory('theViewContextHelper', [\r\n                    \"$rootScope\",\r\n                    function($rs){\r\n                        return {\r\n                            addEvents : function (target, events){\r\n                                if(!(events && target))return;\r\n                                events  = Array.isArray(events) ? events : [events];\r\n                                events.forEach (function(_){\r\n                                    var eventname = _.toUpperCase()+\"EVENT\";\r\n                                    target[eventname] = eventname;\r\n                                    var subscribeName = \"on\"+_[0].toUpperCase()+_.substring(1);\r\n                                    target[subscribeName] = (function(handler){\r\n                                        $rs.$on(eventname,handler);\r\n                                    });\r\n                                    var callName = _;\r\n                                    target[callName] = function(data, context){\r\n                                        $rs.$broadcast(eventname, data, context);\r\n                                    }\r\n                                });\r\n                            }\r\n                        }\r\n                    }\r\n                ]);\r\n\r\n        });\r\n    });\n","/**\r\n * Created by comdiv on 04.11.2014.\r\n */\r\ndefine('the-angular-onenter',[\"the-angular\"], function ($the) {\r\n    return $the(function (root) {\r\n        if (null == root.modules)return;\r\n        var onEnter = function () {\r\n            return {\r\n                link: function (scope, e, attr) {\r\n                    $(e).bind('keyup',function(event){\r\n                        if(event.keyCode == 13){\r\n                            event.preventDefault();\r\n                            event.stopPropagation();\r\n                            scope.$apply(scope.$eval(attr[\"onEnter\"]));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        var onEscape = function () {\r\n            return {\r\n                link: function (scope, e, attr) {\r\n                    $(e).bind('keyup',function(event){\r\n                        if(event.keyCode == 27){\r\n                            event.preventDefault();\r\n                            event.stopPropagation();\r\n                            scope.$apply(scope.$eval(attr[\"onEscape\"]));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        root.modules.d_onenter = root.$angular.module(\"the-onenter\", []).directive(\"onEnter\", [onEnter]);\r\n        root.modules.d_onescape = root.$angular.module(\"the-onescape\", []).directive(\"onEscape\", [onEscape]);\r\n        root.modules.all.directive('onEnter', [onEnter]);\r\n        root.modules.all.directive('onEscape', [onEscape]);\r\n\r\n    });\r\n});\n","/**\r\n * Created by comdiv on 26.09.14.\r\n * @description расширение для подгона размера шрифта текста под заданный размер целевого элемента\r\n */\r\n\r\n    define('the-design-stackedbutton',[\"the-root\"], function ($the) {\r\n        return $the(function (root) {\r\n            if (null == root.modules)return;\r\n            var stackedbutton = function(e,iAttr){\r\n                return {\r\n                    scope : true,\r\n                    templateUrl: 'views/the/stacked-button.html?ver='+$the.ver,\r\n                    link : function(scope,e,iAttr){\r\n                        scope.useCheck = (\"checker\" in iAttr);\r\n                        var type = iAttr.type;\r\n                        scope.innertype = function(){\r\n                            if(scope.useCheck){\r\n                                return scope.check() ? \"fa-check\" : \"fa-remove\";\r\n                            }else if(scope.useinner()){\r\n                                return \"fa-\"+iAttr.marker;\r\n                            }\r\n                        }\r\n                        scope.useinner = function(){\r\n                            return scope.useCheck || (\"marker\" in iAttr);\r\n                        }\r\n                        scope.isPdf = function(){\r\n                            return scope.fronttype().match(/pdf/);\r\n                        }\r\n                        scope.backtype = function(){\r\n                           if(type.match(/^file-?.*-o$/)){\r\n                               return \"fa-file\";\r\n                           }\r\n                            if(type==\"question-circle\"){\r\n                                return \"fa-question\";\r\n                            }\r\n                        }\r\n                        scope.fronttype = function(){\r\n                            return \"fa-\"+type;\r\n                        }\r\n\r\n                        if(scope.useCheck){\r\n                            scope.check = function(){\r\n                                return scope.$eval(iAttr.checker);\r\n                            }\r\n                        }\r\n                        scope.usehelp = (\"help\" in iAttr);\r\n                        scope.serverPrint = scope.serverPrint || function(){\r\n                            $the.printer.serverPrint({Target:\"_blank\"});\r\n                        }\r\n                        scope.canPrint =  typeof jsPrintSetup != \"undefined\";\r\n                        scope.doPrint = scope.doPrint || function(){\r\n                            setTimeout(function(){\r\n                                $the.printer.print();\r\n                            },1000);\r\n                        }\r\n                        scope.showHelp = function(event){\r\n                            if(typeof(event)==\"object\") {\r\n                                event.preventDefault();\r\n                                event.stopPropagation();\r\n                                window.open(\"wiki?\" + iAttr.help);\r\n                            }else{\r\n                                window.open(\"wiki?\" + event);\r\n                            }\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n            root.modules.s_button =\r\n                root.$angular.module(\"the-stacked-button\", []).directive(\"theStackedButton\", [\"$rootScope\", stackedbutton]);\r\n            root.modules.all.directive('theStackedButton', [\"$rootScope\", stackedbutton]);\r\n\r\n        });\r\n    });\n","/*\r\nFeatures \r\n1) single line delimiter is ignored\r\n2) multiple line delimiters collapsed to single BR element\r\n3) where are 3 types of blocks :\r\n\ta) inline (affect enclosed block in SINGLE line range) bold,italic, etc\r\n\tb) line-wide (affects whole line and use in prefix line form) - headers, lists and so on\r\n\tc) blocks - enclose group of rows, all blocks are in same syntax = [[CODE]] .. [[/CODE]] \r\n4) wiki ignorance - prefix any line with ! as first symbol - cause non processing for this row\r\n\r\n5) inlines :\r\n\ta)\t***BOLD***\r\n\tb)  **ITALIC**\r\n\tc)  __UNDERSCORE__\r\n\td)  --STRIKEOUT--\r\n\te)  {style:CSS-CODE}STYLED CONTENT{style}\r\n\tf)  [ HREF ; REFNAME ; ADDITION ATTRIBUTES ] - reference, REFNAME, ADDITION ATTRIBUTES are optional ; used to offen | usage in boot strap\r\n\t\r\n6) line markers\r\n\ta) ! line with ignore any wiki\r\n\tb) =[====...] N-th level header N = 1..6\r\n\tc) %[%%%%...] N-th level doted list N = 1..6\r\n\r\n7) blocks :\r\n\ta) [[nowiki]]...[[/nowiki]] - disable wiki formatting in enclosed block\r\n\r\n*/\r\ndefine('the-wiki',[],function(){\r\n return (function(){\r\n\r\nvar qwiki = {};\r\n\r\nqwiki.beforePreprocess = null;\r\nqwiki.afterPreprocess = null;\r\nqwiki.preprocess = function(processor){\r\n\tprocessor.text = processor.text || \"\";\r\n\tvar preprocessedText  = processor.text ;\r\n\tif(this.beforePreprocess){\r\n\t\tpreprocessedText = this.beforePreprocess(processor,preprocessedText);\r\n\t}\r\n\tvar preprocessedText = '\\n'+processor.text.trim()+'\\n';\r\n\tpreprocessedText = preprocessedText.replace(/\\r/g,'');\r\n\t// firstly we must meet 1-st feature - we unify and process line delimiters\r\n\tpreprocessedText = preprocessedText.replace(/\\n\\n+/g,\"\\n\\n[BR]\\n\\n\");\r\n\tpreprocessedText = preprocessedText.replace(/\\n([\\=\\%\\!\\-\\|№])([^\\n]+)/g,'\\n\\n$1$2\\n\\n');\r\n\t// then we must split lines for block elements\r\n\tpreprocessedText = preprocessedText.replace(/(\\[\\[\\/?\\w+([^\\]]*)\\]\\])/g,\"\\n\\n\\n\\n$1\\n\\n\\n\\n\");\r\n\t// and finally remove ambigous lines\r\n\tpreprocessedText = preprocessedText.replace(/\\n\\n+/g,\"__LINER__\");\r\n\tpreprocessedText = preprocessedText.replace(/\\n/g,\"&nbsp;\");\r\n\tpreprocessedText = preprocessedText.replace(/__LINER__/g,\"\\n\");\r\n\tif(this.afterPreprocess){\r\n\t\tpreprocessedText = this.afterPreprocess(processor,preprocessedText);\r\n\t}\r\n\treturn preprocessedText;\r\n};\r\nqwiki.beforeInline = null;\r\nqwiki.afterInline = null;\r\nqwiki.processInline = function(processor, curline){\r\n\tif(this.beforeInline){\r\n\t\tcurline = this.beforeInline(processor,curline);\r\n\t}\r\n\t//LETER STYLE SUPPORT\r\n\t//bold\r\n\tcurline = curline.replace(/\\*\\*\\*([\\s\\S]+?)\\*\\*\\*/g,'<strong>$1</strong>');\r\n\t//italic\r\n\tcurline = curline.replace(/\\*\\*([\\s\\S]+?)\\*\\*/g,'<em>$1</em>');\r\n\t//underline\r\n\tcurline = curline.replace(/__([\\s\\S]+?)__/g,'<ins>$1</ins>');\r\n\t//strikeout\r\n\tcurline = curline.replace(/--([\\s\\S]+?)--/g,'<del>$1</del>');\r\n\t//subtext new version\r\n\tcurline = curline.replace(/,,([\\s\\S]+?),,/g,'<sub>$1</sub>');\r\n\t//supertext\r\n\tcurline = curline.replace(/::([\\s\\S]+?)::/g,'<sup>$1</sup>');\r\n\t//custom style\r\n\tcurline = curline.replace(/\\{style:([\\s\\S]+?)\\}([\\s\\S]+?)\\{style\\}/g,'<span style=\"$1\">$2</span>');\r\n\tif(this.afterInline){\r\n\t\tcurline = this.afterInline(processor,curline);\r\n\t}\r\n\treturn curline;\r\n};\r\nqwiki.beforeLine = null;\r\nqwiki.afterLine = null;\r\nqwiki.processLine =  function(processor,curline){\r\n\tif(this.beforeLine){\r\n\t\tcurline = this.beforeLine(processor,curline);\r\n\t}\r\n    curline = curline.trim();\r\n\t//HEADERS SUPPORT\r\n\tif (curline.match(/^======/)){\r\n\t\tcurline = \"<h6 id='h_\"+ (processor.idcount++) +\"'>\" + curline.substring(6) + \"</h6>\";\r\n\t}else if (curline.match(/^=====/)){\r\n\t\tcurline = \"<h5 id='h_\"+ (processor.idcount++) +\"'>\" + curline.substring(5) + \"</h5>\";\r\n\t}else if (curline.match(/^====/)){\r\n\t\tcurline = \"<h4 id='h_\"+ (processor.idcount++) +\"'>\" + curline.substring(4) + \"</h4>\";\r\n\t}else if (curline.match(/^===/)){\r\n\t\tcurline = \"<h3 id='h_\"+ (processor.idcount++) +\"'>\" + curline.substring(3) + \"</h3>\";\r\n\t}else if (curline.match(/^==/)){\r\n\t\tcurline = \"<h2 id='h_\"+ (processor.idcount++) +\"'>\" + curline.substring(2) + \"</h2>\";\r\n\t}else if (curline.match(/^=/)){\r\n\t\tcurline = \"<h1 id='h_\"+ (processor.idcount++) +\"'>\" + curline.substring(1) + \"</h1>\";\r\n\t}\r\n\r\n\t//LIST SUPPORT\r\n\telse if (curline.match(/^%%%%%%/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-6'>\" + curline.substring(6) + \"</div>\";\r\n\t}else if (curline.match(/^%%%%%/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-5'>\" + curline.substring(5) + \"</div>\";\r\n\t}else if (curline.match(/^%%%%/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-4'>\" + curline.substring(4) + \"</div>\";\r\n\t}else if (curline.match(/^%%%/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-3'>\" + curline.substring(3) + \"</div>\";\r\n\t}else if (curline.match(/^%%/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-2'>\" + curline.substring(2) + \"</div>\";\r\n\t}else if (curline.match(/^%/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-1'>\" + curline.substring(1) + \"</div>\";\r\n\t}\r\n\t\r\n\telse if (curline.match(/^№№№№№№/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-6 number'>\" + curline.substring(6) + \"</div>\";\r\n\t}else if (curline.match(/^№№№№№/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-5 number'>\" + curline.substring(5) + \"</div>\";\r\n\t}else if (curline.match(/^№№№№/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-4 number'>\" + curline.substring(4) + \"</div>\";\r\n\t}else if (curline.match(/^№№№/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-3 number'>\" + curline.substring(3) + \"</div>\";\r\n\t}else if (curline.match(/^№№/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-2 number'>\" + curline.substring(2) + \"</div>\";\r\n\t}else if (curline.match(/^№/)){\r\n\t\tcurline = \"<div class='wiki-list wiki-list-1 number'>\" + curline.substring(1) + \"</div>\";\r\n\t}\r\n    else if (curline.match(/^\\//)) {\r\n        curline = \"<div class='wiki-outline'>\" + curline.substring(1) + \"</div>\";\r\n\t}\r\n\t\r\n\t\r\n\telse{\r\n\t\tcurline = \"<p>\"+curline+\"</p>\";\r\n\t}\r\n\tif(this.afterLine){\r\n\t\tcurline = this.afterLine(processor,curline);\r\n\t}\r\n\treturn curline;\r\n};\r\nqwiki.beforeCode = null;\r\nqwiki.afterCode = null;\r\nqwiki.processCode = function (processor, curline) {\r\n \r\n\tif(this.beforeCode){\r\n\t\tcurline = this.beforeCode(processor,curline);\r\n\t}\r\n    \r\n\tcurline = curline.replace(/\\&nbsp;/g,' __BR__ ');\r\n\tcurline = curline.replace(/\\[BR\\]/g,' __BR__ ');\r\n\tcurline = curline.replace(/\\x20{4}/g,' __TAB__ ');\r\n\tcurline = curline.replace(/\\t/g, ' __TAB__ ');\r\n\tcurline = curline.replace(/</g, '__LT__');\r\n\tcurline = curline.replace(/&lt;/g, '__LT__');\r\n\tcurline = curline.replace(/&gt;/g, '__GT__');\r\n\tcurline = curline.replace(/&amp;/g, '__AMP__');\r\n\t//CODE BLOCKS\r\n\tcurline = curline.replace(\r\n\t\t/([!=+\\-*\\.\\\\\\/;<>%\\&\\^\\:\\|]+)/g,\r\n\t\t\"<span _CLASS_ATTR_'operator'>$1</span>\");\r\n\tcurline = curline.replace(/\\/\\*/g,\"<span _CLASS_ATTR_'comment'>\");\r\n\tcurline = curline.replace(/\\*\\//g,\"</span>\");\r\n\tcurline = curline.replace(/(\\#[^\"']+)$/g, \"<span _CLASS_ATTR_'comment'>$1</span>\");\r\n\tcurline = curline.replace(/(^\\#[\\s\\S]+)(?=__BR__)/g, \"<span _CLASS_ATTR_'comment'>$1</span>\");\r\n\tcurline = curline.replace(\r\n\t\t/\\b((var)|(for)|(return)|(import)|(foreach)|(abstract)|(embed)|(while)|(case)|(switch)|(in)|(out)|(include)|(embed)|(private)|(public)|(protected)|(void)|(function)|(class)|(namespace)|(using)|(select)|(where)|(group by)|(order by)|(null)|(true)|(false))\\b/g,\r\n\t\t\"<span _CLASS_ATTR_'keyword'>$1</span>\");\r\n\tcurline = curline.replace(\r\n\t\t/\\b((int)|(string)|(DateTime)|(decimal)|(bool)|(nvarchar)|(datetime)|(bit)|(byte)|(float)|(long)|(bigint))\\b/g,\r\n\t\t\"<span _CLASS_ATTR_'type'>$1</span>\");\r\n\t\r\n\tcurline = curline.replace(\r\n\t\t/([\\{\\}\\[\\]\\(\\),]+)/g,\r\n\t\t\"<span _CLASS_ATTR_'delimiter'>$1</span>\");\r\n\t\r\n\tcurline = curline.replace(/\\\\\"/g,'_EQ_');\r\n\tcurline = curline.replace(/\"\"/g,'_DQ_');\r\n\tcurline = curline.replace(/\"([\\s\\S]+?)\"/g, \"<span _CLASS_ATTR_'string'>\\\"$1\\\"</span>\");\r\n\tcurline = curline.replace(/_EQ_/g,'\\\\\"');\r\n\tcurline = curline.replace(/_DQ_/g,'\"\"');\r\n\t\r\n\tcurline = curline.replace(/(\\b-?\\d+(\\.\\d+)?)/g,\"<span _CLASS_ATTR_'number'>$1</span>\");\r\n\t\r\n\t\r\n\t//curline+=\"<br/>\";\r\n\tcurline = curline.replace(/_CLASS_ATTR_/g,'class=');\r\n\tcurline = curline.replace(/__TAB__/g,'&nbsp;&nbsp;&nbsp;&nbsp;');\r\n\tcurline = curline.replace(/__BR__/g, '<br/>');\r\n\tcurline = curline.replace(/&amp;lt;/g, '&lt;');\r\n\tcurline = curline.replace(/&amp;gt;/g, '&gt;');\r\n\tcurline = curline.replace(/__LT__/g, '&lt;');\r\n\tcurline = curline.replace(/__GT__/g, '&gt;');\r\n\tcurline = curline.replace(/__AMP__/g, '&amp;');\r\n\t\r\n\tcurline = curline + '<br/>';\r\n    \r\n\tif(this.afterCode){\r\n\t\tcurline = this.afterCode(processor,curline);\r\n\t}\r\n\treturn curline;\r\n};\r\nqwiki.referenceRegex = /\\[([^\\s\\]]+?)(\\s+([^|~\\]]+?))?([\\|~]([\\s\\S]+?))?\\]/g;\r\nqwiki.processReferences = function(processor,curline, callback, context){\r\n\tcurline = curline.replace(qwiki.referenceRegex, function(match, addr, p2, name, p3, tail){\r\n\t\treturn callback(processor,match, addr, p2, name, p3, tail,context);\r\n\t});\r\n\treturn curline;\r\n};\r\nqwiki.defaultProcessReference = function(processor,match, addr, p2, name, p3, tail,context) {\r\n\t\t\treturn qwiki.getReference(processor,(addr||\"\").trim(),(name||addr||\"\").trim(),(tail||\"\").trim());\r\n};\r\nqwiki.getCustomReference = null;\r\nqwiki.getReference = function(processor,addr,name,tail){\r\n\r\n\tif(this.getCustomReference){\r\n\t\tvar result = null;\r\n\t\tresult = this.getCustomReference(processor,addr,name,tail);\r\n\t\tif(null!=result){\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\t\r\n\t\r\n\tif(addr.match(/\\.((png)|(gif)|(jpg)|(jpeg))$/)){\r\n\t\treturn \"<img src='\"+addr+\"' title='\"+name+\"' \"+tail+\" />\";\r\n\t}else if (addr.match(/^http/) || addr.match(/\\.html$/)) {\r\n\t    return \"<a href='\" + addr + \"' \" + tail + \" >\" + name + \"</a>\";\r\n\t}else if (addr.match(/^href:/)) {\r\n\t    return \"<a href='\" + addr.replace('href:','') + \"' \" + tail + \" >\" + name + \"</a>\";\r\n\t}\r\n\telse {\r\n\t\treturn \"<a href='/wiki?\" + addr + \"' \"+tail+\" >\" + name + \"</a>\";\r\n\t}\r\n\t\r\n};\r\nqwiki.setup  = function(wikiprocessor){};\r\nqwiki.create = function(text, logwriter){\r\n\tvar result = {\r\n\t\ttext : text,\r\n\t\tlines /* as string[] */: null,\r\n\t\tprocessed : [],\r\n\t\thtml /* as string */: null,\r\n\t\tlog : logwriter||function(sender,text){},\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tprocessDefault : function( curline ) {\r\n\t\t\t\r\n\t\t\t\t// BY LINE IGNORE\r\n\t\t\t\tif (curline.match(/^\\!/)){ //must ignore any wiki syntax this row\r\n\t\t\t\t\tcurline = curline.substring(1);\r\n\t\t\t\t\tthis.processed.push(curline);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t/////////////////////////////////////////////////////\t\r\n\t\t\t\t// LINE BREAK SUPPORT\r\n\t\t\t\tif (curline == \"[BR]\") {\r\n\t\t\t\t\t//this.processed.push(\"<br/>\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcurline = qwiki.processInline(this,curline);\r\n\t\t\t\t// references\r\n\t\t\t\tcurline = qwiki.processReferences(this,curline, qwiki.defaultProcessReference, null);\r\n\t\t\t\t\r\n\t\t\t\tcurline = qwiki.processLine(this,curline);\r\n\t\t\t\t\r\n\t\t\t\treturn curline;\r\n\t\t},\r\n\t\t\r\n\t\t//state control\r\n\t\tidx : 0,\r\n\t\tidcount :1,\r\n\t\tcurline : \"\",\r\n\t\tnowikiblock : false,\r\n\t\tcodeblock : false,\r\n\t\ttable : false,\r\n\t\tfirstrow : false,\r\n\t\tidcount : 1,\r\n\t\t// main function\r\n\t\tprocess : function(){\r\n\t\t\tthis.processed = [];\r\n\t\t\tthis.html = \"\";\r\n\t\t\tthis.processed.push(\"<div class='wiki'>\");\r\n\t\t\tthis.log(this,\"start\");\r\n\t\t\tvar preprocessedText = qwiki.preprocess(this);\r\n\t\t\tthis.log(this,\"lines merged\");\r\n\t\t\t// then we setup array of \r\n\t\t\tthis.lines = preprocessedText.split(/\\r?\\n/);\r\n\t\t\tthis.log(this,\"text splited\");\r\n\t\t\tfor (this.idx = 0; this.idx < this.lines.length; this.idx++){\r\n\t\t\t\tvar curline = this.lines[this.idx];\r\n\t\t\t\tif (curline.match(/^\\s*$/))continue;\r\n\t\t\t\t\r\n\t\t\t\t// CODE BLOCK SUPPORT\r\n\t\t\t\tif (curline==\"[[/code]]\") {\r\n\t\t\t\t\tthis.codeblock = false;\r\n\t\t\t\t\tthis.processed.push(\"</div>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (curline==\"[[code]]\") {\r\n\t\t\t\t\tthis.codeblock = true;\r\n\t\t\t\t\tthis.lastcode = \"\";\r\n\t\t\t\t\tthis.processed.push(\"<div class='wiki-code'>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\tif (this.codeblock) {\r\n\t\t\t\t    this.lastcode += curline.replace(/(&nbsp;)|(\\[BR\\])/g, \"\\n\") + \"\\r\\n\";\r\n\t\t\t\t\tthis.processed.push( qwiki.processCode(this, curline)) ;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//WIKI IGNORANCE SUPPORT WITH BLOCK AND INLINE\r\n\t\t\t\tif (curline==\"[[/nowiki]]\") {\r\n\t\t\t\t\tthis.nowikiblock = false;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (curline==\"[[nowiki]]\") {\r\n\t\t\t\t\tthis.nowikiblock = true;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.nowikiblock){\r\n\t\t\t\t\tthis.processed.push(curline);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t    //WIKI IGNORANCE SUPPORT WITH BLOCK AND INLINE\r\n\t\t\t\tif (curline == \"[[/script]]\") {\r\n\t\t\t\t    this.scriptblock = false;\r\n\t\t\t\t    var defaultScript = true;\r\n\t\t\t\t    if (qwiki.scriptHandler) {\r\n\t\t\t\t        var customscript = qwiki.scriptHandler(this,this.scripttype, this.script);\r\n\t\t\t\t        if (customscript) {\r\n\t\t\t\t            defaultScript = false;\r\n\t\t\t\t            this.processed.push(customscript);\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t    if (defaultScript) {\r\n\t\t\t\t        this.processed.push(\"<script type='\" + this.scripttype + \"'>\");\r\n\t\t\t\t        this.processed.push(this.script);\r\n\t\t\t\t        this.processed.push(\"</script>\");\r\n\t\t\t\t    }\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t\tif (curline.match(/\\[\\[script\\s+type=([\\w/]+)\\]\\]/)) {\r\n\t\t\t\t    this.scriptblock = true;\r\n\t\t\t\t    this.scripttype = curline.match(/type=([\\w/]+)/)[1];\r\n\t\t\t\t    this.script = \"\";\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t\tif (curline.match(/\\[\\[script-last\\s+type=([\\w/]+)\\]\\]/)) {\r\n\t\t\t\t    this.scripttype = curline.match(/type=([\\w/]+)/)[1];\r\n\t\t\t\t    this.script = this.lastcode;\r\n\t\t\t\t    var defaultScript = true;\r\n\t\t\t\t    if (qwiki.scriptHandler) {\r\n\t\t\t\t        var customscript = qwiki.scriptHandler(this, this.scripttype, this.script);\r\n\t\t\t\t        if (customscript) {\r\n\t\t\t\t            defaultScript = false;\r\n\t\t\t\t            this.processed.push(customscript);\r\n\t\t\t\t        }\r\n\t\t\t\t    }\r\n\t\t\t\t    if (defaultScript) {\r\n\t\t\t\t        this.processed.push(\"<script type='\" + this.scripttype + \"'>\");\r\n\t\t\t\t        this.processed.push(this.script);\r\n\t\t\t\t        this.processed.push(\"</script>\");\r\n\t\t\t\t    }\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.scriptblock)\r\n\t\t\t\t{\r\n\t\t\t\t    this.script += curline.replace(/(&nbsp;)|(\\[BR\\])/g, \"\\n\");\r\n\t\t\t\t    continue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\t\tif (curline.match(/^\\|/)) {\r\n\t\t\t\t\tif (!this.table) {\r\n\t\t\t\t\t\tthis.processed.push(\"<table>\");\r\n\t\t\t\t\t\tthis.processed.push(\"<thead>\");\r\n\t\t\t\t\t\tthis.table = true;\r\n\t\t\t\t\t\tthis.ishead = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (curline==\"[[row]]\"){\r\n\t\t\t\t\tif (this.cellstart) {\r\n\t\t\t\t\t\tthis.cellstart = false;\r\n\t\t\t\t\t\tthis.processed.push(\"</td>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.rowstart) {\r\n\t\t\t\t\t\tthis.processed.push(\"</tr>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.table){\r\n\t\t\t\t\t\tthis.processed.push(\"<table><tbody>\");\r\n\t\t\t\t\t\tthis.table = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.rowstart = true;\r\n\t\t\t\t\tthis.processed.push(\"<tr>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\telse if (curline==\"[[cell]]\"){\r\n\t\t\t\t\tif (this.cellstart) {\r\n\t\t\t\t\t\tthis.processed.push(\"</td>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!this.table){\r\n\t\t\t\t\t\tthis.processed.push(\"<table><tbody><tr>\");\r\n\t\t\t\t\t\tthis.table = true;\r\n\t\t\t\t\t\tthis.rowstart = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.cellstart = true;\r\n\t\t\t\t\tthis.processed.push(\"<td>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}else if(curline==\"[[/cell]]\"){\r\n\t\t\t\t\tthis.cellstart =  false;\r\n\t\t\t\t\tthis.processed.push(\"</td>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\telse if(curline==\"[[/row]]\"){\r\n\t\t\t\t\tif(this.cellstart){\r\n\t\t\t\t\t\tthis.processed.push(\"</td>\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.cellstart =  false;\r\n\t\t\t\t\tthis.rowstart =  false;\r\n\t\t\t\t\tthis.processed.push(\"</tr>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\r\n\t\t\t\t\tif(this.table){\r\n\t\t\t\t\t\tif(!this.cellstart) {\r\n\t\t\t\t\t\t\tif (this.rowstart){\r\n\t\t\t\t\t\t\t\tthis.processed.push(\"</tr>\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.processed.push(\"</tbody>\");\r\n\t\t\t\t\t\t\tthis.processed.push(\"</table>\");\r\n\t\t\t\t\t\t\tthis.table = false;\r\n\t\t\t\t\t\t\tthis.cellstart= false;\r\n\t\t\t\t\t\t\tthis.rowstart =false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tif ( this.table &&  !this.cellstart ) {\r\n\t\t\t\t\tvar tde = this.ishead ? \"th\" : \"td\" ;\r\n\t\t\t\t\tif(!this.ishead){\r\n\t\t\t\t\t\tif(curline.match(/^\\|\\{\\+\\}/)){\r\n\t\t\t\t\t\t\tcurline = curline.replace(/^\\|\\{\\+\\}/,'|');\r\n\t\t\t\t\t\t\tthis.ishead = true;\r\n\t\t\t\t\t\t\tsuffix = \"\";\r\n\t\t\t\t\t\t\ttde = \"th\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tvar items = curline.split(/\\|/);\r\n\t\t\t\t\tvar row = \"\";\r\n\t\t\t\t\tif(!this.ishead){\r\n\t\t\t\t\t\trow+=\"</thead></tbody>\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.ishead = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\trow += \"<tr>\";\r\n\t\t\t\t\tfor(var i = 0;i<items.length;i++){\r\n\t\t\t\t\t\tif(i==0||i==items.length-1)continue; //ignore left-right starters\r\n\t\t\t\t\t\tvar cell = items[i].trim();\r\n\t\t\t\t\t\tcell = qwiki.processInline(this,cell);\r\n\t\t\t\t\t\tcell = qwiki.processReferences(this,cell, qwiki.defaultProcessReference, null);\r\n\t\t\t\t\t\tvar spanmatch = cell.match(/^\\{(\\d+)?(,(\\d+))?\\}/);\r\n\t\t\t\t\t\tif(spanmatch){\r\n\t\t\t\t\t\t\tcell = cell.replace(/^\\{(\\d+)?(,(\\d+))?\\}/,'');\r\n\t\t\t\t\t\t\tvar rowspan = 1;\r\n\t\t\t\t\t\t\tvar colspan = 1;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(spanmatch[1]){\r\n\t\t\t\t\t\t\t\tcolspan = spanmatch[1];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (spanmatch[3]){\r\n\t\t\t\t\t\t\t\trowspan = spanmatch[3];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trow += \"<\"+tde+\" rowspan='\"+rowspan+\"' colspan='\"+colspan+\"' >\" + cell+\"</\"+tde+\">\";\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\trow += \"<\"+tde+\">\" + cell+\"</\"+tde+\">\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\trow+=\"</tr>\";\r\n\t\t\t\t\tthis.processed.push(row);\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\tif (curline==\"[[sample]]\") {\r\n\t\t\t\t\t\tthis.processed.push(\"<div class='sample'>\");\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (curline==\"[[/sample]]\") {\r\n\t\t\t\t\t\tthis.processed.push(\"</div>\");\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif (curline==\"----\"){\r\n\t\t\t\t\tthis.processed.push(\"<hr/>\");\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar defaultLine = this. processDefault( curline );\r\n\t\t\t\tif(defaultLine ){\r\n\t\t\t\t\tthis.processed.push( defaultLine);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.processed.push(\"</div>\");\r\n\t\t\t\r\n\t\t\tthis.html = \"\";\r\n\t\t\tfor (var i=0;i<this.processed.length;i++){\r\n\t\t\t\tvar str = this.processed[i].replace(/__BLOCK__/g,'[[');\r\n\t\t\t\tthis.html+=str;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t};\r\n\tthis.setup(result);\r\n\treturn result;\r\n}\r\n\r\n\r\nqwiki.createTOC = function(text, logwriter){\r\n\tvar result = {\r\n\t\ttext : text,\r\n\t\tlines /* as string[] */: null,\r\n\t\tprocessed : [],\r\n\t\thtml /* as string */: null,\r\n\t\tlog : logwriter||function(sender,text){},\r\n\r\n\t\tprocessReference : function(processor,match, addr, p2, name, p3, tail,newitem) {\r\n\t\t\tvar addr = (addr || \"\").trim();\r\n\t\t\tvar title = (name || addr|| \"\").trim();\r\n\t\t\tvar tail = (tail||\"\").trim();\r\n\t\t\tnewitem.addr = addr;\r\n\t\t\tnewitem.title = title;\r\n\t\t\tnewitem.extension = tail;\r\n\t\t},\r\n\t\t\r\n\t\tprocessDefault : function( curline ) {\r\n\t\t\t\tif(this.nowiki)return;\r\n\t\t\t\tif(curline==\"[[nowiki]]\"){\r\n\t\t\t\t\tthis.nowiki = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(curline==\"[[/nowiki]]\"){\r\n\t\t\t\t\tthis.nowiki = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(curline.match(/^\\!/))return;\r\n\t\t\t\tif(!curline.match(/^\\=/))return;\r\n\t\t\t\t\r\n\t\t\t\tvar level = 0;\r\n\t\t\t\t//HEADERS SUPPORT\r\n\t\t\t\tif (curline.match(/^======/)){\r\n\t\t\t\t\tlevel = 6;\r\n\t\t\t\t\tcurline = curline.substring(6).trim();\r\n\t\t\t\t}else if (curline.match(/^=====/)){\r\n\t\t\t\t\tlevel = 5;\r\n\t\t\t\t\tcurline = curline.substring(5).trim();\r\n\t\t\t\t}else if (curline.match(/^====/)){\r\n\t\t\t\t\tlevel = 4;\r\n\t\t\t\t\tcurline = curline.substring(4).trim();\r\n\t\t\t\t}else if (curline.match(/^===/)){\r\n\t\t\t\t\tlevel = 3;\r\n\t\t\t\t\tcurline = curline.substring(3).trim();\r\n\t\t\t\t}else if (curline.match(/^==/)){\r\n\t\t\t\t\tlevel = 2;\r\n\t\t\t\t\tcurline = curline.substring(2).trim();\r\n\t\t\t\t}else if (curline.match(/^=/)){\r\n\t\t\t\t\tlevel = 1;\r\n\t\t\t\t\tcurline = curline.substring(1).trim();\r\n\t\t\t\t}\r\n\t\t\t\tif(level == 0 ) return null;\r\n\t\t\t\t\r\n\t\t\t\tcurline = qwiki.processInline(this,curline);\r\n\t\t\t\t\r\n\t\t\t\tvar newitem = { level : level, raw : curline, items : []  };\r\n\t\t\t\t// references\r\n\t\t\t\t\r\n\t\t\t\tcurline = qwiki.processReferences(this,curline, this.processReference, newitem);\r\n\t\t\t\t\r\n\t\t\t\tif (1==level) {\r\n\t\t\t\t\tthis.json.items.push(newitem);\r\n\t\t\t\t\tnewitem.parent = this.json;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tif (null!=this.last) {\r\n\t\t\t\t\t\tif ( level == this.last.level ) {\r\n\t\t\t\t\t\t\tthis.last.parent.items.push(newitem);\r\n\t\t\t\t\t\t\tnewitem.parent = this.last.parent;\r\n\t\t\t\t\t\t}else if( level == this.last.level + 1) {\r\n\t\t\t\t\t\t\tthis.last.items.push(newitem);\r\n\t\t\t\t\t\t\tnewitem.parent = this.last;\r\n\t\t\t\t\t\t}else if (level < this.last.level) {\r\n\t\t\t\t\t\t\tvar target = this.last;\r\n\t\t\t\t\t\t\twhile (level <= target.level) {\r\n\t\t\t\t\t\t\t\ttarget = target.parent;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ttarget.items.push(newitem);\r\n\t\t\t\t\t\t\tnewitem.parent = target;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.currentLevel = level;\r\n\t\t\t\tthis.last = newitem;\r\n\t\t\t\tthis.json.all = this.json.all || [];\r\n\t\t\t\tthis.json.all.push(newitem);\r\n\t\t},\r\n\t\t\r\n\t\t//state control\r\n\t\tidx : 0,\r\n\t\tcurline : \"\",\r\n\t\tcurrentLevel : 0,\r\n\t\tlast : null,\r\n\t\tnowiki : false,\r\n\t\tprocess : function(){\r\n\t\t\tthis.processed = [];\r\n\t\t\tthis.json = {items:[]};\r\n\t\t\tthis.log(this,\"start\");\r\n\t\t\tvar preprocessedText = qwiki.preprocess(this);\r\n\t\t\t\r\n\t\t\tthis.log(this,\"lines merged\");\r\n\t\t\t// then we setup array of \r\n\t\t\tthis.lines = preprocessedText.split(/\\n/);\r\n\t\t\tthis.log(this,\"text splited\");\r\n\t\t\tfor (this.idx = 0; this.idx < this.lines.length; this.idx++){\r\n\t\t\t\tthis. processDefault( this.lines[this.idx] );\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tif(this.json.all){\r\n\t\t\t\tfor(var i = 0;i<this.json.all.length;i++){\r\n\t\t\t\t\tdelete(this.json.all[i].parent);\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\tdelete (this.json.all);\r\n\t\t\t\r\n\t\t}\r\n\t};\r\n\tthis.setup(result);\r\n\treturn result;\r\n}\r\n\r\n    qwiki.toHTML = function(text) {\r\n        var processor = this.create(text);\r\n        processor.process();\r\n        var result = processor.html;\r\n        delete(processor);\r\n        return result;\r\n    };\r\n    qwiki.toTOC = function(text) {\r\n        var processor = this.createTOC(text);\r\n        processor.process();\r\n        var result = processor.json;\r\n        delete(processor);\r\n        return result;\r\n\r\n    };\r\n    var _id = 1;\r\n    qwiki.scriptHandler = function(processor, type, script) {\r\n        if (type == \"bxl\" || type==\"bsharp\") {\r\n            _id++;\r\n            var cid = _id;\r\n            window.setTimeout(function() {\r\n                $.ajax({ method: 'POST', url: 'toxml?lang='+type+'&format=wiki', data: script }).done(function(_) {\r\n                    $('#dynwiki_' + cid).html(_);\r\n                });\r\n            }, 300);\r\n            return \"<div id='dynwiki_\" + cid + \"' class='dynwiki \" + type + \"'></div>\";\r\n        }\r\n        return null;\r\n    };\r\n\treturn qwiki;\r\n})();\r\n});\n","define('the-menu',[], function () {\r\n    if (typeof document == \"undefined\") return;\r\n    $(document).on('click', function () {\r\n        $('.menu__item.hover').removeClass('hover');\r\n    });\r\n\r\n    var getRandomHsl = function () {\r\n        var h = Math.floor(Math.random() * 360);\r\n        var s = Math.floor(Math.random() * 20) + 50;\r\n        var l = Math.floor(Math.random() * 20) + 50;\r\n        return {h: h, s: s, l: l};\r\n    };\r\n\r\n    var colorLuminance = function (hex, lum) {\r\n        hex = String(hex).replace(/[^0-9a-f]/gi, '');\r\n        if (hex.length < 6) {\r\n            hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\r\n        }\r\n        lum = lum || 0;\r\n        var rgb = \"#\", c, i;\r\n        for (i = 0; i < 3; i++) {\r\n            c = parseInt(hex.substr(i * 2, 2), 16);\r\n            c = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);\r\n            rgb += (\"00\" + c).substr(c.length);\r\n        }\r\n        return rgb;\r\n    };\r\n\r\n    function MenuGenerator(el, attrs) {\r\n        var self = this;\r\n        this.rootElement = el;\r\n        this.modelName = attrs.model || attrs.Model || null;\r\n        this.wrapperName = attrs.wrapper || attrs.Wrapper || '';\r\n        this.filterName = attrs.filter || attrs.Filter || '';\r\n\r\n        this.generateSubmenu = function (m) {\r\n            m.items = m.Items || null;\r\n            if (!m.items) return;\r\n            var submenu = $('<div class=\"submenu\"/>');\r\n            m.items.forEach(function(i) {\r\n                var menuItem = self.generateMenuItem(i);\r\n                submenu.append(menuItem);\r\n            });\r\n            return submenu;\r\n        };\r\n\r\n        this.generateMenuItem = function (m) {\r\n            m.type = m.type || m.Type || 'text';\r\n            m.name = m.name || m.Name;\r\n            var result = this.generateMenuItemBase(m);\r\n            if (m.name == 'divider') {\r\n                return $('<div class=\"menu__item menu__item-divider\" type=\"divider\"/>');\r\n            }\r\n            switch (m.type) {\r\n                case 'text' :\r\n                    result.append(this.generateTextItem(m)); break;\r\n                case 'icon' :\r\n                    result.append(this.generateIconItem(m)); break;\r\n                case 'icon_with_text' :\r\n                    result.append(this.generateIconItem(m)).append(this.generateTextItem(m)); break;\r\n                case 'view' :\r\n                    result.append(this.generateViewItem(m)); break;\r\n            }\r\n\r\n            m.items = m.Items || null;\r\n            if (!!m.items) {\r\n                var submenu = this.generateSubmenu(m);\r\n                result.append(submenu);\r\n            }\r\n            return result;\r\n        };\r\n\r\n        this.generateTextItem = function (m) {\r\n            return $('<div class=\"menu__item-title menu__item-element\" />').text(m.Name);\r\n        };\r\n\r\n        this.generateViewItem = function (m) {\r\n            var result = $('<div class=\"menu__item-view menu__item-element\" />');\r\n            var attrView = m.attr('view');\r\n            result.append('<ng-include src=\"\\'' + (attrView.indexOf('.html') != -1 ? attrView : attrView + '.html') + '\\'\" />');\r\n            return result;\r\n        };\r\n\r\n        this.generateIconItem = function (m) {\r\n            var result = $('<div class=\"icon menu__item-icon menu__item-element\" menu-icon=\"1\" />');\r\n            var iconAttr = m.icon || m.Icon || m.iconclass;\r\n            if (!!iconAttr && iconAttr != '') {\r\n                if (iconAttr.indexOf('/') != -1) {\r\n                    result.append($('<img />').attr('src', iconAttr));\r\n                }\r\n                else {\r\n                    result.append($('<i/>').addClass(iconAttr));\r\n                }\r\n            }\r\n            return result;\r\n        };\r\n\r\n        this.generateMenuItemBase = function (m) {\r\n            var result = $('<div class=\"menu__item menu__item-element\" />')\r\n                .attr('type', m.type);\r\n            result.addClass('menu__item-' + (!!m.size ? m.size : 'small'));\r\n            m.items = m.items || m.Items || null;\r\n            m.model = m.model || m.Model || null;\r\n            m.code = m.code || m.Code || null;\r\n            if (!!m.items || !!m.model) {\r\n                result.attr('menu-group', '1');\r\n                result.addClass('open-right');\r\n            } else {\r\n                result.attr('menu-item', '1');\r\n            }\r\n            m.action = m.action || m.Action || null;\r\n            if (!!m.action && !!this.modelName && !m.items) {\r\n                result.attr('ng-click', \"exec(\" + this.modelName + \", '\" + m.code + \"')\");\r\n            }\r\n            /*else if (!!m.action) {\r\n                result.attr('ng-click', m.action);\r\n            }*/\r\n            return result;\r\n        };\r\n\r\n        this.copyAttrs = function (m) {\r\n            var attrsToCopy = ['ng-if'];\r\n            Object.keys(m).forEach(function (a) {\r\n                if ($.inArray(attrsToCopy) != -1) {\r\n\r\n                }\r\n            });\r\n        };\r\n\r\n        this.isItemFiltered = function(item, filterAttr) {\r\n            var filter = eval(\"({\" + filterAttr + \"})\"), result = false;\r\n            if (!!filter.filter) filter = filter.filter;\r\n            Object.keys(filter).forEach(function(f) {\r\n                if (!!item[f]) {\r\n                    result = (item[f] != filter[f]);\r\n                }\r\n            });\r\n            return result;\r\n        };\r\n\r\n        this.generateMenu = function (model) {\r\n            var result = $('<div/>');\r\n            if (model instanceof Array) {\r\n                model.forEach(function(m) {\r\n                    if (!!self.filterName && self.filterName != '') {\r\n                        !self.isItemFiltered(m, self.filterName) && result.append(self.generateMenuItem(m));\r\n                    } else {\r\n                        result.append(self.generateMenuItem(m));\r\n                    }\r\n                });\r\n            }\r\n            return result;\r\n        };\r\n    }\r\n\r\n    angular.module('Menu', [])\r\n        .directive('menu', [\"$compile\",function ($compile) {\r\n            var activateMenuGroup = function (menu, group) {\r\n                var items = menu.find('div:last-child>.menu__item');\r\n                var groups = menu.find('div:first-child>.menu__item');\r\n                groups.removeClass('active');\r\n                groups.filter('[code=\"' + group + '\"]').first().addClass('active');\r\n                items.hide();\r\n                items.filter('[group=\"' + group + '\"]').show();\r\n            };\r\n\r\n            return {\r\n                restrict: 'A',\r\n                link: function (scope, el, attrs) {\r\n                    el = $(el);\r\n                    var settings = scope.settings.get(attrs.id);\r\n                    if (!!attrs.model) {\r\n                        scope.$watch(attrs.model, function() {\r\n                            var menuGenerator = new MenuGenerator(el, attrs);\r\n                            var template = angular.element(menuGenerator.generateMenu(scope[attrs.model]).html());\r\n                            var menu = $compile(template)(scope);\r\n                            el.find('.menu__horizontal').empty().append(menu);\r\n                        });\r\n                    }\r\n                    var initRibbonMenu = function () {\r\n                        el.on('click', 'div:first-child>.menu__item', function (e) {\r\n                            var g = $(e.currentTarget.classList.contains('menu__item') ? e.currentTarget : e.currentTarget.parentElement).attr('code');\r\n                            scope.settings.set(attrs.id, { activegroup: g });\r\n                            activateMenuGroup(el, g);\r\n                        });\r\n                        if (!settings.activegroup) {\r\n                            var defaultGroup = el.find('div:first-child>.menu__item[default]').first();\r\n                            if (defaultGroup.length == 0) {\r\n                                defaultGroup = el.find('div:first-child>.menu__item').first();\r\n                            }\r\n                            var groupCode = defaultGroup.attr('code');\r\n                            scope.settings.set(attrs.id, { activegroup: groupCode });\r\n                            activateMenuGroup(el, groupCode);\r\n                        } else {\r\n                            activateMenuGroup(el, settings.activegroup);\r\n                        }\r\n                    };\r\n                    var initDropdownMenu = function () {\r\n                        el.on('mouseenter', '.menu__item>.menu__item-element', function (e) {\r\n                            $('.menu__item.hover').removeClass('hover');\r\n                            var p = $(e.target).parents('.menu__item[menu-group]');\r\n                            p.addClass('hover');\r\n                            if ($(window).width() - (p.first().offset().left + p.first().outerWidth()) < 200) {\r\n                                p.first().addClass('open-left').removeClass('open-right');\r\n                            }\r\n                            else {\r\n                                p.first().addClass('open-right').removeClass('open-left');\r\n                            }\r\n                        });\r\n                    };\r\n                    if (attrs.menu == 'ribbon') {\r\n                        initRibbonMenu();\r\n                    }\r\n                    else if (attrs.menu == 'inline') {\r\n\r\n                    }\r\n                    else if (attrs.menu == 'dropdown') {\r\n                        initDropdownMenu();\r\n                    }\r\n                    el.on('click', '.menu__item', function (e) {\r\n                        var t = $(e.target);\r\n                        var item = t.hasClass('.menu__item') ? t : t.parents('.menu__item').first();\r\n                        if (!!item.attr('url')) {\r\n                            window.open(item.attr('url'), '_blank');\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        }])\r\n        .directive('menuItem', [\"$compile\", function ($compile) {\r\n            var wrapMenuItem = function (m) {\r\n                if (!m.Type && !m.type) m.type = 'text';\r\n            };\r\n\r\n            return {\r\n                restrict: 'A',\r\n                link: function (scope, el, attrs) {\r\n                    el = $(el);\r\n\r\n                    if (!!attrs.model) {\r\n                        scope.$watch(attrs.model, function() {\r\n                            var menuGenerator = new MenuGenerator(el, attrs);\r\n                            var template = angular.element(menuGenerator.generateMenu(scope[attrs.model]).html());\r\n                            var menu = $compile(template)(scope);\r\n                            el.find('.submenu').first().empty().append(menu);\r\n                        });\r\n                    }\r\n                    if (!!attrs.url && !!attrs.model) {\r\n                        $.getJSON(attrs.action, {}, function (data) {\r\n                            scope[attrs.model] = data;\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }])\r\n        .directive('menuIcon', function () {\r\n            return {\r\n                restrict: 'A',\r\n                link: function (scope, el, attrs) {\r\n                    el = $(el);\r\n                    var startcolor, endcolor;\r\n\t\t\t\t\tvar color = attrs.color;\r\n\t\t\t\t\tif(!color && el.parent()) {\r\n\t\t\t\t\t\tcolor = el.parent().attr('color');\r\n\t\t\t\t\t}\r\n                    if (!!color) {\r\n                        startcolor = color.indexOf('#') == 0 ? color : '#' + color;\r\n                        endcolor = colorLuminance(startcolor, -0.5);\r\n                    } else {\r\n                        var c = getRandomHsl();\r\n                        startcolor = 'hsl(' + c.h + ',' + c.s + '%,' + c.l + '%)';\r\n                        endcolor = 'hsl(' + (c.h + 10) + ',' + c.s + '%,' + (c.l - 20) + '%)';\r\n                    }\r\n                    el.css('background', 'linear-gradient(to top, ' + startcolor + ',' + endcolor + ')');\r\n                }\r\n            }\r\n        })\r\n        .directive('menuGroup', [\"$compile\",function ($compile) {\r\n            return {\r\n                restrict: 'A',\r\n                link: function (scope, el, attrs) {\r\n                    el = $(el);\r\n                    if (!!attrs.model) {\r\n                        var menuGenerator = new MenuGenerator(el, attrs);\r\n                        scope.$watch(attrs.model, function() {\r\n                            var template = angular.element(menuGenerator.generateMenu(scope[attrs.model]).html());\r\n                            var menu = $compile(template)(scope);\r\n                            el.find('.submenu').first().empty().append(menu);\r\n                        });\r\n                    }\r\n                    if (attrs.type == 'icon_with_text' || attrs.type == 'icon') {\r\n                    \tvar color = attrs.color;\r\n                    \tif (!color && el.parent()) {\r\n                    \t\tcolor = el.parent().attr('color');\r\n                    \t}\r\n                    \tif (!!color) {\r\n                    \t\tvar startcolor, endcolor;\r\n                    \t\tstartcolor = color.indexOf('#') == 0 ? color : '#' + color;\r\n                    \t\tendcolor = colorLuminance(startcolor, -0.5);\r\n                    \t\tel.find('.icon').first().css('background', 'linear-gradient(to top, ' + startcolor + ',' + endcolor + ')');\r\n                    \t} else {\r\n                    \t\tvar c = getRandomHsl();\r\n                    \t\tel.find('.icon').first().css('background',\r\n\t\t\t\t\t\t\t\t\t'linear-gradient(to top, hsl(' + c.h + ',' + c.s + '%,' + c.l + '%),hsl(' + (c.h + 10) + ',' + c.s + '%,' + (c.l - 20) + '%))');\r\n                    \t}\r\n                    }\r\n                }\r\n            }\r\n        }]);\r\n});\n","define('the-settings',[\"the-root\"\r\n], function($the) {\r\n    if(typeof angular == \"undefined\")return;\r\n    function Settings() {\r\n        var self = this;\r\n        Object.keys(localStorage).forEach(function(k) {\r\n            var i = localStorage.getItem(k);\r\n            self[k] = !self.isJson(i) ? i : JSON.parse(i);\r\n        });\r\n    }\r\n\r\n    Settings.prototype.set = function(k, v) {\r\n        if (typeof k == 'object') {\r\n            var self = this;\r\n            Object.keys(k).forEach(function(key) {\r\n                self.set(key, k[key]);\r\n            });\r\n        }\r\n        else if (typeof k == 'string') {\r\n            if (typeof v == 'object') {\r\n                this[k] = v;\r\n                v = JSON.stringify(v);\r\n            } else {\r\n                this[k] = !this.isJson(v) ? v : JSON.parse(v);\r\n            }\r\n            localStorage.setItem(k, v);\r\n            return v;\r\n        }\r\n    };\r\n\r\n    Settings.prototype.isJson = function(s) {\r\n        return (typeof s == 'string' && s != '' && (s.trim().indexOf('{') == 0 || s.trim().indexOf('[') == 0  || s.trim() == 'true' || s.trim() == 'false'));\r\n    };\r\n\r\n    Settings.prototype.get = function(k) {\r\n        if (!this[k]) {\r\n            this[k] = false;\r\n            localStorage.setItem(k, 'false');\r\n        }\r\n        return this[k];\r\n    };\r\n\r\n    angular.module('settings', [])\r\n        .factory('settings', [\"$rootScope\",function($rs) {\r\n            var settings = new Settings();\r\n            var result = function($scope) {\r\n                $scope.settings = settings;\r\n                $scope.$watch('settings', function(n, o) {\r\n                    Object.keys(n).forEach(function(k) {\r\n                        if (n[k] != o[k]) {\r\n                            $scope.settings.set(k, n[k]);\r\n                        }\r\n                    });\r\n                }, true);\r\n            };\r\n            result.set = function(n, v) {\r\n                return settings.set(n, v);\r\n            };\r\n            result.get = function(n) {\r\n                return  settings.get(n);\r\n            }\r\n            result.setup = function(options){\r\n                var _ =  $the.extend(options.default ||{}, result.get(options.name));\r\n                $rs.$watch(function(){return _;},function(){\r\n                    result.set(options.name,_);\r\n                },true);\r\n                if(!!options.init){\r\n                    options.init(_);\r\n                }\r\n                if(!!_.initialize){\r\n                    _.initialize();\r\n                }\r\n                return _;\r\n            }\r\n            return result;\r\n\r\n        }]);\r\n});\n","define('the-errorcatcher',[\r\n], function () {\r\n    if(typeof angular == \"undefined\")return;\r\n    angular.module('ErrorCatcher', [])\r\n        .factory('$exceptionHandler', function () {\r\n            return function errorCatcherHandler(exception, cause) {\r\n                var extraHelp = $('<div id=\"extraHelp\" />');\r\n                $('body').html(extraHelp);\r\n                var email = ('error.assoi@ugmk.com');\r\n                var subject = ('[auto] Что-то пошло не так');\r\n                var body = exception.stack;\r\n                extraHelp.html('<a href=\"mailto:' + email + '?subject=' + subject + '&body=' + body + '\">Что-то пошло не так, нужна помощь!</a><div>'+body+\"</div>\");\r\n            };\r\n        });\r\n});\n","define('the-refresh',[], function () {\r\n    if(typeof angular == \"undefined\")return;\r\n    angular.module('refresh', [])\r\n        .factory('refresh', ['$http', '$timeout', function ($http, $timeout) {\r\n            return function ($scope, options) {\r\n                options = options || {};\r\n                options.timeout = options.timeout || 5000;\r\n                options.lag = options.lag || 1000;\r\n\t\t\t\toptions.delayed = options.delayed || false;\r\n\t\t\t\toptions.validate = options.validate || function(){return true;};\r\n                if (options.target && !options.success) {\r\n                    if (typeof(options.target) == 'string') {\r\n                        options.success = function(_) {\r\n                            if($scope[\"set\"+options.target]){\r\n                                $scope[\"set\"+options.target](_);\r\n                            }else {\r\n                                $scope[options.target] = _;\r\n                            }\r\n                        };\r\n                    } else {\r\n                        options.success = function(_) {\r\n                            options.target.values = _;\r\n                        };\r\n                    }\r\n                }\r\n                if(!options.target && !options.success){\r\n                    options.success = function(_){\r\n                        $scope.data = _;\r\n                    }\r\n                }\r\n                var host = $scope;\r\n                if(options.target){\r\n                    host = $scope[options.target+\"_refresh\"] = {};\r\n                }\r\n                host.refresh = {\r\n                    runSync: function () {\r\n                        var http = options.http;\r\n                        if (typeof(http) == 'function') {\r\n                            http = http();\r\n                        }\r\n                        $http(http).success(function (data, status, headers, config) {\r\n                            if (!!options.onsuccess) {\r\n                                options.onsuccess(data, status, headers, config);\r\n                            } else {\r\n                                console.log(data, status, headers, config);\r\n                            }\r\n                        }).error(function (data, status, headers, config) {\r\n                            if (!!options.onerror) {\r\n                                options.onerror(data, status, headers, config);\r\n                            } else {\r\n                                console.log(data, status, headers, config);\r\n                            }\r\n                        });\r\n                    },\r\n                    runWithAction: function () {\r\n                        var args = options.args || {};\r\n                        if (typeof(args) == 'function') {\r\n                            args = args();\r\n                        }\r\n\t\t\t\t\t\tif(!options.validate(args)){\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar callinfo = {\r\n\t\t\t\t\t\t    success: options.success,\r\n\t\t\t\t\t\t    error: options.error,\r\n\t\t\t\t\t\t};\r\n                        if (options.delayed) {\r\n                            callinfo.delay = 500;\r\n                        }\r\n                        \r\n                        options.action(args, callinfo);\r\n                    },\r\n                    runASyncWithAction: function() {\r\n                        var args = options.args || {};\r\n                        if (typeof(args) == 'function') {\r\n                            args = args();\r\n                        }\r\n                        options.action.begin(args);\r\n                        $timeout(function () {\r\n                            options.action.end(args, function(data, status, headers, config) {\r\n                                if (!!options.success) {\r\n                                    options.success(data, status, headers, config);\r\n                                } else {\r\n                                    console.log(data, status, headers, config);\r\n                                }\r\n                            }, function(data, status, headers, config) {\r\n                                if (!!options.error) {\r\n                                    options.error(data, status, headers, config);\r\n                                } else {\r\n                                    console.log(data, status, headers, config);\r\n                                }\r\n                            })\r\n                        }, options.lag);\r\n                    },\r\n                    runASync: function () {\r\n                        $http(options.httpstart);\r\n                        $timeout(function () {\r\n                            $http(options.httpend).success(function (data, status, headers, config) {\r\n                                if (!!options.success) {\r\n                                    options.success(data, status, headers, config);\r\n                                } else {\r\n                                    console.log(data, status, headers, config);\r\n                                }\r\n                            }).error(function (data, status, headers, config) {\r\n                                if (!!options.error) {\r\n                                    options.error(data, status, headers, config);\r\n                                } else {\r\n                                    console.log(data, status, headers, config);\r\n                                }\r\n                            });\r\n                        }, options.lag);\r\n                    },\r\n                    run: function (event) {\r\n                        !!event && event.stopPropagation();\r\n                        if (!!options.action) {\r\n                            if (options.async) {\r\n                                this.runASyncWithAction();\r\n                            } else {\r\n                                this.runWithAction();\r\n                            }\r\n                        }\r\n                        else if (!!options.async) {\r\n                            this.runASync();\r\n                        } else {\r\n                            this.runSync();\r\n                        }\r\n                    },\r\n                    auto: false,\r\n                    changeAuto: function (event) {\r\n                        !!event && event.stopPropagation();\r\n                        if (!!options.persistentCode) {\r\n                            localStorage.setItem(options.persistentCode, this.auto);\r\n                        }\r\n                        this.checkAuto();\r\n                    },\r\n                    timeout: null,\r\n                    checkAuto: function () {\r\n                        if (this.auto) {\r\n                            if (!this.timeout) {\r\n                                var self = this;\r\n                                this.timeout = $timeout(function () {\r\n                                    self.run();\r\n                                    self.timeout = null;\r\n                                    self.checkAuto();\r\n                                }, options.timeout);\r\n                            }\r\n                        } else {\r\n                            if (!!this.timeout) {\r\n                                $timeout.cancel(this.timeout);\r\n                                this.timeout = null;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                };\r\n                host.refresh.run();\r\n                host.refresh.auto = !!options.auto;\r\n                if (!host.refresh.auto && !!options.persistentCode) {\r\n                    host.refresh.auto = !!JSON.parse(localStorage.getItem(options.persistentCode) || \"false\");\r\n                }\r\n                host.refresh.checkAuto();\r\n            }\r\n        }]);\r\n});\n","define('the-print',[\"the-root\"\r\n], function ($the) {\r\n    return $the(function (root) {\r\n        var printer = root.printer = root.printer || {};\r\n        var ServerPrinterOptions = root.printer.ServerPrinterOptions = function () {\r\n            this.TargetUrl = \"\";\r\n            this.LocalizeUrl = true;\r\n            this.UrlParam = \"reporturl\";\r\n            this.PrintHash = \"print\";\r\n            this.CacheParam = \"cached\";\r\n            this.UseCache = false;\r\n            this.PrintCommand = \"print\";\r\n            this.BasePort = 14075;\r\n            this.DataUrl = \"\";\r\n            this.TitleParam= \"title\";\r\n            this.Title = \"\";\r\n            this.Target =\"_blank\";\r\n        };\r\n        var PrinterOptions = root.printer.PrinterOptions = function(){\r\n            this.PrinterName= \"Bullzip PDF Printer\";\r\n            this.MarginTop= 0;\r\n            this.MarginBottom= 0;\r\n            this.MarginLeft= 0;\r\n            this.MarginRight= 0;\r\n            this.HeaderStrLeft = \"\";\r\n            this.HeaderStrCenter = \"\";\r\n            this.HeaderStrRight = \"\";\r\n            this.FooterStrLeft = \"\";\r\n            this.FooterStrCenter = \"\";\r\n            this.FooterStrRight = \"\";\r\n            this.ShrinkToFit = 0;\r\n            this.PrintBGColors = 1;\r\n            this.PrintBGImages = 1;\r\n\r\n        }\r\n        printer.print = function(options){\r\n            options = $the.cast(PrinterOptions,options);\r\n            jsPrintSetup.setPrinter(options.PrinterName);\r\n            jsPrintSetup.clearSilentPrint();\r\n            jsPrintSetup.setSilentPrint(true);\r\n            jsPrintSetup.setOption('marginTop', options.MarginTop);\r\n            jsPrintSetup.setOption('marginBottom', options.MarginBottom);\r\n            jsPrintSetup.setOption('marginLeft', options.MarginLeft);\r\n            jsPrintSetup.setOption('marginRight', options.MarginRight);\r\n            jsPrintSetup.setOption('headerStrLeft', options.HeaderStrLeft);\r\n            jsPrintSetup.setOption('headerStrCenter', options.HeaderStrCenter);\r\n            jsPrintSetup.setOption('headerStrRight', options.HeaderStrRight);\r\n            jsPrintSetup.setOption('footerStrLeft', options.FooterStrLeft);\r\n            jsPrintSetup.setOption('footerStrCenter',options.FooterStrCenter);\r\n            jsPrintSetup.setOption('footerStrRight', options.FooterStrRight);\r\n            jsPrintSetup.setOption('footerStrRight', options.FooterStrRight);\r\n            jsPrintSetup.setOption('shrinkToFit', options.ShrinkToFit);\r\n            jsPrintSetup.setOption('printBGColors', options.PrintBGColors);\r\n            jsPrintSetup.setOption('printBGImages', options.PrintBGImages);\r\n            jsPrintSetup.print();\r\n            jsPrintSetup.setSilentPrint(false);\r\n        }\r\n        printer.serverPrint = function (options) {\r\n            options = $the.cast(ServerPrinterOptions, options);\r\n\r\n            var title = options.Title || document.title;\r\n            var url = options.TargetUrl;\r\n            if(!options.TargetUrl) {\r\n                var islocal = document.location.hostname == \"127.0.0.1\";\r\n                var issecure = document.location.protocol == \"https:\";\r\n                var port = options.BasePort;\r\n                if (issecure) port += 1;\r\n                if (islocal) port -= 5;\r\n                var url =\r\n                    document.location.protocol + \"//\" +\r\n                    document.location.hostname + \":\" + port + \"/\" +\r\n                    options.PrintCommand;\r\n            }\r\n\r\n            if(!url.match(/\\?/)){\r\n                url+=\"?\";\r\n            }\r\n            if(options.UseCache){\r\n                url += (\"&\"+options.CacheParam+\"=true\");\r\n            }\r\n            url += (\"&\"+options.TitleParam+\"=\"+encodeURIComponent(title));\r\n            var dataurl = options.DataUrl;\r\n            if(!options.DataUrl) {\r\n                dataurl = document.location.protocol + \"//\" + (options.LocalizeUrl ? \"127.0.0.1\" : document.location.hostname) + \":\" + document.location.port +\r\n                    document.location.pathname +\r\n                    document.location.search +\r\n                    document.location.hash;\r\n            }\r\n            if (! dataurl.match(/#/)){\r\n                dataurl+=\"#\";\r\n            }\r\n            if(!!options.PrintHash) {\r\n                dataurl += (\"&\" + options.PrintHash + \"=true\");\r\n            }\r\n            dataurl = encodeURIComponent(dataurl);\r\n            url+=(\"&\"+options.UrlParam+\"=\"+dataurl);\r\n            window.open(url,options.Target);\r\n        }\r\n    });\r\n});\n","define('the-dates',[\"the-object\", \"moment\"], function ($the, $m) {\r\n    return $the(function (root, privates) {\r\n        root.dates = root.dates || {};\r\n        var rusMonthMap = {\r\n            i1 : \"Январь\",\r\n            i2 : \"Февраль\",\r\n            i3 : \"Март\",\r\n            i4 : \"Апрель\",\r\n            i5 : \"Май\",\r\n            i6 : \"Июнь\",\r\n            i7 : \"Июль\",\r\n            i8 : \"Август\",\r\n            i9 : \"Сентябрь\",\r\n            i10 : \"Октябрь\",\r\n            i11 : \"Ноябрь\",\r\n            i12 : \"Декабрь\",\r\n            r1 : \"Января\",\r\n            r2 : \"Февраля\",\r\n            r3 : \"Марта\",\r\n            r4 : \"Апреля\",\r\n            r5 : \"Мая\",\r\n            r6 : \"Июня\",\r\n            r7 : \"Июля\",\r\n            r8 : \"Августа\",\r\n            r9 : \"Сентября\",\r\n            r10 : \"Октября\",\r\n            r11 : \"Ноября\",\r\n            r12 : \"Декабря\"\r\n        };\r\n        var toRusMonth = root.dates.toRusMonth = function(month,padezh){\r\n            var n = 0;\r\n            padezh = padezh || 'i';\r\n            if(!!month){\r\n                if(typeof month == \"number\"){\r\n                    n = month;\r\n                }\r\n                else if(typeof month == \"string\"){\r\n                    n = Number(month);\r\n                    if(Number.isNaN(n)){\r\n                        return month;\r\n                    }\r\n                }\r\n                else if(month instanceof Date){\r\n                    n = month.getMonth()+1;\r\n                }\r\n            }\r\n            if(n==0){\r\n                n = (new Date()).getMonth()+1;\r\n            }\r\n\r\n            var key = padezh+n;\r\n            if(rusMonthMap.hasOwnProperty(key)){\r\n                return rusMonthMap[key];\r\n            }\r\n            return \"НЕ ОПР\";\r\n        };\r\n        var DEFAULT_DATE_FORMATS = root.dates.DEFAULT_DATE_FORMATS = [\r\n            \"DD.MM.YYYY HH:mm:ss\",\r\n            \"YYYY-MM-DD HH:mm:ss\",\r\n            \"YYYYMMDDHHmmss\",\r\n            \"ddd, DD MMM YYYY HH:mm:ss ZZ\"\r\n        ];\r\n        var toDateFormat = root.dates.toDateFormat =  function(src){\r\n            src = src || 'ru';\r\n            if(src=='ru')return \"DD.MM.YYYY\";\r\n            if(src=='RU')return \"DD.MM.YYYY HH:mm:ss\";\r\n            if(src=='SQL')return \"YYYYMMDD HH:mm:ss\";\r\n            if(src=='N')return \"YYYYMMDDHHmmss\";\r\n            if(src=='RFC')return \"ddd, DD MMM YYYY HH:mm:ss ZZ\";\r\n            return src;\r\n        }\r\n        var toDate = root.dates.toDate = function (src, formats) {\r\n            if (!src)return null;\r\n            if (src instanceof Date)return src;\r\n            if (typeof src == \"string\") {\r\n                formats = formats || root.dates.DEFAULT_DATE_FORMATS;\r\n                if (typeof(formats) == \"string\")formats = [formats];\r\n                for (var i = 0; i < formats.length; i++) {\r\n                    var format = formats[i];\r\n                    var md = moment(src, format);\r\n                    if (md.isValid()) {\r\n                        return md.toDate();\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            return null;\r\n        }\r\n        var DateRange = root.dates.DateRange = function () {\r\n            this.Basis = null;\r\n            this.Start = null;\r\n            this.Finish = null;\r\n            this.Range = \"\";\r\n            this.IsValid = false;\r\n            this.SingleDate = false;\r\n            this.IsInfinity = false;\r\n        };\r\n        DateRange.prototype.formatStart = function(format){\r\n            return $m(this.Start).format(toDateFormat(format));\r\n        }\r\n        DateRange.prototype.formatFinish = function(format){\r\n            return $m(this.Finish).format(toDateFormat(format));\r\n        }\r\n\r\n        DateRange.prototype.format = function( format,template){\r\n            format = toDateFormat(format);\r\n            var templates = {\r\n                single : \"за ${s}\",\r\n                ranged : \"с ${s} по ${f}\",\r\n                infinity  : \"без ограничений\"\r\n            }\r\n            if(!!template){\r\n                if(typeof template == \"string\"){\r\n                    templates.ranged = template;\r\n                }else if(Array.isArray(template)){\r\n                    if(template.length>0)templates.ranged = template[0];\r\n                    if(template.length>1)templates.single = template[1];\r\n                    if(template.length>2)templates.infinity = template[2];\r\n                }else{\r\n                    $the.extend(templates,template);\r\n                }\r\n            }\r\n\r\n            var subst = {\r\n                b: $m(this.Basis).format(format),\r\n                s: this.formatStart(format),\r\n                f : this.formatFinish(format)\r\n            };\r\n            var wtempl = templates.ranged;\r\n            if(this.SingleDate && !format.match(/HH/)){\r\n                wtempl = templates.single;\r\n            }\r\n            else if(this.IsInfinity){\r\n                wtempl = templates.infinity;\r\n            }\r\n            return $the.interpolate(wtempl,subst);\r\n\r\n        }\r\n        DateRange.create = function (range, basis) {\r\n            basis = toDate(basis || new Date());\r\n            var result = $the.cast(DateRange, {Basis: basis, Range: range});\r\n            DateRange.evaluate(result);\r\n            return result;\r\n        };\r\n\r\n        DateRange.parse  = function(hash,options ){\r\n            var getHash = $the.hash.get;\r\n            options = $the.extend({\r\n                UseRange : \"userange\",\r\n                Range : \"range\",\r\n                Start : \"start\",\r\n                Finish : \"finish\",\r\n                Basis : \"today\"\r\n            },options);\r\n            var userange = Boolean(getHash(options.UseRange,hash));\r\n            if(userange) {\r\n                var range = getHash(options.Range, hash);\r\n                var basis = toDate(getHash(options.Basis, hash));\r\n                return DateRange.create(range,basis);\r\n            }else {\r\n                var start = toDate(getHash(options.Start, hash));\r\n                var finish = toDate(getHash(options.Finish, hash));\r\n                var result = new DateRange();\r\n                result.IsValid = true;\r\n                result.Range = \"direct\";\r\n                result.Start = start;\r\n                result.Finish = finish;\r\n                return result;\r\n            }\r\n        };\r\n        DateRange.evaluate = function (range) {\r\n            if(\"any\"==range.Range){\r\n                range.IsValid = true;\r\n                range.IsInfinity = true;\r\n            }\r\n            if (\"today\" == range.Range) {\r\n                range.IsValid = true;\r\n                var b = $m(range.Basis);\r\n                range.Finish = b.clone().endOf('day').toDate();\r\n                range.Start = b.clone().startOf('day').toDate();\r\n                return;\r\n            }\r\n            if (\"yesterday\" == range.Range) {\r\n                range.IsValid = true;\r\n                var b = $m(range.Basis).add(-1, 'days');\r\n                range.Start = b.clone().startOf('day').toDate();\r\n                range.Finish = b.clone().endOf('day').toDate();\r\n                return;\r\n            }\r\n            var match = range.Range.match(/^\\s*((-?)\\d+)([hdmyw])\\s*$/);\r\n            if(match){\r\n                range.IsValid = true;\r\n                var minus = match[2];\r\n                var count = Number(match[1]);\r\n                var type = match[3];\r\n                if(type == \"h\")type=\"hour\";\r\n                else if(type==\"d\")type=\"day\";\r\n                else if(type==\"m\")type=\"month\";\r\n                else if(type==\"y\")type=\"year\";\r\n                else if(type==\"w\")type=\"week\";\r\n                range.Finish = range.Basis;\r\n                if(count!=0) {\r\n                    range.Start = $m(range.Finish).add(count, type).toDate();\r\n                }else{\r\n                    if(minus){\r\n                        range.Start = $m(range.Finish).startOf(type);\r\n                    }else{\r\n                        range.Start = $m(range.Finish).endOf(type);\r\n                    }\r\n                }\r\n                if(range.Finish <  range.Start){\r\n                    range.Finish = range.Start;\r\n                    range.Start = range.Basis;\r\n                }\r\n                if(type!='hour'){\r\n                    range.Start = $m(range.Start).startOf('day').toDate();\r\n                    range.Finish = $m(range.Finish).endOf('day').toDate();\r\n                }\r\n\r\n                if($m(range.Start).format(\"YYYYMMDD\")==$m(range.Finish).format(\"YYYYMMDD\")){\r\n                    range.SingleDate = true;\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n    });\r\n});\n","define('the-hash',[\"the-object\"], function ($the) {\r\n    return $the(function (root, privates) {\r\n        var hash = root.hash = (root.hash || {});\r\n        hash.get=function(name, userhash, decode){\r\n            if(typeof(userhash)==\"undefined\")\r\n            {\r\n                decode = true;\r\n                userhash = document.location.hash;\r\n            }\r\n            userhash = userhash || \"\";\r\n            if(decode){\r\n                name = encodeURIComponent(name);\r\n            }\r\n            var searchName = name.replace(/\\./g,\"\\\\.\");\r\n            if(decode){\r\n                searchName = searchName.replace(/%20/g,'(\\\\+|%20)')\r\n            }\r\n            var regex = new RegExp(\"&\" + searchName + \"=([^&]*)\",\"i\");\r\n            var match = userhash.match(regex);\r\n            if (match){\r\n                var val = match[match.length-1];\r\n                if(decode){\r\n                    return decodeURIComponent(val.replace(/\\+/g,' '));\r\n                }\r\n                return val;\r\n            }\r\n            return \"\";\r\n        };\r\n\r\n        hash.setFlag = function(name,value,userhash,encode){\r\n            if(!!value){\r\n                value= 1;\r\n            }else{\r\n                value = null;\r\n            }\r\n            return this.set(name,value,userhash,encode);\r\n        }\r\n\r\n        hash.set=function(name,value,userhash,encode){\r\n            var setlocation = false;\r\n            if(typeof userhash == \"undefined\"){\r\n                userhash = document.location.hash;\r\n                encode = true;\r\n                setlocation = true;\r\n            }\r\n            var remove = (null==value || typeof(value)==\"undefined\");\r\n            name= name || \"__value\";\r\n            userhash = userhash || \"\";\r\n            value = value || \"\";\r\n            if(encode){\r\n                value = encodeURIComponent(value);\r\n                name = encodeURIComponent(name);\r\n            }\r\n            value= (remove ? \"\": (\"&\"+name+\"=\"+value));\r\n\r\n            var searchName = name.replace(/\\./g,\"\\\\.\");\r\n            if(encode){\r\n                searchName = searchName.replace(/%20/g,'(\\\\+|%20)')\r\n            }\r\n            var regex = new RegExp(\"&\" + searchName + \"=([^&]*)\",\"i\");\r\n            userhash = userhash.replace(regex,value.replace(\"$\",\"$$\"));\r\n            if(setlocation){\r\n                if(userhash.length==0)userhash = \"#\";\r\n                if(userhash[0]!=\"#\")userhash = \"#\"+userhash;\r\n                if(!document.location.hash){\r\n                    document.location.href+=userhash;\r\n                }else{\r\n\r\n                    document.location.href =\r\n                        document.location.href.match(/^([^#]+)/)[0]+userhash;\r\n                }\r\n            }\r\n            return userhash;\r\n        };\r\n    });\r\n});\n","define('the-report',[\"the-object\",\"the-hash\"], function ($the, $m) {\r\n    return $the(function (root, privates) {\r\n\r\n        var report = root.report = (root.report || {});\r\n        report.getDefaultContext = function(options,doParse,hash,decode){\r\n            var getHash = $the.hash.get;\r\n            var s = $the.extend({\r\n                showComments: true,\r\n                showExtensions: true,\r\n                numex : 1,\r\n                addr1 :\"\",\r\n                addr2:\"\",\r\n                addr3:\"\",\r\n                addr4:\"\",\r\n                num : \"\",\r\n                advcomment:\"\",\r\n                day : \"\",\r\n                month : $the.dates.toRusMonth(null,'r').toLowerCase()\r\n            },options);\r\n            if(typeof  doParse == \"undefined\"){\r\n                doParse = true;\r\n            }\r\n            if(!!doParse) {\r\n                var numex = getHash(\"numex\",hash,decode);\r\n                if (numex) {\r\n                    s.numex = numex;\r\n                }\r\n                s.addr1 = getHash(\"addr1\",hash,decode);\r\n                s.addr2 = getHash(\"addr2\",hash,decode);\r\n                s.addr3 = getHash(\"addr3\",hash,decode);\r\n                s.addr4 = getHash(\"addr4\",hash,decode);\r\n                s.num = getHash(\"num\",hash,decode);\r\n                s.advcomment = getHash(\"advcomment\",hash,decode);\r\n                s.day = getHash(\"day\",hash,decode) || moment().date();\r\n                s.month = getHash(\"month\",hash,decode) || s.month;\r\n                s.showComments = !Boolean(getHash(\"noComments\"),hash,decode);\r\n                s.showExtensions = !Boolean(getHash(\"noExt\"),hash,decode);\r\n            }\r\n\r\n            return s;\r\n        }\r\n        report.setupDefaultScope = function($scope){\r\n            $scope.state = $the.report.getDefaultContext();\r\n            $scope.changed = function(name){$hash.set(name,s[name]);}\r\n            $scope.setShowComments = function (val) {\r\n                $scope.state.showComments = val;\r\n                $hash.setFlag(\"noComments\",val);\r\n            }\r\n            $scope.setShowExtensions = function (val) {\r\n                $scope.state.showExtensions = val;\r\n                $hash.setFlag(\"noExt\",val);\r\n            }\r\n\r\n            $scope.serverPrint = function(){\r\n                $the.printer.serverPrint({Target:\"_blank\"});\r\n            }\r\n            $scope.canPrint = typeof jsPrintSetup != \"undefined\";\r\n            $scope.doPrint = function(){\r\n                setTimeout(function(){\r\n                    $the.printer.print();\r\n                },1000);\r\n            }\r\n            return $scope.state;\r\n        }\r\n    });\r\n});\n","\r\ndefine('the',[\r\n    \"the-root\",\r\n    \"the-object\",\r\n    \"the-interpolation\",\r\n    \"the-jsonify\",\r\n    \"the-http\",\r\n    \"the-expression\",\r\n    \"the-collections-core\",\r\n    \"the-collections-layered\",\r\n    \"the-collections-linked\",\r\n    \"the-collections-history\",\r\n    \"the-collections-linq\",\r\n    \"the-action\",\r\n    'the-angular-unsafe',\r\n    'the-angular-autocomplete',\r\n    'the-angular-controlgroup',\r\n    'the-angular-viewcontext',\r\n    'the-angular-onenter',\r\n    'the-design-stackedbutton',\r\n    'the-wiki',\r\n    'the-menu',\r\n    'the-settings',\r\n    'the-errorcatcher',\r\n    'the-refresh',\r\n    'autocomplete-html',\r\n    'the-print',\r\n    'the-dates',\r\n    'the-report',\r\n    'the-hash',\r\n], function ($the) {\r\n    return $the;\r\n});\r\n//# sourceMappingURL=the.js.map;\n"]}